"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5607],{5607:(h,f,t)=>{t.r(f),t.d(f,{AuthPageModule:()=>J});var l=t(6814),a=t(95),d=t(6761),u=t(2692),m=t(5861),o=t(5879),g=t(3126),v=t(5386),A=t(74),y=t(5890),P=t(140);function Z(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"El Correo es requerido"),o.qZA())}function T(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"Ingrese un correo v\xe1lido"),o.qZA())}function I(e,i){if(1&e&&(o.TgZ(0,"div",11),o.YNc(1,Z,2,0,"div",12),o.YNc(2,T,2,0,"div",12),o.qZA()),2&e){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.required),o.xp6(1),o.Q6J("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.email)}}function S(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"La contrase\xf1a es requerida"),o.qZA())}function U(e,i){if(1&e&&(o.TgZ(0,"div",11),o.YNc(1,S,2,0,"div",12),o.qZA()),2&e){const s=o.oxw();o.xp6(1),o.Q6J("ngIf",null==s.form.controls.password.errors?null:s.form.controls.password.errors.required)}}const x=[{path:"",component:(()=>{var e;class i{constructor(r,n){this.firebaseSvc=r,this.utilsSvc=n,this.form=new a.cw({email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required])})}ngOnInit(){}submit(){var r=this;return(0,m.Z)(function*(){if(r.form.valid){const n=yield r.utilsSvc.loading();yield n.present(),r.firebaseSvc.signIn(r.form.value).then(c=>{r.getUserInfo(c.user.uid)}).catch(c=>{console.log(c),r.utilsSvc.presentToast({message:c.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})}})()}getUserInfo(r){var n=this;return(0,m.Z)(function*(){if(n.form.valid){const c=yield n.utilsSvc.loading();yield c.present();let L=`users/${r}`;try{n.firebaseSvc.getDocument(L).then(p=>{n.utilsSvc.saveInLocalStorage("user",p),localStorage.setItem("ingresado","true"),n.utilsSvc.routerLink("/main/home"),n.form.reset(),console.log("exito"),n.utilsSvc.presentToast({message:`Te damos la bienvenida ${p.name}`,duration:1500,color:"primary",position:"middle",icon:"person-circle-outline"})})}catch(p){p instanceof Error&&n.utilsSvc.presentToast({message:p.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"}),console.log("err")}finally{c.dismiss()}}})()}}return(e=i).\u0275fac=function(r){return new(r||e)(o.Y36(g.O),o.Y36(v.F))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-auth"]],decls:17,vars:6,consts:[["title","Login"],[1,"d-flex-center"],[1,"auth-form",3,"formGroup","ngSubmit","keypress.enter"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["routerLink","forgot-password",1,"ion-text-end"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","log-in-outline"],["mode","ios","routerLink","sign-up","expand","block","fill","outline",1,"ion-margin-top"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(r,n){1&r&&(o._UZ(0,"app-header",0),o.TgZ(1,"ion-content")(2,"div",1)(3,"form",2),o.NdJ("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),o._UZ(4,"app-logo")(5,"app-custom-input",3),o.YNc(6,I,3,2,"div",4),o._UZ(7,"app-custom-input",5),o.YNc(8,U,2,1,"div",4),o.TgZ(9,"p",6),o._uU(10,"\xbfOlvidaste tu contrase\xf1a?"),o.qZA(),o.TgZ(11,"ion-button",7),o._uU(12," Ingresar "),o._UZ(13,"ion-icon",8),o.qZA(),o.TgZ(14,"ion-button",9),o._uU(15," Reg\xedstrate "),o._UZ(16,"ion-icon",10),o.qZA()()()()),2&r&&(o.xp6(3),o.Q6J("formGroup",n.form),o.xp6(2),o.Q6J("control",n.form.controls.email),o.xp6(1),o.Q6J("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),o.xp6(1),o.Q6J("control",n.form.controls.password),o.xp6(1),o.Q6J("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),o.xp6(3),o.Q6J("disabled",n.form.invalid))},dependencies:[l.O5,a._Y,a.JL,d.YG,d.W2,d.gu,d.YI,u.rH,A.G,y.O,P.R,a.sg]}),i})()},{path:"sign-up",loadChildren:()=>t.e(3053).then(t.bind(t,3053)).then(e=>e.SignUpPageModule)},{path:"forgot-password",loadChildren:()=>t.e(4159).then(t.bind(t,4159)).then(e=>e.ForgotPasswordPageModule)}];let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(x),u.Bz]}),i})();var C=t(6208);let J=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.ez,a.u5,d.Pc,M,C.m]}),i})()},140:(h,f,t)=>{t.d(f,{R:()=>d});var l=t(5879),a=t(6761);let d=(()=>{var u;class m{constructor(){}ngOnInit(){}}return(u=m).\u0275fac=function(g){return new(g||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-logo"]],decls:6,vars:0,consts:[["src","../../../../assets/SlayersMark.png","alt",""],["color","primary"]],template:function(g,v){1&g&&(l._UZ(0,"img",0),l.TgZ(1,"ion-text",1)(2,"h1")(3,"strong"),l._uU(4,"Mura's"),l.qZA(),l._uU(5,"Store"),l.qZA()())},dependencies:[a.yW],styles:[".shield-icon[_ngcontent-%COMP%]{font-size:80px;margin-top:40px}h1[_ngcontent-%COMP%]{margin-top:0}"]}),m})()}}]);