(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2194:(rn,it,x)=>{"use strict";x.d(it,{nm:()=>Ur});var d=x(2793),we=(x(5879),x(8726),x(4097),x(5861)),De=x(4303),fe=x(4537),je=x(9058),Fe=x(7879);const ue=new Map,de={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function me(ot){return ue.get(ot)||Object.assign({},de)}function Xe(){return ye}const et="https://content-firebaseappcheck.googleapis.com/v1",ct="exchangeDebugToken",We={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ve{constructor(nt,V,$,ie,be){if(this.operation=nt,this.retryPolicy=V,this.getWaitDuration=$,this.lowerBound=ie,this.upperBound=be,this.pending=null,this.nextErrorWaitInterval=ie,ie>be)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(nt){var V=this;return(0,we.Z)(function*(){V.stop();try{V.pending=new je.BH,yield function _e(ot){return new Promise(nt=>{setTimeout(nt,ot)})}(V.getNextRun(nt)),V.pending.resolve(),yield V.pending.promise,V.pending=new je.BH,yield V.operation(),V.pending.resolve(),yield V.pending.promise,V.process(!0).catch(()=>{})}catch($){V.retryPolicy($)?V.process(!1).catch(()=>{}):V.stop()}})()}getNextRun(nt){if(nt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const V=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),V}}}const Re=new je.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ee(ot){if(!me(ot).activated)throw Re.create("use-before-activation",{appName:ot.name})}function Ae(ot,nt){return Be.apply(this,arguments)}function Be(){return(Be=(0,we.Z)(function*({url:ot,body:nt},V){const $={"Content-Type":"application/json"},ie=V.getImmediate({optional:!0});if(ie){const Vt=yield ie.getHeartbeatsHeader();Vt&&($["X-Firebase-Client"]=Vt)}const be={method:"POST",body:JSON.stringify(nt),headers:$};let dt,rt;try{dt=yield fetch(ot,be)}catch(Vt){throw Re.create("fetch-network-error",{originalErrorMessage:null==Vt?void 0:Vt.message})}if(200!==dt.status)throw Re.create("fetch-status-error",{httpStatus:dt.status});try{rt=yield dt.json()}catch(Vt){throw Re.create("fetch-parse-error",{originalErrorMessage:null==Vt?void 0:Vt.message})}const Ct=rt.ttl.match(/^([\d.]+)(s)$/);if(!Ct||!Ct[2]||isNaN(Number(Ct[1])))throw Re.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${rt.ttl}`});const Wt=1e3*Number(Ct[1]),Lt=Date.now();return{token:rt.token,expireTimeMillis:Lt+Wt,issuedAtTimeMillis:Lt}})).apply(this,arguments)}function St(ot,nt){const{projectId:V,appId:$,apiKey:ie}=ot.options;return{url:`${et}/projects/${V}/apps/${$}:${ct}?key=${ie}`,body:{debug_token:nt}}}const at="firebase-app-check-database",se=1,ge="firebase-app-check-store";let Qe=null;function Tn(){return(Tn=(0,we.Z)(function*(ot,nt){const $=(yield function st(){return Qe||(Qe=new Promise((ot,nt)=>{try{const V=indexedDB.open(at,se);V.onsuccess=$=>{ot($.target.result)},V.onerror=$=>{var ie;nt(Re.create("storage-open",{originalErrorMessage:null===(ie=$.target.error)||void 0===ie?void 0:ie.message}))},V.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(ge,{keyPath:"compositeKey"})}}catch(V){nt(Re.create("storage-open",{originalErrorMessage:null==V?void 0:V.message}))}}),Qe)}()).transaction(ge,"readwrite"),be=$.objectStore(ge).put({compositeKey:ot,value:nt});return new Promise((dt,rt)=>{be.onsuccess=Ct=>{dt()},$.onerror=Ct=>{var Wt;rt(Re.create("storage-set",{originalErrorMessage:null===(Wt=Ct.target.error)||void 0===Wt?void 0:Wt.message}))}})})).apply(this,arguments)}const Ht=new Fe.Yd("@firebase/app-check");function vn(ot,nt){return(0,je.hl)()?function At(ot,nt){return function tt(ot,nt){return Tn.apply(this,arguments)}(function gt(ot){return`${ot.options.appId}-${ot.name}`}(ot),nt)}(ot,nt).catch(V=>{Ht.warn(`Failed to write token to IndexedDB. Error: ${V}`)}):Promise.resolve()}function bn(){return Xe().enabled}function ir(){return lr.apply(this,arguments)}function lr(){return(lr=(0,we.Z)(function*(){const ot=Xe();if(ot.enabled&&ot.token)return ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pn={error:"UNKNOWN_ERROR"};function Un(ot){return je.US.encodeString(JSON.stringify(ot),!1)}function Zn(ot){return cr.apply(this,arguments)}function cr(){return(cr=(0,we.Z)(function*(ot,nt=!1){const V=ot.app;Ee(V);const $=me(V);let be,ie=$.token;if(ie&&!yr(ie)&&($.token=void 0,ie=void 0),!ie){const Ct=yield $.cachedTokenPromise;Ct&&(yr(Ct)?ie=Ct:yield vn(V,void 0))}if(!nt&&ie&&yr(ie))return{token:ie.token};let rt,dt=!1;if(bn()){$.exchangeTokenPromise||($.exchangeTokenPromise=Ae(St(V,yield ir()),ot.heartbeatServiceProvider).finally(()=>{$.exchangeTokenPromise=void 0}),dt=!0);const Ct=yield $.exchangeTokenPromise;return yield vn(V,Ct),$.token=Ct,{token:Ct.token}}try{$.exchangeTokenPromise||($.exchangeTokenPromise=$.provider.getToken().finally(()=>{$.exchangeTokenPromise=void 0}),dt=!0),ie=yield me(V).exchangeTokenPromise}catch(Ct){"appCheck/throttled"===Ct.code?Ht.warn(Ct.message):Ht.error(Ct),be=Ct}return ie?be?rt=yr(ie)?{token:ie.token,internalError:be}:Xr(be):(rt={token:ie.token},$.token=ie,yield vn(V,ie)):rt=Xr(be),dt&&function Sn(ot,nt){const V=me(ot).tokenObservers;for(const $ of V)try{"EXTERNAL"===$.type&&null!=nt.error?$.error(nt.error):$.next(nt)}catch{}}(V,rt),rt})).apply(this,arguments)}function vr(ot){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,we.Z)(function*(ot){const nt=ot.app;Ee(nt);const{provider:V}=me(nt);if(bn()){const $=yield ir(),{token:ie}=yield Ae(St(nt,$),ot.heartbeatServiceProvider);return{token:ie}}{const{token:$}=yield V.getToken();return{token:$}}})).apply(this,arguments)}function Ut(ot,nt){const V=me(ot),$=V.tokenObservers.filter(ie=>ie.next!==nt);0===$.length&&V.tokenRefresher&&V.tokenRefresher.isRunning()&&V.tokenRefresher.stop(),V.tokenObservers=$}function jn(ot){const{app:nt}=ot,V=me(nt);let $=V.tokenRefresher;$||($=function dr(ot){const{app:nt}=ot;return new Ve((0,we.Z)(function*(){let $;if($=me(nt).token?yield Zn(ot,!0):yield Zn(ot),$.error)throw $.error;if($.internalError)throw $.internalError}),()=>!0,()=>{const V=me(nt);if(V.token){let $=V.token.issuedAtTimeMillis+.5*(V.token.expireTimeMillis-V.token.issuedAtTimeMillis)+3e5;return $=Math.min($,V.token.expireTimeMillis-3e5),Math.max(0,$-Date.now())}return 0},We.RETRIAL_MIN_WAIT,We.RETRIAL_MAX_WAIT)}(ot),V.tokenRefresher=$),!$.isRunning()&&V.isTokenAutoRefreshEnabled&&$.start()}function yr(ot){return ot.expireTimeMillis-Date.now()>0}function Xr(ot){return{token:Un(Pn),error:ot}}class zr{constructor(nt,V){this.app=nt,this.heartbeatServiceProvider=V}_delete(){const{tokenObservers:nt}=me(this.app);for(const V of nt)Ut(this.app,V.next);return Promise.resolve()}}const wn="app-check-internal";!function Jt(){(0,De.Xd)(new fe.wA("app-check",ot=>function br(ot,nt){return new zr(ot,nt)}(ot.getProvider("app").getImmediate(),ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ot,nt,V)=>{ot.getProvider(wn).initialize()})),(0,De.Xd)(new fe.wA(wn,ot=>function fr(ot){return{getToken:nt=>Zn(ot,nt),getLimitedUseToken:()=>vr(ot),addTokenListener:nt=>function Fn(ot,nt,V,$){const{app:ie}=ot,be=me(ie);if(be.tokenObservers=[...be.tokenObservers,{next:V,error:$,type:nt}],be.token&&yr(be.token)){const rt=be.token;Promise.resolve().then(()=>{V({token:rt.token}),jn(ot)}).catch(()=>{})}be.cachedTokenPromise.then(()=>jn(ot))}(ot,"INTERNAL",nt),removeTokenListener:nt=>Ut(ot.app,nt)}}(ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.KN)("@firebase/app-check","0.8.0")}();class Ur{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},8726:(rn,it,x)=>{"use strict";x.d(it,{Ot:()=>X}),x(4097),x(5879);class X{constructor(Ce){return Ce}}},6796:(rn,it,x)=>{"use strict";x.d(it,{zQ:()=>Dt,ww:()=>jt,rT:()=>Ye,f7:()=>Ae,L6:()=>Oe,_Q:()=>Ee,lh:()=>pe,Qv:()=>Re,nw:()=>Be});var d=x(5879),g=x(8645),X=x(2096),re=x(5592),we=x(2459),De=x(3019),fe=x(3093),je=x(4664),Fe=x(7398),ue=x(4552);class de extends g.x{constructor(at=1/0,se=1/0,ge=ue.l){super(),this._bufferSize=at,this._windowTime=se,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,at),this._windowTime=Math.max(1,se)}next(at){const{isStopped:se,_buffer:ge,_infiniteTimeWindow:Me,_timestampProvider:Qe,_windowTime:st}=this;se||(ge.push(at),!Me&&ge.push(Qe.now()+st)),this._trimBuffer(),super.next(at)}_subscribe(at){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(at),{_infiniteTimeWindow:ge,_buffer:Me}=this,Qe=Me.slice();for(let st=0;st<Qe.length&&!at.closed;st+=ge?1:2)at.next(Qe[st]);return this._checkFinalizedStatuses(at),se}_trimBuffer(){const{_bufferSize:at,_timestampProvider:se,_buffer:ge,_infiniteTimeWindow:Me}=this,Qe=(Me?1:2)*at;if(at<1/0&&Qe<ge.length&&ge.splice(0,ge.length-Qe),!Me){const st=se.now();let ut=0;for(let At=1;At<ge.length&&ge[At]<=st;At+=2)ut=At;ut&&ge.splice(0,ut+1)}}}var ye=x(3020);function me(St,at,se){let ge,Me=!1;return St&&"object"==typeof St?({bufferSize:ge=1/0,windowTime:at=1/0,refCount:Me=!1,scheduler:se}=St):ge=null!=St?St:1/0,(0,ye.B)({connector:()=>new de(ge,at,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Me})}var Ne=x(1374),Xe=x(4674);function et(St,at){return(0,Xe.m)(at)?(0,je.w)(()=>St,at):(0,je.w)(()=>St)}var Ue=x(5137),Se=x(2181),ct=x(2793),We=x(6304),Ce=x(6814),Ve=x(2194),_e=x(120);const Re=new d.OlP("angularfire2.auth.use-emulator"),Oe=new d.OlP("angularfire2.auth.settings"),Ee=new d.OlP("angularfire2.auth.tenant-id"),Ye=new d.OlP("angularfire2.auth.langugage-code"),pe=new d.OlP("angularfire2.auth.use-device-language"),Ae=new d.OlP("angularfire.auth.persistence"),Be=(St,at,se,ge,Me,Qe,st,ut)=>(0,We.cc)(`${St.name}.auth`,"AngularFireAuth",St.name,()=>{const At=at.runOutsideAngular(()=>St.auth());if(se&&At.useEmulator(...se),ge&&(At.tenantId=ge),At.languageCode=Me,Qe&&At.useDeviceLanguage(),st)for(const[Tt,tn]of Object.entries(st))At.settings[Tt]=tn;return ut&&At.setPersistence(ut),At},[se,ge,Me,Qe,st,ut]);let Dt=(()=>{class St{constructor(se,ge,Me,Qe,st,ut,At,Tt,tn,tt,Tn,mt){const yt=new g.x,gt=(0,X.of)(void 0).pipe((0,fe.Q)(st.outsideAngular),(0,je.w)(()=>Qe.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,8977)))),(0,Fe.U)(()=>(0,We.on)(se,Qe,ge)),(0,Fe.U)(Ht=>Be(Ht,Qe,ut,Tt,tn,tt,At,Tn)),me({bufferSize:1,refCount:!1}));if((0,Ce.PM)(Me))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{gt.pipe((0,Ne.P)()).subscribe();const Xt=gt.pipe((0,je.w)(cn=>cn.getRedirectResult().then(dn=>dn,()=>null)),ct.iC,me({bufferSize:1,refCount:!1})),_n=gt.pipe((0,je.w)(cn=>new re.y(dn=>({unsubscribe:Qe.runOutsideAngular(()=>cn.onAuthStateChanged(bn=>dn.next(bn),bn=>dn.error(bn),()=>dn.complete()))})))),vn=gt.pipe((0,je.w)(cn=>new re.y(dn=>({unsubscribe:Qe.runOutsideAngular(()=>cn.onIdTokenChanged(bn=>dn.next(bn),bn=>dn.error(bn),()=>dn.complete()))}))));this.authState=Xt.pipe(et(_n),(0,Ue.R)(st.outsideAngular),(0,fe.Q)(st.insideAngular)),this.user=Xt.pipe(et(vn),(0,Ue.R)(st.outsideAngular),(0,fe.Q)(st.insideAngular)),this.idToken=this.user.pipe((0,je.w)(cn=>cn?(0,we.D)(cn.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,je.w)(cn=>cn?(0,we.D)(cn.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,De.T)(Xt,yt,this.authState.pipe((0,Se.h)(cn=>!cn))).pipe((0,Fe.U)(cn=>null!=cn&&cn.user?cn:null),(0,Ue.R)(st.outsideAngular),(0,fe.Q)(st.insideAngular))}return(0,We.pX)(this,gt,Qe,{spy:{apply:(Ht,Xt,_n)=>{(Ht.startsWith("signIn")||Ht.startsWith("createUser"))&&_n.then(vn=>yt.next(vn))}}})}}return St.\u0275fac=function(se){return new(se||St)(d.LFG(We.Dh),d.LFG(We.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ct.HU),d.LFG(Re,8),d.LFG(Oe,8),d.LFG(Ee,8),d.LFG(Ye,8),d.LFG(pe,8),d.LFG(Ae,8),d.LFG(Ve.nm,8))},St.\u0275prov=d.Yz7({token:St,factory:St.\u0275fac,providedIn:"any"}),St})(),jt=(()=>{class St{constructor(){_e.Z.registerVersion("angularfire",ct.q4.full,"auth-compat")}}return St.\u0275fac=function(se){return new(se||St)},St.\u0275mod=d.oAB({type:St}),St.\u0275inj=d.cJS({providers:[Dt]}),St})()},6304:(rn,it,x)=>{"use strict";x.d(it,{Dh:()=>je,GT:()=>De,cc:()=>Ne,hO:()=>me,on:()=>ue,pX:()=>we,xv:()=>Fe});var d=x(5879),g=x(120),X=x(2793);rn=x.hmd(rn);const re=["ngOnDestroy"],we=(Se,ct,We,Ce={})=>new Proxy(Se,{get:(Ve,_e)=>We.runOutsideAngular(()=>{var He;if(Se[_e])return!(null===(He=null==Ce?void 0:Ce.spy)||void 0===He)&&He.get&&Ce.spy.get(_e,Se[_e]),Se[_e];if(re.indexOf(_e)>-1)return()=>{};const Re=ct.toPromise().then(Oe=>{const Ee=Oe&&Oe[_e];return"function"==typeof Ee?Ee.bind(Oe):Ee&&Ee.then?Ee.then(Ye=>We.run(()=>Ye)):We.run(()=>Ee)});return new Proxy(()=>{},{get:(Oe,Ee)=>Re[Ee],apply:(Oe,Ee,Ye)=>Re.then(pe=>{var Ae;const Be=pe&&pe(...Ye);return!(null===(Ae=null==Ce?void 0:Ce.spy)||void 0===Ae)&&Ae.apply&&Ce.spy.apply(_e,Ye,Be),Be})})})}),De=(Se,ct)=>{ct.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Ce=>{Object.defineProperty(Se.prototype,Ce,Object.getOwnPropertyDescriptor(We.prototype||We,Ce))})})};class fe{constructor(ct){return ct}}const je=new d.OlP("angularfire2.app.options"),Fe=new d.OlP("angularfire2.app.name");function ue(Se,ct,We){const Ve="object"==typeof We&&We||{};Ve.name=Ve.name||"string"==typeof We&&We||"[DEFAULT]";const He=g.Z.apps.filter(Re=>Re&&Re.name===Ve.name)[0]||ct.runOutsideAngular(()=>g.Z.initializeApp(Se,Ve));try{JSON.stringify(Se)!==JSON.stringify(He.options)&&de("error",`${He.name} Firebase App already initialized with different options${rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(He)}const de=(Se,...ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...ct)},ye={provide:fe,useFactory:ue,deps:[je,d.R0b,[new d.FiY,Fe]]};let me=(()=>{class Se{constructor(We){g.Z.registerVersion("angularfire",X.q4.full,"core"),g.Z.registerVersion("angularfire",X.q4.full,"app-compat"),g.Z.registerVersion("angular",d.q4F.full,We.toString())}static initializeApp(We,Ce){return{ngModule:Se,providers:[{provide:je,useValue:We},{provide:Fe,useValue:Ce}]}}}return Se.\u0275fac=function(We){return new(We||Se)(d.LFG(d.Lbi))},Se.\u0275mod=d.oAB({type:Se}),Se.\u0275inj=d.cJS({providers:[ye]}),Se})();function Ne(Se,ct,We,Ce,Ve){const[,_e,He]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Se)||[];if(_e)return function Xe(Se,ct){try{return Se.toString()===ct.toString()}catch{return Se===ct}}(Ve,He)||(Ue("error",`${ct} was already initialized on the ${We} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:Ve,was:He})),_e;{const Re=Ce();return globalThis.\u0275AngularfireInstanceCache.push([Se,Re,Ve]),Re}}const et=!!rn.hot,Ue=(Se,...ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Se](...ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(rn,it,x)=>{"use strict";x.d(it,{q4:()=>Cd,iC:()=>xu,HU:()=>fo,vb:()=>Ru,JM:()=>up,u3:()=>uc});var d=x(5879),g=x(4097),X=x(5861),re=x(4303),we=x(9058),De=x(4537),fe=x(7879);const je=(S,O)=>O.some(Y=>S instanceof Y);let Fe,ue;const me=new WeakMap,Ne=new WeakMap,Xe=new WeakMap,et=new WeakMap,Ue=new WeakMap;let We={get(S,O,Y){if(S instanceof IDBTransaction){if("done"===O)return Ne.get(S);if("objectStoreNames"===O)return S.objectStoreNames||Xe.get(S);if("store"===O)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return He(S[O])},set:(S,O,Y)=>(S[O]=Y,!0),has:(S,O)=>S instanceof IDBTransaction&&("done"===O||"store"===O)||O in S};function _e(S){return"function"==typeof S?function Ve(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...O){return S.apply(Re(this),O),He(me.get(this))}:function(...O){return He(S.apply(Re(this),O))}:function(O,...Y){const Pe=S.call(Re(this),O,...Y);return Xe.set(Pe,O.sort?O.sort():[O]),He(Pe)}}(S):(S instanceof IDBTransaction&&function ct(S){if(Ne.has(S))return;const O=new Promise((Y,Pe)=>{const lt=()=>{S.removeEventListener("complete",Et),S.removeEventListener("error",Bt),S.removeEventListener("abort",Bt)},Et=()=>{Y(),lt()},Bt=()=>{Pe(S.error||new DOMException("AbortError","AbortError")),lt()};S.addEventListener("complete",Et),S.addEventListener("error",Bt),S.addEventListener("abort",Bt)});Ne.set(S,O)}(S),je(S,function de(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,We):S)}function He(S){if(S instanceof IDBRequest)return function Se(S){const O=new Promise((Y,Pe)=>{const lt=()=>{S.removeEventListener("success",Et),S.removeEventListener("error",Bt)},Et=()=>{Y(He(S.result)),lt()},Bt=()=>{Pe(S.error),lt()};S.addEventListener("success",Et),S.addEventListener("error",Bt)});return O.then(Y=>{Y instanceof IDBCursor&&me.set(Y,S)}).catch(()=>{}),Ue.set(O,S),O}(S);if(et.has(S))return et.get(S);const O=_e(S);return O!==S&&(et.set(S,O),Ue.set(O,S)),O}const Re=S=>Ue.get(S),Ye=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],Ae=new Map;function Be(S,O){if(!(S instanceof IDBDatabase)||O in S||"string"!=typeof O)return;if(Ae.get(O))return Ae.get(O);const Y=O.replace(/FromIndex$/,""),Pe=O!==Y,lt=pe.includes(Y);if(!(Y in(Pe?IDBIndex:IDBObjectStore).prototype)||!lt&&!Ye.includes(Y))return;const Et=function(){var Bt=(0,X.Z)(function*(Nn,...An){const er=this.transaction(Nn,lt?"readwrite":"readonly");let Cr=er.store;return Pe&&(Cr=Cr.index(An.shift())),(yield Promise.all([Cr[Y](...An),lt&&er.done]))[0]});return function(An){return Bt.apply(this,arguments)}}();return Ae.set(O,Et),Et}!function Ce(S){We=S(We)}(S=>({...S,get:(O,Y,Pe)=>Be(O,Y)||S.get(O,Y,Pe),has:(O,Y)=>!!Be(O,Y)||S.has(O,Y)}));const Dt="@firebase/installations",jt="0.6.4",St=1e4,at=`w:${jt}`,se="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",Me=36e5,At=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(S){return S instanceof we.ZR&&S.code.includes("request-failed")}function tn({projectId:S}){return`${ge}/projects/${S}/installations`}function tt(S){return{token:S.token,requestStatus:2,expiresIn:_n(S.expiresIn),creationTime:Date.now()}}function Tn(S,O){return mt.apply(this,arguments)}function mt(){return(mt=(0,X.Z)(function*(S,O){const Pe=(yield O.json()).error;return At.create("request-failed",{requestName:S,serverCode:Pe.code,serverMessage:Pe.message,serverStatus:Pe.status})})).apply(this,arguments)}function yt({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Ht(S){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,X.Z)(function*(S){const O=yield S();return O.status>=500&&O.status<600?S():O})).apply(this,arguments)}function _n(S){return Number(S.replace("s","000"))}function dn(){return(dn=(0,X.Z)(function*({appConfig:S,heartbeatServiceProvider:O},{fid:Y}){const Pe=tn(S),lt=yt(S),Et=O.getImmediate({optional:!0});if(Et){const er=yield Et.getHeartbeatsHeader();er&&lt.append("x-firebase-client",er)}const Nn={method:"POST",headers:lt,body:JSON.stringify({fid:Y,authVersion:se,appId:S.appId,sdkVersion:at})},An=yield Ht(()=>fetch(Pe,Nn));if(An.ok){const er=yield An.json();return{fid:er.fid||Y,registrationStatus:2,refreshToken:er.refreshToken,authToken:tt(er.authToken)}}throw yield Tn("Create Installation",An)})).apply(this,arguments)}function bn(S){return new Promise(O=>{setTimeout(O,S)})}const lr=/^[cdef][\w-]{21}$/,xn="";function Pn(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const Y=function Un(S){return function ir(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return lr.test(Y)?Y:xn}catch{return xn}}function Zn(S){return`${S.appName}!${S.appId}`}const cr=new Map;function vr(S,O){const Y=Zn(S);Ut(Y,O),function jn(S,O){const Y=function Sn(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=S=>{Ut(S.data.key,S.data.fid)}),dr}();Y&&Y.postMessage({key:S,fid:O}),function yr(){0===cr.size&&dr&&(dr.close(),dr=null)}()}(Y,O)}function Ut(S,O){const Y=cr.get(S);if(Y)for(const Pe of Y)Pe(O)}let dr=null;const Xr="firebase-installations-database",zr=1,br="firebase-installations-store";let fr=null;function _t(){return fr||(fr=function Oe(S,O,{blocked:Y,upgrade:Pe,blocking:lt,terminated:Et}={}){const Bt=indexedDB.open(S,O),Nn=He(Bt);return Pe&&Bt.addEventListener("upgradeneeded",An=>{Pe(He(Bt.result),An.oldVersion,An.newVersion,He(Bt.transaction))}),Y&&Bt.addEventListener("blocked",()=>Y()),Nn.then(An=>{Et&&An.addEventListener("close",()=>Et()),lt&&An.addEventListener("versionchange",()=>lt())}).catch(()=>{}),Nn}(Xr,zr,{upgrade:(S,O)=>{0===O&&S.createObjectStore(br)}})),fr}function Ze(S,O){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,X.Z)(function*(S,O){const Y=Zn(S),lt=(yield _t()).transaction(br,"readwrite"),Et=lt.objectStore(br),Bt=yield Et.get(Y);return yield Et.put(O,Y),yield lt.done,(!Bt||Bt.fid!==O.fid)&&vr(S,O.fid),O})).apply(this,arguments)}function Zt(S){return an.apply(this,arguments)}function an(){return(an=(0,X.Z)(function*(S){const O=Zn(S),Pe=(yield _t()).transaction(br,"readwrite");yield Pe.objectStore(br).delete(O),yield Pe.done})).apply(this,arguments)}function In(S,O){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,X.Z)(function*(S,O){const Y=Zn(S),lt=(yield _t()).transaction(br,"readwrite"),Et=lt.objectStore(br),Bt=yield Et.get(Y),Nn=O(Bt);return void 0===Nn?yield Et.delete(Y):yield Et.put(Nn,Y),yield lt.done,Nn&&(!Bt||Bt.fid!==Nn.fid)&&vr(S,Nn.fid),Nn})).apply(this,arguments)}function $e(S){return ee.apply(this,arguments)}function ee(){return ee=(0,X.Z)(function*(S){let O;const Y=yield In(S.appConfig,Pe=>{const lt=function J(S){return vt(S||{fid:Pn(),registrationStatus:0})}(Pe),Et=function W(S,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(At.create("app-offline"))};const Y={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},Pe=function B(S,O){return ae.apply(this,arguments)}(S,Y);return{installationEntry:Y,registrationPromise:Pe}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Te(S)}:{installationEntry:O}}(S,lt);return O=Et.registrationPromise,Et.installationEntry});return Y.fid===xn?{installationEntry:yield O}:{installationEntry:Y,registrationPromise:O}}),ee.apply(this,arguments)}function ae(){return ae=(0,X.Z)(function*(S,O){try{const Y=yield function cn(S,O){return dn.apply(this,arguments)}(S,O);return Ze(S.appConfig,Y)}catch(Y){throw Tt(Y)&&409===Y.customData.serverCode?yield Zt(S.appConfig):yield Ze(S.appConfig,{fid:O.fid,registrationStatus:0}),Y}}),ae.apply(this,arguments)}function Te(S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,X.Z)(function*(S){let O=yield Mt(S.appConfig);for(;1===O.registrationStatus;)yield bn(100),O=yield Mt(S.appConfig);if(0===O.registrationStatus){const{installationEntry:Y,registrationPromise:Pe}=yield $e(S);return Pe||Y}return O})).apply(this,arguments)}function Mt(S){return In(S,O=>{if(!O)throw At.create("installation-not-found");return vt(O)})}function vt(S){return function Yt(S){return 1===S.registrationStatus&&S.registrationTime+St<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function ln(){return(ln=(0,X.Z)(function*({appConfig:S,heartbeatServiceProvider:O},Y){const Pe=function Je(S,{fid:O}){return`${tn(S)}/${O}/authTokens:generate`}(S,Y),lt=function gt(S,{refreshToken:O}){const Y=yt(S);return Y.append("Authorization",function vn(S){return`${se} ${S}`}(O)),Y}(S,Y),Et=O.getImmediate({optional:!0});if(Et){const er=yield Et.getHeartbeatsHeader();er&&lt.append("x-firebase-client",er)}const Nn={method:"POST",headers:lt,body:JSON.stringify({installation:{sdkVersion:at,appId:S.appId}})},An=yield Ht(()=>fetch(Pe,Nn));if(An.ok)return tt(yield An.json());throw yield Tn("Generate Auth Token",An)})).apply(this,arguments)}function Le(S){return It.apply(this,arguments)}function It(){return It=(0,X.Z)(function*(S,O=!1){let Y;const Pe=yield In(S.appConfig,Et=>{if(!Qn(Et))throw At.create("not-registered");const Bt=Et.authToken;if(!O&&function tr(S){return 2===S.requestStatus&&!function Ur(S){const O=Date.now();return O<S.creationTime||S.creationTime+S.expiresIn<O+Me}(S)}(Bt))return Et;if(1===Bt.requestStatus)return Y=function ft(S,O){return Kt.apply(this,arguments)}(S,O),Et;{if(!navigator.onLine)throw At.create("app-offline");const Nn=function Ai(S){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:O})}(Et);return Y=function wn(S,O){return Jt.apply(this,arguments)}(S,Nn),Nn}});return Y?yield Y:Pe.authToken}),It.apply(this,arguments)}function Kt(){return(Kt=(0,X.Z)(function*(S,O){let Y=yield Gt(S.appConfig);for(;1===Y.authToken.requestStatus;)yield bn(100),Y=yield Gt(S.appConfig);const Pe=Y.authToken;return 0===Pe.requestStatus?Le(S,O):Pe})).apply(this,arguments)}function Gt(S){return In(S,O=>{if(!Qn(O))throw At.create("not-registered");return function hr(S){return 1===S.requestStatus&&S.requestTime+St<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Jt(){return Jt=(0,X.Z)(function*(S,O){try{const Y=yield function qt(S,O){return ln.apply(this,arguments)}(S,O),Pe=Object.assign(Object.assign({},O),{authToken:Y});return yield Ze(S.appConfig,Pe),Y}catch(Y){if(!Tt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const Pe=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield Ze(S.appConfig,Pe)}else yield Zt(S.appConfig);throw Y}}),Jt.apply(this,arguments)}function Qn(S){return void 0!==S&&2===S.registrationStatus}function Rr(){return(Rr=(0,X.Z)(function*(S){const O=S,{installationEntry:Y,registrationPromise:Pe}=yield $e(O);return Pe?Pe.catch(console.error):Le(O).catch(console.error),Y.fid})).apply(this,arguments)}function Jn(){return Jn=(0,X.Z)(function*(S,O=!1){const Y=S;return yield function Ar(S){return Jr.apply(this,arguments)}(Y),(yield Le(Y,O)).token}),Jn.apply(this,arguments)}function Jr(){return(Jr=(0,X.Z)(function*(S){const{registrationPromise:O}=yield $e(S);O&&(yield O)})).apply(this,arguments)}function nt(S){return At.create("missing-app-config-values",{valueName:S})}const V="installations",ie=S=>{const O=S.getProvider("app").getImmediate(),Y=function ot(S){if(!S||!S.options)throw nt("App Configuration");if(!S.name)throw nt("App Name");const O=["projectId","apiKey","appId"];for(const Y of O)if(!S.options[Y])throw nt(Y);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(O);return{app:O,appConfig:Y,heartbeatServiceProvider:(0,re.qX)(O,"heartbeat"),_delete:()=>Promise.resolve()}},be=S=>{const O=S.getProvider("app").getImmediate(),Y=(0,re.qX)(O,V).getImmediate();return{getId:()=>function Br(S){return Rr.apply(this,arguments)}(Y),getToken:lt=>function pr(S){return Jn.apply(this,arguments)}(Y,lt)}};(function dt(){(0,re.Xd)(new De.wA(V,ie,"PUBLIC")),(0,re.Xd)(new De.wA("installations-internal",be,"PRIVATE"))})(),(0,re.KN)(Dt,jt),(0,re.KN)(Dt,jt,"esm2017");const rt="@firebase/remote-config",fn=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gn{constructor(O,Y,Pe,lt){this.client=O,this.storage=Y,this.storageCache=Pe,this.logger=lt}isCachedDataFresh(O,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Pe=Date.now()-Y,lt=Pe<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${lt}.`),lt}fetch(O){var Y=this;return(0,X.Z)(function*(){const[Pe,lt]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(lt&&Y.isCachedDataFresh(O.cacheMaxAgeMillis,Pe))return lt;O.eTag=lt&&lt.eTag;const Et=yield Y.client.fetch(O),Bt=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Et.status&&Bt.push(Y.storage.setLastSuccessfulFetchResponse(Et)),yield Promise.all(Bt),Et})()}}function qr(S=navigator){return S.languages&&S.languages[0]||S.language}class Kr{constructor(O,Y,Pe,lt,Et,Bt){this.firebaseInstallations=O,this.sdkVersion=Y,this.namespace=Pe,this.projectId=lt,this.apiKey=Et,this.appId=Bt}fetch(O){var Y=this;return(0,X.Z)(function*(){const[Pe,lt]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),Bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},An={sdk_version:Y.sdkVersion,app_instance_id:Pe,app_instance_id_token:lt,app_id:Y.appId,language_code:qr()},er={method:"POST",headers:Nn,body:JSON.stringify(An)},Cr=fetch(Bt,er),mr=new Promise((Ko,Ss)=>{O.signal.addEventListener(()=>{const Ya=new Error("The operation was aborted.");Ya.name="AbortError",Ss(Ya)})});let bo;try{yield Promise.race([Cr,mr]),bo=yield Cr}catch(Ko){let Ss="fetch-client-network";throw"AbortError"===(null==Ko?void 0:Ko.name)&&(Ss="fetch-timeout"),fn.create(Ss,{originalErrorMessage:null==Ko?void 0:Ko.message})}let Ts=bo.status;const is=bo.headers.get("ETag")||void 0;let dc,Ka;if(200===bo.status){let Ko;try{Ko=yield bo.json()}catch(Ss){throw fn.create("fetch-client-parse",{originalErrorMessage:null==Ss?void 0:Ss.message})}dc=Ko.entries,Ka=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===Ka?Ts=500:"NO_CHANGE"===Ka?Ts=304:("NO_TEMPLATE"===Ka||"EMPTY_CONFIG"===Ka)&&(dc={}),304!==Ts&&200!==Ts)throw fn.create("fetch-status",{httpStatus:Ts});return{status:Ts,eTag:is,config:dc}})()}}class As{constructor(O,Y){this.client=O,this.storage=Y}fetch(O){var Y=this;return(0,X.Z)(function*(){const Pe=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(O,Pe)})()}attemptFetch(O,{throttleEndTimeMillis:Y,backoffCount:Pe}){var lt=this;return(0,X.Z)(function*(){yield function ms(S,O){return new Promise((Y,Pe)=>{const lt=Math.max(O-Date.now(),0),Et=setTimeout(Y,lt);S.addEventListener(()=>{clearTimeout(Et),Pe(fn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,Y);try{const Et=yield lt.client.fetch(O);return yield lt.storage.deleteThrottleMetadata(),Et}catch(Et){if(!function di(S){if(!(S instanceof we.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Et))throw Et;const Bt={throttleEndTimeMillis:Date.now()+(0,we.$s)(Pe),backoffCount:Pe+1};return yield lt.storage.setThrottleMetadata(Bt),lt.attemptFetch(O,Bt)}})()}}class so{constructor(O,Y,Pe,lt,Et){this.app=O,this._client=Y,this._storageCache=Pe,this._storage=lt,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qn(S,O){const Y=S.target.error||void 0;return fn.create(O,{originalErrorMessage:Y&&(null==Y?void 0:Y.message)})}const Bi="app_namespace_store";class oo{constructor(O,Y,Pe,lt=function ni(){return new Promise((S,O)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=Pe=>{O(qn(Pe,"storage-open"))},Y.onsuccess=Pe=>{S(Pe.target.result)},Y.onupgradeneeded=Pe=>{0===Pe.oldVersion&&Pe.target.result.createObjectStore(Bi,{keyPath:"compositeKey"})}}catch(Y){O(fn.create("storage-open",{originalErrorMessage:null==Y?void 0:Y.message}))}})}()){this.appId=O,this.appName=Y,this.namespace=Pe,this.openDbPromise=lt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var Y=this;return(0,X.Z)(function*(){const Pe=yield Y.openDbPromise;return new Promise((lt,Et)=>{const Nn=Pe.transaction([Bi],"readonly").objectStore(Bi),An=Y.createCompositeKey(O);try{const er=Nn.get(An);er.onerror=Cr=>{Et(qn(Cr,"storage-get"))},er.onsuccess=Cr=>{const mr=Cr.target.result;lt(mr?mr.value:void 0)}}catch(er){Et(fn.create("storage-get",{originalErrorMessage:null==er?void 0:er.message}))}})})()}set(O,Y){var Pe=this;return(0,X.Z)(function*(){const lt=yield Pe.openDbPromise;return new Promise((Et,Bt)=>{const An=lt.transaction([Bi],"readwrite").objectStore(Bi),er=Pe.createCompositeKey(O);try{const Cr=An.put({compositeKey:er,value:Y});Cr.onerror=mr=>{Bt(qn(mr,"storage-set"))},Cr.onsuccess=()=>{Et()}}catch(Cr){Bt(fn.create("storage-set",{originalErrorMessage:null==Cr?void 0:Cr.message}))}})})()}delete(O){var Y=this;return(0,X.Z)(function*(){const Pe=yield Y.openDbPromise;return new Promise((lt,Et)=>{const Nn=Pe.transaction([Bi],"readwrite").objectStore(Bi),An=Y.createCompositeKey(O);try{const er=Nn.delete(An);er.onerror=Cr=>{Et(qn(Cr,"storage-delete"))},er.onsuccess=()=>{lt()}}catch(er){Et(fn.create("storage-delete",{originalErrorMessage:null==er?void 0:er.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class ws{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,X.Z)(function*(){const Y=O.storage.getLastFetchStatus(),Pe=O.storage.getLastSuccessfulFetchTimestampMillis(),lt=O.storage.getActiveConfig(),Et=yield Y;Et&&(O.lastFetchStatus=Et);const Bt=yield Pe;Bt&&(O.lastSuccessfulFetchTimestampMillis=Bt);const Nn=yield lt;Nn&&(O.activeConfig=Nn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Zs(){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,X.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function Di(){(0,re.Xd)(new De.wA("remote-config",function S(O,{instanceIdentifier:Y}){const Pe=O.getProvider("app").getImmediate(),lt=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fn.create("registration-window");if(!(0,we.hl)())throw fn.create("indexed-db-unavailable");const{projectId:Et,apiKey:Bt,appId:Nn}=Pe.options;if(!Et)throw fn.create("registration-project-id");if(!Bt)throw fn.create("registration-api-key");if(!Nn)throw fn.create("registration-app-id");const An=new oo(Nn,Pe.name,Y=Y||"firebase"),er=new ws(An),Cr=new fe.Yd(rt);Cr.logLevel=fe.in.ERROR;const mr=new Kr(lt,re.Jn,Y,Et,Bt,Nn),bo=new As(mr,An),Ts=new Gn(bo,An,er,Cr),is=new so(Pe,Ts,er,An,Cr);return function ei(S){const O=(0,we.m9)(S);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(is),is},"PUBLIC").setMultipleInstances(!0)),(0,re.KN)(rt,"0.4.4"),(0,re.KN)(rt,"0.4.4","esm2017")}();const Ui=(S,O)=>O.some(Y=>S instanceof Y);let ao,ar;const jo=new WeakMap,Ci=new WeakMap,ai=new WeakMap,Ti=new WeakMap,es=new WeakMap;let Ei={get(S,O,Y){if(S instanceof IDBTransaction){if("done"===O)return Ci.get(S);if("objectStoreNames"===O)return S.objectStoreNames||ai.get(S);if("store"===O)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return zi(S[O])},set:(S,O,Y)=>(S[O]=Y,!0),has:(S,O)=>S instanceof IDBTransaction&&("done"===O||"store"===O)||O in S};function co(S){return"function"==typeof S?function ks(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lo(){return ar||(ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...O){return S.apply(gi(this),O),zi(jo.get(this))}:function(...O){return zi(S.apply(gi(this),O))}:function(O,...Y){const Pe=S.call(gi(this),O,...Y);return ai.set(Pe,O.sort?O.sort():[O]),zi(Pe)}}(S):(S instanceof IDBTransaction&&function Ho(S){if(Ci.has(S))return;const O=new Promise((Y,Pe)=>{const lt=()=>{S.removeEventListener("complete",Et),S.removeEventListener("error",Bt),S.removeEventListener("abort",Bt)},Et=()=>{Y(),lt()},Bt=()=>{Pe(S.error||new DOMException("AbortError","AbortError")),lt()};S.addEventListener("complete",Et),S.addEventListener("error",Bt),S.addEventListener("abort",Bt)});Ci.set(S,O)}(S),Ui(S,function fa(){return ao||(ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,Ei):S)}function zi(S){if(S instanceof IDBRequest)return function Vi(S){const O=new Promise((Y,Pe)=>{const lt=()=>{S.removeEventListener("success",Et),S.removeEventListener("error",Bt)},Et=()=>{Y(zi(S.result)),lt()},Bt=()=>{Pe(S.error),lt()};S.addEventListener("success",Et),S.addEventListener("error",Bt)});return O.then(Y=>{Y instanceof IDBCursor&&jo.set(Y,S)}).catch(()=>{}),es.set(O,S),O}(S);if(Ti.has(S))return Ti.get(S);const O=co(S);return O!==S&&(Ti.set(S,O),es.set(O,S)),O}const gi=S=>es.get(S);function ds(S,O,{blocked:Y,upgrade:Pe,blocking:lt,terminated:Et}={}){const Bt=indexedDB.open(S,O),Nn=zi(Bt);return Pe&&Bt.addEventListener("upgradeneeded",An=>{Pe(zi(Bt.result),An.oldVersion,An.newVersion,zi(Bt.transaction))}),Y&&Bt.addEventListener("blocked",()=>Y()),Nn.then(An=>{Et&&An.addEventListener("close",()=>Et()),lt&&An.addEventListener("versionchange",()=>lt())}).catch(()=>{}),Nn}function Po(S,{blocked:O}={}){const Y=indexedDB.deleteDatabase(S);return O&&Y.addEventListener("blocked",()=>O()),zi(Y).then(()=>{})}const pa=["get","getKey","getAll","getAllKeys","count"],_o=["put","add","delete","clear"],Xs=new Map;function Jo(S,O){if(!(S instanceof IDBDatabase)||O in S||"string"!=typeof O)return;if(Xs.get(O))return Xs.get(O);const Y=O.replace(/FromIndex$/,""),Pe=O!==Y,lt=_o.includes(Y);if(!(Y in(Pe?IDBIndex:IDBObjectStore).prototype)||!lt&&!pa.includes(Y))return;const Et=function(){var Bt=(0,X.Z)(function*(Nn,...An){const er=this.transaction(Nn,lt?"readwrite":"readonly");let Cr=er.store;return Pe&&(Cr=Cr.index(An.shift())),(yield Promise.all([Cr[Y](...An),lt&&er.done]))[0]});return function(An){return Bt.apply(this,arguments)}}();return Xs.set(O,Et),Et}!function Yr(S){Ei=S(Ei)}(S=>({...S,get:(O,Y,Pe)=>Jo(O,Y)||S.get(O,Y,Pe),has:(O,Y)=>!!Jo(O,Y)||S.has(O,Y)}));const Oo="/firebase-messaging-sw.js",zo="/firebase-cloud-messaging-push-scope",ga="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",el="https://fcmregistrations.googleapis.com/v1",hi="google.c.a.c_id",tl="google.c.a.c_l",ma="google.c.a.ts";var le=function(S){return S.PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",S}(le||{});function G(S){const O=new Uint8Array(S);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(S){const Y=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(Y),lt=new Uint8Array(Pe.length);for(let Et=0;Et<Pe.length;++Et)lt[Et]=Pe.charCodeAt(Et);return lt}const Qt="fcm_token_details_db",y=5,j="fcm_token_object_Store";function F(){return F=(0,X.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Et=>Et.name).includes(Qt))return null;let O=null;return(yield ds(Qt,y,{upgrade:(Pe=(0,X.Z)(function*(lt,Et,Bt,Nn){var An;if(Et<2||!lt.objectStoreNames.contains(j))return;const er=Nn.objectStore(j),Cr=yield er.index("fcmSenderId").get(S);if(yield er.clear(),Cr)if(2===Et){const mr=Cr;if(!mr.auth||!mr.p256dh||!mr.endpoint)return;O={token:mr.fcmToken,createTime:null!==(An=mr.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:mr.auth,p256dh:mr.p256dh,endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:"string"==typeof mr.vapidKey?mr.vapidKey:G(mr.vapidKey)}}}else if(3===Et){const mr=Cr;O={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:G(mr.auth),p256dh:G(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:G(mr.vapidKey)}}}else if(4===Et){const mr=Cr;O={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:G(mr.auth),p256dh:G(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:G(mr.vapidKey)}}}}),function(Et,Bt,Nn,An){return Pe.apply(this,arguments)})})).close(),yield Po(Qt),yield Po("fcm_vapid_details_db"),yield Po("undefined"),function oe(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:O}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var Pe}),F.apply(this,arguments)}const Ot="firebase-messaging-database",yn=1,Dn="firebase-messaging-store";let Hn=null;function wr(){return Hn||(Hn=ds(Ot,yn,{upgrade:(S,O)=>{0===O&&S.createObjectStore(Dn)}})),Hn}function Vr(S){return ys.apply(this,arguments)}function ys(){return ys=(0,X.Z)(function*(S){const O=No(S),Pe=yield(yield wr()).transaction(Dn).objectStore(Dn).get(O);if(Pe)return Pe;{const lt=yield function I(S){return F.apply(this,arguments)}(S.appConfig.senderId);if(lt)return yield ts(S,lt),lt}}),ys.apply(this,arguments)}function ts(S,O){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,X.Z)(function*(S,O){const Y=No(S),lt=(yield wr()).transaction(Dn,"readwrite");return yield lt.objectStore(Dn).put(O,Y),yield lt.done,O})).apply(this,arguments)}function Ls(){return(Ls=(0,X.Z)(function*(S){const O=No(S),Pe=(yield wr()).transaction(Dn,"readwrite");yield Pe.objectStore(Dn).delete(O),yield Pe.done})).apply(this,arguments)}function No({appConfig:S}){return S.appId}const ji=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yl(S,O){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,X.Z)(function*(S,O){const Y=yield il(S),Pe=Xl(O),lt={method:"POST",headers:Y,body:JSON.stringify(Pe)};let Et;try{Et=yield(yield fetch(rl(S.appConfig),lt)).json()}catch(Bt){throw ji.create("token-subscribe-failed",{errorInfo:null==Bt?void 0:Bt.toString()})}if(Et.error)throw ji.create("token-subscribe-failed",{errorInfo:Et.error.message});if(!Et.token)throw ji.create("token-subscribe-no-token");return Et.token})).apply(this,arguments)}function nl(){return(nl=(0,X.Z)(function*(S,O){const Y=yield il(S),Pe=Xl(O.subscriptionOptions),lt={method:"PATCH",headers:Y,body:JSON.stringify(Pe)};let Et;try{Et=yield(yield fetch(`${rl(S.appConfig)}/${O.token}`,lt)).json()}catch(Bt){throw ji.create("token-update-failed",{errorInfo:null==Bt?void 0:Bt.toString()})}if(Et.error)throw ji.create("token-update-failed",{errorInfo:Et.error.message});if(!Et.token)throw ji.create("token-update-no-token");return Et.token})).apply(this,arguments)}function Js(S,O){return ea.apply(this,arguments)}function ea(){return(ea=(0,X.Z)(function*(S,O){const Pe={method:"DELETE",headers:yield il(S)};try{const Et=yield(yield fetch(`${rl(S.appConfig)}/${O}`,Pe)).json();if(Et.error)throw ji.create("token-unsubscribe-failed",{errorInfo:Et.error.message})}catch(lt){throw ji.create("token-unsubscribe-failed",{errorInfo:null==lt?void 0:lt.toString()})}})).apply(this,arguments)}function rl({projectId:S}){return`${el}/projects/${S}/registrations`}function il(S){return sl.apply(this,arguments)}function sl(){return(sl=(0,X.Z)(function*({appConfig:S,installations:O}){const Y=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Xl({p256dh:S,auth:O,endpoint:Y,vapidKey:Pe}){const lt={web:{endpoint:Y,auth:O,p256dh:S}};return Pe!==ga&&(lt.web.applicationPubKey=Pe),lt}const Ac=6048e5;function Mc(){return Mc=(0,X.Z)(function*(S){const O=yield function ta(S,O){return Jl.apply(this,arguments)}(S.swRegistration,S.vapidKey),Y={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:O.endpoint,auth:G(O.getKey("auth")),p256dh:G(O.getKey("p256dh"))},Pe=yield Vr(S.firebaseDependencies);if(Pe){if(function T(S,O){return O.vapidKey===S.vapidKey&&O.endpoint===S.endpoint&&O.auth===S.auth&&O.p256dh===S.p256dh}(Pe.subscriptionOptions,Y))return Date.now()>=Pe.createTime+Ac?function Dl(S,O){return va.apply(this,arguments)}(S,{token:Pe.token,createTime:Date.now(),subscriptionOptions:Y}):Pe.token;try{yield Js(S.firebaseDependencies,Pe.token)}catch(lt){console.warn(lt)}return Ql(S.firebaseDependencies,Y)}return Ql(S.firebaseDependencies,Y)}),Mc.apply(this,arguments)}function ol(){return ol=(0,X.Z)(function*(S){const O=yield Vr(S.firebaseDependencies);O&&(yield Js(S.firebaseDependencies,O.token),yield function Ds(S){return Ls.apply(this,arguments)}(S.firebaseDependencies));const Y=yield S.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),ol.apply(this,arguments)}function va(){return va=(0,X.Z)(function*(S,O){try{const Y=yield function Zl(S,O){return nl.apply(this,arguments)}(S.firebaseDependencies,O),Pe=Object.assign(Object.assign({},O),{token:Y,createTime:Date.now()});return yield ts(S.firebaseDependencies,Pe),Y}catch(Y){throw yield function $a(S){return ol.apply(this,arguments)}(S),Y}}),va.apply(this,arguments)}function Ql(S,O){return ya.apply(this,arguments)}function ya(){return(ya=(0,X.Z)(function*(S,O){const Pe={token:yield Yl(S,O),createTime:Date.now(),subscriptionOptions:O};return yield ts(S,Pe),Pe.token})).apply(this,arguments)}function Jl(){return(Jl=(0,X.Z)(function*(S,O){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(O)})})).apply(this,arguments)}function z(S){const O={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function xe(S,O){if(!O.notification)return;S.notification={};const Y=O.notification.title;Y&&(S.notification.title=Y);const Pe=O.notification.body;Pe&&(S.notification.body=Pe);const lt=O.notification.image;lt&&(S.notification.image=lt);const Et=O.notification.icon;Et&&(S.notification.icon=Et)}(O,S),function L(S,O){O.data&&(S.data=O.data)}(O,S),function he(S,O){var Y,Pe,lt,Et,Bt;if(!(O.fcmOptions||null!==(Y=O.notification)&&void 0!==Y&&Y.click_action))return;S.fcmOptions={};const Nn=null!==(lt=null===(Pe=O.fcmOptions)||void 0===Pe?void 0:Pe.link)&&void 0!==lt?lt:null===(Et=O.notification)||void 0===Et?void 0:Et.click_action;Nn&&(S.fcmOptions.link=Nn);const An=null===(Bt=O.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;An&&(S.fcmOptions.analyticsLabel=An)}(O,S),O}function $t(S,O){const Y=[];for(let Pe=0;Pe<S.length;Pe++)Y.push(S.charAt(Pe)),Pe<O.length&&Y.push(O.charAt(Pe));return Y.join("")}function Dr(S){return ji.create("missing-app-config-values",{valueName:S})}$t("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$t("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fr{constructor(O,Y,Pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const lt=function hn(S){if(!S||!S.options)throw Dr("App Configuration Object");if(!S.name)throw Dr("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=S;for(const Pe of O)if(!Y[Pe])throw Dr(Pe);return{appName:S.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:lt,installations:Y,analyticsProvider:Pe}}_delete(){return Promise.resolve()}}function Ir(){return(Ir=(0,X.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Oo,{scope:zo}),S.swRegistration.update().catch(()=>{})}catch(O){throw ji.create("failed-service-worker-registration",{browserErrorMessage:null==O?void 0:O.message})}})).apply(this,arguments)}function Qr(){return(Qr=(0,X.Z)(function*(S,O){if(!O&&!S.swRegistration&&(yield function $r(S){return Ir.apply(this,arguments)}(S)),O||!S.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw ji.create("invalid-sw-registration");S.swRegistration=O}})).apply(this,arguments)}function Fs(){return(Fs=(0,X.Z)(function*(S,O){O?S.vapidKey=O:S.vapidKey||(S.vapidKey=ga)})).apply(this,arguments)}function $s(){return $s=(0,X.Z)(function*(S,O){if(!navigator)throw ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ji.create("permission-blocked");return yield function ri(S,O){return Fs.apply(this,arguments)}(S,null==O?void 0:O.vapidKey),yield function xi(S,O){return Qr.apply(this,arguments)}(S,null==O?void 0:O.serviceWorkerRegistration),function wl(S){return Mc.apply(this,arguments)}(S)}),$s.apply(this,arguments)}function _s(){return(_s=(0,X.Z)(function*(S,O,Y){const Pe=function na(S){switch(S){case le.NOTIFICATION_CLICKED:return"notification_open";case le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Pe,{message_id:Y[hi],message_name:Y[tl],message_time:Y[ma],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ii(){return ii=(0,X.Z)(function*(S,O){const Y=O.data;if(!Y.isFirebaseMessaging)return;S.onMessageHandler&&Y.messageType===le.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(z(Y)):S.onMessageHandler.next(z(Y)));const Pe=Y.data;(function qe(S){return"object"==typeof S&&!!S&&hi in S})(Pe)&&"1"===Pe["google.c.a.e"]&&(yield function uo(S,O,Y){return _s.apply(this,arguments)}(S,Y.messageType,Pe))}),ii.apply(this,arguments)}const Li="@firebase/messaging",Cs=S=>{const O=new Fr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function _a(S,O){return ii.apply(this,arguments)}(O,Y)),O},Cl=S=>{const O=S.getProvider("messaging").getImmediate();return{getToken:Pe=>function Io(S,O){return $s.apply(this,arguments)}(O,Pe)}};function al(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,X.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gu(){(0,re.Xd)(new De.wA("messaging",Cs,"PUBLIC")),(0,re.Xd)(new De.wA("messaging-internal",Cl,"PRIVATE")),(0,re.KN)(Li,"0.12.4"),(0,re.KN)(Li,"0.12.4","esm2017")}();const Fi="analytics",ip="firebase_id",gr="origin",Lh=6e4,ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tc="https://www.googletagmanager.com/gtag/js",ns=new fe.Yd("@firebase/analytics"),Rs=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bi(S){if(!S.startsWith(tc)){const O=Rs.create("invalid-gtag-resource",{gtagURL:S});return ns.warn(O.message),""}return S}function rc(S){return Promise.all(S.map(O=>O.catch(Y=>Y)))}function en(){return(en=(0,X.Z)(function*(S,O,Y,Pe,lt,Et){const Bt=Pe[lt];try{if(Bt)yield O[Bt];else{const An=(yield rc(Y)).find(er=>er.measurementId===lt);An&&(yield O[An.appId])}}catch(Nn){ns.error(Nn)}S("config",lt,Et)})).apply(this,arguments)}function Sl(){return(Sl=(0,X.Z)(function*(S,O,Y,Pe,lt){try{let Et=[];if(lt&&lt.send_to){let Bt=lt.send_to;Array.isArray(Bt)||(Bt=[Bt]);const Nn=yield rc(Y);for(const An of Bt){const er=Nn.find(mr=>mr.measurementId===An),Cr=er&&O[er.appId];if(!Cr){Et=[];break}Et.push(Cr)}}0===Et.length&&(Et=Object.values(O)),yield Promise.all(Et),S("event",Pe,lt||{})}catch(Et){ns.error(Et)}})).apply(this,arguments)}const Ia=30,Al=new class Go{constructor(O={},Y=1e3){this.throttleMetadata=O,this.intervalMillis=Y}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,Y){this.throttleMetadata[O]=Y}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Pc(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ul(){return(ul=(0,X.Z)(function*(S){var O;const{appId:Y,apiKey:Pe}=S,lt={method:"GET",headers:Pc(Pe)},Et=ec.replace("{app-id}",Y),Bt=yield fetch(Et,lt);if(200!==Bt.status&&304!==Bt.status){let Nn="";try{const An=yield Bt.json();null!==(O=An.error)&&void 0!==O&&O.message&&(Nn=An.error.message)}catch{}throw Rs.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:Nn})}return Bt.json()})).apply(this,arguments)}function ho(){return(ho=(0,X.Z)(function*(S,O=Al,Y){const{appId:Pe,apiKey:lt,measurementId:Et}=S.options;if(!Pe)throw Rs.create("no-app-id");if(!lt){if(Et)return{measurementId:Et,appId:Pe};throw Rs.create("no-api-key")}const Bt=O.getThrottleMetadata(Pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nn=new w;return setTimeout((0,X.Z)(function*(){Nn.abort()}),void 0!==Y?Y:Lh),_u({appId:Pe,apiKey:lt,measurementId:Et},Bt,Nn,O)})).apply(this,arguments)}function _u(S,O,Y){return dl.apply(this,arguments)}function dl(){return dl=(0,X.Z)(function*(S,{throttleEndTimeMillis:O,backoffCount:Y},Pe,lt=Al){var Et;const{appId:Bt,measurementId:Nn}=S;try{yield function Ea(S,O){return new Promise((Y,Pe)=>{const lt=Math.max(O-Date.now(),0),Et=setTimeout(Y,lt);S.addEventListener(()=>{clearTimeout(Et),Pe(Rs.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(Pe,O)}catch(An){if(Nn)return ns.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${null==An?void 0:An.message}]`),{appId:Bt,measurementId:Nn};throw An}try{const An=yield function Ed(S){return ul.apply(this,arguments)}(S);return lt.deleteThrottleMetadata(Bt),An}catch(An){const er=An;if(!function Iu(S){if(!(S instanceof we.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}(er)){if(lt.deleteThrottleMetadata(Bt),Nn)return ns.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${null==er?void 0:er.message}]`),{appId:Bt,measurementId:Nn};throw An}const Cr=503===Number(null===(Et=null==er?void 0:er.customData)||void 0===Et?void 0:Et.httpStatus)?(0,we.$s)(Y,lt.intervalMillis,Ia):(0,we.$s)(Y,lt.intervalMillis),mr={throttleEndTimeMillis:Date.now()+Cr,backoffCount:Y+1};return lt.setThrottleMetadata(Bt,mr),ns.debug(`Calling attemptFetch again in ${Cr} millis`),_u(S,mr,Pe,lt)}}),dl.apply(this,arguments)}class w{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let A,Wr;function C(){return(C=(0,X.Z)(function*(S,O,Y,Pe,lt){if(lt&&lt.global)S("event",Y,Pe);else{const Et=yield O;S("event",Y,Object.assign(Object.assign({},Pe),{send_to:Et}))}})).apply(this,arguments)}function Vs(){return(Vs=(0,X.Z)(function*(){if(!(0,we.hl)())return ns.warn(Rs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(S){return ns.warn(Rs.create("indexeddb-unavailable",{errorInfo:null==S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Lo(){return Lo=(0,X.Z)(function*(S,O,Y,Pe,lt,Et,Bt){var Nn;const An=function Us(S){return ho.apply(this,arguments)}(S);An.then(Ts=>{Y[Ts.measurementId]=Ts.appId,S.options.measurementId&&Ts.measurementId!==S.options.measurementId&&ns.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ts.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ts=>ns.error(Ts)),O.push(An);const er=function Wi(){return Vs.apply(this,arguments)}().then(Ts=>{if(Ts)return Pe.getId()}),[Cr,mr]=yield Promise.all([An,er]);(function cl(S){const O=window.document.getElementsByTagName("script");for(const Y of Object.values(O))if(Y.src&&Y.src.includes(tc)&&Y.src.includes(S))return Y;return null})(Et)||function xc(S,O){const Y=function Va(S,O){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(S,O)),Y}("firebase-js-sdk-policy",{createScriptURL:bi}),Pe=document.createElement("script"),lt=`${tc}?l=${S}&id=${O}`;Pe.src=Y?null==Y?void 0:Y.createScriptURL(lt):lt,Pe.async=!0,document.head.appendChild(Pe)}(Et,Cr.measurementId),Wr&&(lt("consent","default",Wr),function rs(S){Wr=S}(void 0)),lt("js",new Date);const bo=null!==(Nn=null==Bt?void 0:Bt.config)&&void 0!==Nn?Nn:{};return bo[gr]="firebase",bo.update=!0,null!=mr&&(bo[ip]=mr),lt("config",Cr.measurementId,bo),A&&(lt("set",A),function ko(S){A=S}(void 0)),Cr.measurementId}),Lo.apply(this,arguments)}class sa{constructor(O){this.app=O}_delete(){return delete Eo[this.app.options.appId],Promise.resolve()}}let Eo={},sp=[];const Oc={};let za,Wo,Ml="dataLayer",Nc=!1;function kc(S,O,Y){!function ic(){const S=[];if((0,we.ru)()&&S.push("This is a browser extension environment."),(0,we.zI)()||S.push("Cookies are not available."),S.length>0){const O=S.map((Pe,lt)=>`(${lt+1}) ${Pe}`).join(" "),Y=Rs.create("invalid-analytics-context",{errorInfo:O});ns.warn(Y.message)}}();const Pe=S.options.appId;if(!Pe)throw Rs.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Rs.create("no-api-key");ns.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Eo[Pe])throw Rs.create("already-exists",{id:Pe});if(!Nc){!function vu(S){let O=[];Array.isArray(window[S])?O=window[S]:window[S]=O}(Ml);const{wrappedGtag:Et,gtagCore:Bt}=function hs(S,O,Y,Pe,lt){let Et=function(...Bt){window[Pe].push(arguments)};return window[lt]&&"function"==typeof window[lt]&&(Et=window[lt]),window[lt]=function ja(S,O,Y,Pe){function Et(){return Et=(0,X.Z)(function*(Bt,...Nn){try{if("event"===Bt){const[An,er]=Nn;yield function jr(S,O,Y,Pe,lt){return Sl.apply(this,arguments)}(S,O,Y,An,er)}else if("config"===Bt){const[An,er]=Nn;yield function yu(S,O,Y,Pe,lt,Et){return en.apply(this,arguments)}(S,O,Y,Pe,An,er)}else if("consent"===Bt){const[An]=Nn;S("consent","update",An)}else if("get"===Bt){const[An,er,Cr]=Nn;S("get",An,er,Cr)}else if("set"===Bt){const[An]=Nn;S("set",An)}else S(Bt,...Nn)}catch(An){ns.error(An)}}),Et.apply(this,arguments)}return function lt(Bt){return Et.apply(this,arguments)}}(Et,S,O,Y),{gtagCore:Et,wrappedGtag:window[lt]}}(Eo,sp,Oc,Ml,"gtag");Wo=Et,za=Bt,Nc=!0}return Eo[Pe]=function mi(S,O,Y,Pe,lt,Et,Bt){return Lo.apply(this,arguments)}(S,sp,Oc,O,za,Ml,Y),new sa(S)}function Lc(){return hl.apply(this,arguments)}function hl(){return(hl=(0,X.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const Ga="@firebase/analytics";!function lp(){(0,re.Xd)(new De.wA(Fi,(O,{options:Y})=>kc(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,re.Xd)(new De.wA("analytics-internal",function S(O){try{const Y=O.getProvider(Fi).getImmediate();return{logEvent:(Pe,lt,Et)=>function wu(S,O,Y,Pe){S=(0,we.m9)(S),function P(S,O,Y,Pe,lt){return C.apply(this,arguments)}(Wo,Eo[S.app.options.appId],O,Y,Pe).catch(lt=>ns.error(lt))}(Y,Pe,lt,Et)}}catch(Y){throw Rs.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,re.KN)(Ga,"0.10.0"),(0,re.KN)(Ga,"0.10.0","esm2017")}();var Wa=x(1954),oc=x(2631);const $h=new class cp extends oc.v{}(class Fc extends Wa.o{constructor(O,Y){super(O,Y),this.scheduler=O,this.work=Y}schedule(O,Y=0){return Y>0?super.schedule(O,Y):(this.delay=Y,this.state=O,this.scheduler.flush(this),this)}execute(O,Y){return Y>0||this.closed?super.execute(O,Y):this._execute(O,Y)}requestAsyncId(O,Y,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(O,Y,Pe):(O.flush(this),0)}});var Du=x(6321),ba=x(5592),Dd=x(9397),wa=x(5137),$c=x(3093);const Cd=new d.GfV("7.6.1"),Da="__angularfire_symbol__analyticsIsSupportedValue",Cu="__angularfire_symbol__analyticsIsSupported",Tu="__angularfire_symbol__remoteConfigIsSupportedValue",xl="__angularfire_symbol__remoteConfigIsSupported",Su="__angularfire_symbol__messagingIsSupportedValue",ac="__angularfire_symbol__messagingIsSupported";function up(S,O,Y){if(O){if(1===O.length)return O[0];const Et=O.filter(Bt=>Bt.app===Y);if(1===Et.length)return Et[0]}return Y.container.getProvider(S).getImmediate({optional:!0})}globalThis[Cu]||(globalThis[Cu]=Lc().then(S=>globalThis[Da]=S).catch(()=>globalThis[Da]=!1)),globalThis[ac]||(globalThis[ac]=al().then(S=>globalThis[Su]=S).catch(()=>globalThis[Su]=!1)),globalThis[xl]||(globalThis[xl]=Zs().then(S=>globalThis[Tu]=S).catch(()=>globalThis[Tu]=!1));const Ru=(S,O)=>{const Y=O?[O]:(0,g.C6)(),Pe=[];return Y.forEach(lt=>{lt.container.getProvider(S).instances.forEach(Bt=>{Pe.includes(Bt)||Pe.push(Bt)})}),Pe};function pl(){}class Pl{constructor(O,Y=$h){this.zone=O,this.delegate=Y}now(){return this.delegate.now()}schedule(O,Y,Pe){const lt=this.zone;return this.delegate.schedule(function(Bt){lt.runGuarded(()=>{O.apply(this,[Bt])})},Y,Pe)}}class Uh{constructor(O){this.zone=O,this.task=null}call(O,Y){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)),Y.pipe((0,Dd.b)({next:Pe,complete:Pe,error:Pe})).subscribe(O).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fo=(()=>{class S{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Pl(Zone.current)),this.insideAngular=Y.run(()=>new Pl(Zone.current,Du.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(Y){return new(Y||S)(d.LFG(d.R0b))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function qo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function qa(S){return qo().ngZone.run(()=>S())}function xu(S){return qo(),function cc(S){return function(Y){return(Y=Y.lift(new Uh(S.ngZone))).pipe((0,wa.R)(S.outsideAngular),(0,$c.Q)(S.insideAngular))}}(qo())(S)}const Ol=(S,O)=>function(){const Pe=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),qa(()=>S.apply(void 0,Pe))},uc=(S,O)=>function(){let Y;const Pe=arguments;for(let Et=0;Et<arguments.length;Et++)"function"==typeof Pe[Et]&&(O&&(Y||(Y=qa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pl,{},pl,pl)))),Pe[Et]=Ol(Pe[Et],Y));const lt=function Vh(S){return qo().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,Pe));if(!O){if(lt instanceof ba.y){const Et=qo();return lt.pipe((0,wa.R)(Et.outsideAngular),(0,$c.Q)(Et.insideAngular))}return qa(()=>lt)}return lt instanceof ba.y?lt.pipe(xu):lt instanceof Promise?qa(()=>new Promise((Et,Bt)=>lt.then(Nn=>qa(()=>Et(Nn)),Nn=>qa(()=>Bt(Nn))))):"function"==typeof lt&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),lt.apply(this,arguments)}:qa(()=>lt)}},5961:(rn,it,x)=>{"use strict";x.d(it,{GW:()=>g,dk:()=>X,oK:()=>d});var d=function(re){return re.Prompt="PROMPT",re.Camera="CAMERA",re.Photos="PHOTOS",re}(d||{}),g=function(re){return re.Rear="REAR",re.Front="FRONT",re}(g||{}),X=function(re){return re.Uri="uri",re.Base64="base64",re.DataUrl="dataUrl",re}(X||{})},2726:(rn,it,x)=>{"use strict";x.d(it,{Uw:()=>Ue,fo:()=>Ne,xz:()=>Fe});var d=x(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var je=function(pe){return pe.Unimplemented="UNIMPLEMENTED",pe.Unavailable="UNAVAILABLE",pe}(je||{});class Fe extends Error{constructor(Ae,Be,Dt){super(Ae),this.message=Ae,this.code=Be,this.data=Dt}}const de=pe=>{var Ae,Be,Dt,jt,St;const at=pe.CapacitorCustomPlatform||null,se=pe.Capacitor||{},ge=se.Plugins=se.Plugins||{},Me=pe.CapacitorPlatforms,st=(null===(Ae=null==Me?void 0:Me.currentPlatform)||void 0===Ae?void 0:Ae.getPlatform)||(()=>null!==at?at.name:(pe=>{var Ae,Be;return null!=pe&&pe.androidBridge?"android":null!==(Be=null===(Ae=null==pe?void 0:pe.webkit)||void 0===Ae?void 0:Ae.messageHandlers)&&void 0!==Be&&Be.bridge?"ios":"web"})(pe)),At=(null===(Be=null==Me?void 0:Me.currentPlatform)||void 0===Be?void 0:Be.isNativePlatform)||(()=>"web"!==st()),tn=(null===(Dt=null==Me?void 0:Me.currentPlatform)||void 0===Dt?void 0:Dt.isPluginAvailable)||(_n=>{const vn=gt.get(_n);return!!(null!=vn&&vn.platforms.has(st())||Tn(_n))}),Tn=(null===(jt=null==Me?void 0:Me.currentPlatform)||void 0===jt?void 0:jt.getPluginHeader)||(_n=>{var vn;return null===(vn=se.PluginHeaders)||void 0===vn?void 0:vn.find(cn=>cn.name===_n)}),gt=new Map,Xt=(null===(St=null==Me?void 0:Me.currentPlatform)||void 0===St?void 0:St.registerPlugin)||((_n,vn={})=>{const cn=gt.get(_n);if(cn)return console.warn(`Capacitor plugin "${_n}" already registered. Cannot register plugins twice.`),cn.proxy;const dn=st(),bn=Tn(_n);let ir;const lr=function(){var Nt=(0,d.Z)(function*(){return!ir&&dn in vn?ir=ir="function"==typeof vn[dn]?yield vn[dn]():vn[dn]:null!==at&&!ir&&"web"in vn&&(ir=ir="function"==typeof vn.web?yield vn.web():vn.web),ir});return function(){return Nt.apply(this,arguments)}}(),Pn=Nt=>{let Fn;const Ut=(...jn)=>{const dr=lr().then(Sn=>{const yr=((Nt,Fn)=>{var Ut,jn;if(!bn){if(Nt)return null===(jn=Nt[Fn])||void 0===jn?void 0:jn.bind(Nt);throw new Fe(`"${_n}" plugin is not implemented on ${dn}`,je.Unimplemented)}{const dr=null==bn?void 0:bn.methods.find(Sn=>Fn===Sn.name);if(dr)return"promise"===dr.rtype?Sn=>se.nativePromise(_n,Fn.toString(),Sn):(Sn,yr)=>se.nativeCallback(_n,Fn.toString(),Sn,yr);if(Nt)return null===(Ut=Nt[Fn])||void 0===Ut?void 0:Ut.bind(Nt)}})(Sn,Nt);if(yr){const Xr=yr(...jn);return Fn=null==Xr?void 0:Xr.remove,Xr}throw new Fe(`"${_n}.${Nt}()" is not implemented on ${dn}`,je.Unimplemented)});return"addListener"===Nt&&(dr.remove=(0,d.Z)(function*(){return Fn()})),dr};return Ut.toString=()=>`${Nt.toString()}() { [capacitor code] }`,Object.defineProperty(Ut,"name",{value:Nt,writable:!1,configurable:!1}),Ut},Un=Pn("addListener"),Zn=Pn("removeListener"),cr=(Nt,Fn)=>{const Ut=Un({eventName:Nt},Fn),jn=function(){var Sn=(0,d.Z)(function*(){const yr=yield Ut;Zn({eventName:Nt,callbackId:yr},Fn)});return function(){return Sn.apply(this,arguments)}}(),dr=new Promise(Sn=>Ut.then(()=>Sn({remove:jn})));return dr.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield jn()}),dr},vr=new Proxy({},{get(Nt,Fn){switch(Fn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return bn?cr:Un;case"removeListener":return Zn;default:return Pn(Fn)}}});return ge[_n]=vr,gt.set(_n,{name:_n,proxy:vr,platforms:new Set([...Object.keys(vn),...bn?[dn]:[]])}),vr});return se.convertFileSrc||(se.convertFileSrc=_n=>_n),se.getPlatform=st,se.handleError=_n=>pe.console.error(_n),se.isNativePlatform=At,se.isPluginAvailable=tn,se.pluginMethodNoop=(_n,vn,cn)=>Promise.reject(`${cn} does not have an implementation of "${vn}".`),se.registerPlugin=Xt,se.Exception=Fe,se.DEBUG=!!se.DEBUG,se.isLoggingEnabled=!!se.isLoggingEnabled,se.platform=se.getPlatform(),se.isNative=se.isNativePlatform(),se},me=(pe=>pe.Capacitor=de(pe))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ne=me.registerPlugin;class Ue{constructor(Ae){this.listeners={},this.windowListeners={},Ae&&(console.warn(`Capacitor WebPlugin "${Ae.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ae)}addListener(Ae,Be){var Dt=this;this.listeners[Ae]||(this.listeners[Ae]=[]),this.listeners[Ae].push(Be);const St=this.windowListeners[Ae];St&&!St.registered&&this.addWindowListener(St);const at=function(){var ge=(0,d.Z)(function*(){return Dt.removeListener(Ae,Be)});return function(){return ge.apply(this,arguments)}}(),se=Promise.resolve({remove:at});return Object.defineProperty(se,"remove",{value:(ge=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield at()}),function(){return ge.apply(this,arguments)})}),se;var ge}removeAllListeners(){var Ae=this;return(0,d.Z)(function*(){Ae.listeners={};for(const Be in Ae.windowListeners)Ae.removeWindowListener(Ae.windowListeners[Be]);Ae.windowListeners={}})()}notifyListeners(Ae,Be){const Dt=this.listeners[Ae];Dt&&Dt.forEach(jt=>jt(Be))}hasListeners(Ae){return!!this.listeners[Ae].length}registerWindowListener(Ae,Be){this.windowListeners[Be]={registered:!1,windowEventName:Ae,pluginEventName:Be,handler:Dt=>{this.notifyListeners(Be,Dt)}}}unimplemented(Ae="not implemented"){return new me.Exception(Ae,je.Unimplemented)}unavailable(Ae="not available"){return new me.Exception(Ae,je.Unavailable)}removeListener(Ae,Be){var Dt=this;return(0,d.Z)(function*(){const jt=Dt.listeners[Ae];if(!jt)return;const St=jt.indexOf(Be);Dt.listeners[Ae].splice(St,1),Dt.listeners[Ae].length||Dt.removeWindowListener(Dt.windowListeners[Ae])})()}addWindowListener(Ae){window.addEventListener(Ae.windowEventName,Ae.handler),Ae.registered=!0}removeWindowListener(Ae){Ae&&(window.removeEventListener(Ae.windowEventName,Ae.handler),Ae.registered=!1)}}const ct=pe=>encodeURIComponent(pe).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),We=pe=>pe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ce extends Ue{getCookies(){return(0,d.Z)(function*(){const Ae=document.cookie,Be={};return Ae.split(";").forEach(Dt=>{if(Dt.length<=0)return;let[jt,St]=Dt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");jt=We(jt).trim(),St=We(St).trim(),Be[jt]=St}),Be})()}setCookie(Ae){return(0,d.Z)(function*(){try{const Be=ct(Ae.key),Dt=ct(Ae.value),jt=`; expires=${(Ae.expires||"").replace("expires=","")}`,St=(Ae.path||"/").replace("path=",""),at=null!=Ae.url&&Ae.url.length>0?`domain=${Ae.url}`:"";document.cookie=`${Be}=${Dt||""}${jt}; path=${St}; ${at};`}catch(Be){return Promise.reject(Be)}})()}deleteCookie(Ae){return(0,d.Z)(function*(){try{document.cookie=`${Ae.key}=; Max-Age=0`}catch(Be){return Promise.reject(Be)}})()}clearCookies(){return(0,d.Z)(function*(){try{const Ae=document.cookie.split(";")||[];for(const Be of Ae)document.cookie=Be.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ae){return Promise.reject(Ae)}})()}clearAllCookies(){var Ae=this;return(0,d.Z)(function*(){try{yield Ae.clearCookies()}catch(Be){return Promise.reject(Be)}})()}}Ne("CapacitorCookies",{web:()=>new Ce});const _e=function(){var pe=(0,d.Z)(function*(Ae){return new Promise((Be,Dt)=>{const jt=new FileReader;jt.onload=()=>{const St=jt.result;Be(St.indexOf(",")>=0?St.split(",")[1]:St)},jt.onerror=St=>Dt(St),jt.readAsDataURL(Ae)})});return function(Be){return pe.apply(this,arguments)}}();class Ee extends Ue{request(Ae){return(0,d.Z)(function*(){const Be=((pe,Ae={})=>{const Be=Object.assign({method:pe.method||"GET",headers:pe.headers},Ae),jt=((pe={})=>{const Ae=Object.keys(pe);return Object.keys(pe).map(jt=>jt.toLocaleLowerCase()).reduce((jt,St,at)=>(jt[St]=pe[Ae[at]],jt),{})})(pe.headers)["content-type"]||"";if("string"==typeof pe.data)Be.body=pe.data;else if(jt.includes("application/x-www-form-urlencoded")){const St=new URLSearchParams;for(const[at,se]of Object.entries(pe.data||{}))St.set(at,se);Be.body=St.toString()}else if(jt.includes("multipart/form-data")){const St=new FormData;if(pe.data instanceof FormData)pe.data.forEach((se,ge)=>{St.append(ge,se)});else for(const se of Object.keys(pe.data))St.append(se,pe.data[se]);Be.body=St;const at=new Headers(Be.headers);at.delete("content-type"),Be.headers=at}else(jt.includes("application/json")||"object"==typeof pe.data)&&(Be.body=JSON.stringify(pe.data));return Be})(Ae,Ae.webFetchExtra),Dt=((pe,Ae=!0)=>pe?Object.entries(pe).reduce((Dt,jt)=>{const[St,at]=jt;let se,ge;return Array.isArray(at)?(ge="",at.forEach(Me=>{se=Ae?encodeURIComponent(Me):Me,ge+=`${St}=${se}&`}),ge.slice(0,-1)):(se=Ae?encodeURIComponent(at):at,ge=`${St}=${se}`),`${Dt}&${ge}`},"").substr(1):null)(Ae.params,Ae.shouldEncodeUrlParams),jt=Dt?`${Ae.url}?${Dt}`:Ae.url,St=yield fetch(jt,Be),at=St.headers.get("content-type")||"";let ge,Me,{responseType:se="text"}=St.ok?Ae:{};switch(at.includes("application/json")&&(se="json"),se){case"arraybuffer":case"blob":Me=yield St.blob(),ge=yield _e(Me);break;case"json":ge=yield St.json();break;default:ge=yield St.text()}const Qe={};return St.headers.forEach((st,ut)=>{Qe[ut]=st}),{data:ge,headers:Qe,status:St.status,url:St.url}})()}get(Ae){var Be=this;return(0,d.Z)(function*(){return Be.request(Object.assign(Object.assign({},Ae),{method:"GET"}))})()}post(Ae){var Be=this;return(0,d.Z)(function*(){return Be.request(Object.assign(Object.assign({},Ae),{method:"POST"}))})()}put(Ae){var Be=this;return(0,d.Z)(function*(){return Be.request(Object.assign(Object.assign({},Ae),{method:"PUT"}))})()}patch(Ae){var Be=this;return(0,d.Z)(function*(){return Be.request(Object.assign(Object.assign({},Ae),{method:"PATCH"}))})()}delete(Ae){var Be=this;return(0,d.Z)(function*(){return Be.request(Object.assign(Object.assign({},Ae),{method:"DELETE"}))})()}}Ne("CapacitorHttp",{web:()=>new Ee})},9058:(rn,it,x)=>{"use strict";x.d(it,{$s:()=>Zt,BH:()=>_e,G6:()=>at,L:()=>Fe,LL:()=>ut,P0:()=>We,Pz:()=>Ve,Sg:()=>He,UG:()=>Ee,US:()=>De,ZB:()=>ye,ZR:()=>st,aH:()=>Ce,b$:()=>Ae,eu:()=>ge,hl:()=>se,jU:()=>Ye,m9:()=>Bn,ne:()=>Zn,pd:()=>Pn,q4:()=>ct,r3:()=>Xt,ru:()=>pe,tV:()=>ue,uI:()=>Oe,vZ:()=>dn,w1:()=>Dt,xO:()=>lr,xb:()=>vn,z$:()=>Re,zI:()=>Me,zd:()=>xn});const re=function($e){const ee=[];let J=0;for(let W=0;W<$e.length;W++){let B=$e.charCodeAt(W);B<128?ee[J++]=B:B<2048?(ee[J++]=B>>6|192,ee[J++]=63&B|128):55296==(64512&B)&&W+1<$e.length&&56320==(64512&$e.charCodeAt(W+1))?(B=65536+((1023&B)<<10)+(1023&$e.charCodeAt(++W)),ee[J++]=B>>18|240,ee[J++]=B>>12&63|128,ee[J++]=B>>6&63|128,ee[J++]=63&B|128):(ee[J++]=B>>12|224,ee[J++]=B>>6&63|128,ee[J++]=63&B|128)}return ee},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($e,ee){if(!Array.isArray($e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let B=0;B<$e.length;B+=3){const ae=$e[B],Te=B+1<$e.length,Ge=Te?$e[B+1]:0,Mt=B+2<$e.length,vt=Mt?$e[B+2]:0;let ln=(15&Ge)<<2|vt>>6,Je=63&vt;Mt||(Je=64,Te||(ln=64)),W.push(J[ae>>2],J[(3&ae)<<4|Ge>>4],J[ln],J[Je])}return W.join("")},encodeString($e,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa($e):this.encodeByteArray(re($e),ee)},decodeString($e,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob($e):function($e){const ee=[];let J=0,W=0;for(;J<$e.length;){const B=$e[J++];if(B<128)ee[W++]=String.fromCharCode(B);else if(B>191&&B<224){const ae=$e[J++];ee[W++]=String.fromCharCode((31&B)<<6|63&ae)}else if(B>239&&B<365){const Mt=((7&B)<<18|(63&$e[J++])<<12|(63&$e[J++])<<6|63&$e[J++])-65536;ee[W++]=String.fromCharCode(55296+(Mt>>10)),ee[W++]=String.fromCharCode(56320+(1023&Mt))}else{const ae=$e[J++],Te=$e[J++];ee[W++]=String.fromCharCode((15&B)<<12|(63&ae)<<6|63&Te)}}return ee.join("")}(this.decodeStringToByteArray($e,ee))},decodeStringToByteArray($e,ee){this.init_();const J=ee?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let B=0;B<$e.length;){const ae=J[$e.charAt(B++)],Ge=B<$e.length?J[$e.charAt(B)]:0;++B;const vt=B<$e.length?J[$e.charAt(B)]:64;++B;const qt=B<$e.length?J[$e.charAt(B)]:64;if(++B,null==ae||null==Ge||null==vt||null==qt)throw new fe;W.push(ae<<2|Ge>>4),64!==vt&&(W.push(Ge<<4&240|vt>>2),64!==qt&&W.push(vt<<6&192|qt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $e=0;$e<this.ENCODED_VALS.length;$e++)this.byteToCharMap_[$e]=this.ENCODED_VALS.charAt($e),this.charToByteMap_[this.byteToCharMap_[$e]]=$e,this.byteToCharMapWebSafe_[$e]=this.ENCODED_VALS_WEBSAFE.charAt($e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$e]]=$e,$e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($e)]=$e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($e)]=$e)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function($e){return function($e){const ee=re($e);return De.encodeByteArray(ee,!0)}($e).replace(/\./g,"")},ue=function($e){try{return De.decodeString($e,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function ye($e,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===$e&&($e={});break;case Array:$e=[];break;default:return ee}for(const J in ee)!ee.hasOwnProperty(J)||!me(J)||($e[J]=ye($e[J],ee[J]));return $e}function me($e){return"__proto__"!==$e}const Se=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $e=process.env.__FIREBASE_DEFAULTS__;return $e?JSON.parse($e):void 0})()||(()=>{if(typeof document>"u")return;let $e;try{$e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=$e&&ue($e[1]);return ee&&JSON.parse(ee)})()}catch($e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$e}`)}},ct=$e=>{var ee,J;return null===(J=null===(ee=Se())||void 0===ee?void 0:ee.emulatorHosts)||void 0===J?void 0:J[$e]},We=$e=>{const ee=ct($e);if(!ee)return;const J=ee.lastIndexOf(":");if(J<=0||J+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const W=parseInt(ee.substring(J+1),10);return"["===ee[0]?[ee.substring(1,J-1),W]:[ee.substring(0,J),W]},Ce=()=>{var $e;return null===($e=Se())||void 0===$e?void 0:$e.config},Ve=$e=>{var ee;return null===(ee=Se())||void 0===ee?void 0:ee[`_${$e}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,J)=>{this.resolve=ee,this.reject=J})}wrapCallback(ee){return(J,W)=>{J?this.reject(J):this.resolve(W),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(J):ee(J,W))}}}function He($e,ee){if($e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=ee||"demo-project",B=$e.iat||0,ae=$e.sub||$e.user_id;if(!ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:B,exp:B+3600,auth_time:B,sub:ae,user_id:ae,firebase:{sign_in_provider:"custom",identities:{}}},$e);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Te)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Ee(){var $e;const ee=null===($e=Se())||void 0===$e?void 0:$e.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ye(){return"object"==typeof self&&self.self===self}function pe(){const $e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $e&&void 0!==$e.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Dt(){const $e=Re();return $e.indexOf("MSIE ")>=0||$e.indexOf("Trident/")>=0}function at(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise(($e,ee)=>{try{let J=!0;const W="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(W);B.onsuccess=()=>{B.result.close(),J||self.indexedDB.deleteDatabase(W),$e(!0)},B.onupgradeneeded=()=>{J=!1},B.onerror=()=>{var ae;ee((null===(ae=B.error)||void 0===ae?void 0:ae.message)||"")}}catch(J){ee(J)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(ee,J,W){super(J),this.code=ee,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(ee,J,W){this.service=ee,this.serviceName=J,this.errors=W}create(ee,...J){const W=J[0]||{},B=`${this.service}/${ee}`,ae=this.errors[ee],Te=ae?function At($e,ee){return $e.replace(Tt,(J,W)=>{const B=ee[W];return null!=B?String(B):`<${W}?>`})}(ae,W):"Error";return new st(B,`${this.serviceName}: ${Te} (${B}).`,W)}}const Tt=/\{\$([^}]+)}/g;function Xt($e,ee){return Object.prototype.hasOwnProperty.call($e,ee)}function vn($e){for(const ee in $e)if(Object.prototype.hasOwnProperty.call($e,ee))return!1;return!0}function dn($e,ee){if($e===ee)return!0;const J=Object.keys($e),W=Object.keys(ee);for(const B of J){if(!W.includes(B))return!1;const ae=$e[B],Te=ee[B];if(bn(ae)&&bn(Te)){if(!dn(ae,Te))return!1}else if(ae!==Te)return!1}for(const B of W)if(!J.includes(B))return!1;return!0}function bn($e){return null!==$e&&"object"==typeof $e}function lr($e){const ee=[];for(const[J,W]of Object.entries($e))Array.isArray(W)?W.forEach(B=>{ee.push(encodeURIComponent(J)+"="+encodeURIComponent(B))}):ee.push(encodeURIComponent(J)+"="+encodeURIComponent(W));return ee.length?"&"+ee.join("&"):""}function xn($e){const ee={};return $e.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[B,ae]=W.split("=");ee[decodeURIComponent(B)]=decodeURIComponent(ae)}}),ee}function Pn($e){const ee=$e.indexOf("?");if(!ee)return"";const J=$e.indexOf("#",ee);return $e.substring(ee,J>0?J:void 0)}function Zn($e,ee){const J=new cr($e,ee);return J.subscribe.bind(J)}class cr{constructor(ee,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{ee(this)}).catch(W=>{this.error(W)})}next(ee){this.forEachObserver(J=>{J.next(ee)})}error(ee){this.forEachObserver(J=>{J.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,J,W){let B;if(void 0===ee&&void 0===J&&void 0===W)throw new Error("Missing Observer.");B=function Nt($e,ee){if("object"!=typeof $e||null===$e)return!1;for(const J of ee)if(J in $e&&"function"==typeof $e[J])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:J,complete:W},void 0===B.next&&(B.next=Fn),void 0===B.error&&(B.error=Fn),void 0===B.complete&&(B.complete=Fn);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),ae}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,ee)}sendOne(ee,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{J(this.observers[ee])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}const fr=1e3,_t=2,Ze=144e5,Pt=.5;function Zt($e,ee=fr,J=_t){const W=ee*Math.pow(J,$e),B=Math.round(Pt*W*(Math.random()-.5)*2);return Math.min(Ze,W+B)}function Bn($e){return $e&&$e._delegate?$e._delegate:$e}},1774:(rn,it,x)=>{"use strict";x.d(it,{c:()=>et});var d=x(6225),g=x(839);let X;const we=Ue=>Ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),De=Ue=>(void 0===X&&(X=void 0===Ue.style.animationName&&void 0!==Ue.style.webkitAnimationName?"-webkit-":""),X),fe=(Ue,Se,ct)=>{const We=Se.startsWith("animation")?De(Ue):"";Ue.style.setProperty(We+Se,ct)},je=(Ue,Se)=>{const ct=Se.startsWith("animation")?De(Ue):"";Ue.style.removeProperty(ct+Se)},de=[],Xe=(Ue=[],Se)=>{if(void 0!==Se){const ct=Array.isArray(Se)?Se:[Se];return[...Ue,...ct]}return Ue},et=Ue=>{let Se,ct,We,Ce,Ve,_e,Ye,se,ge,Me,Qe,Tt,tn,He=[],Re=[],Oe=[],Ee=!1,pe={},Ae=[],Be=[],Dt={},jt=0,St=!1,at=!1,st=!0,ut=!1,At=!0,tt=!1;const Tn=Ue,mt=[],yt=[],gt=[],Ht=[],Xt=[],_n=[],vn=[],cn=[],dn=[],bn=[],ir="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,lr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ir,Pn=()=>bn,Nt=($,ie)=>((null!=ie&&ie.oneTimeCallback?yt:mt).push({c:$,o:ie}),tn),Ut=()=>{if(lr)bn.forEach($=>{$.cancel()}),bn.length=0;else{const $=gt.slice();(0,g.r)(()=>{$.forEach(ie=>{je(ie,"animation-name"),je(ie,"animation-duration"),je(ie,"animation-timing-function"),je(ie,"animation-iteration-count"),je(ie,"animation-delay"),je(ie,"animation-play-state"),je(ie,"animation-fill-mode"),je(ie,"animation-direction")})})}},jn=()=>{Xt.forEach($=>{null!=$&&$.parentNode&&$.parentNode.removeChild($)}),Xt.length=0},In=()=>void 0!==Ve?Ve:Ye?Ye.getFill():"both",Bn=()=>void 0!==ge?ge:void 0!==_e?_e:Ye?Ye.getDirection():"normal",$e=()=>St?"linear":void 0!==We?We:Ye?Ye.getEasing():"linear",ee=()=>at?0:void 0!==Me?Me:void 0!==ct?ct:Ye?Ye.getDuration():0,J=()=>void 0!==Ce?Ce:Ye?Ye.getIterations():1,W=()=>void 0!==Qe?Qe:void 0!==Se?Se:Ye?Ye.getDelay():0,Gt=()=>{0!==jt&&(jt--,0===jt&&((()=>{wi(),cn.forEach(rt=>rt()),dn.forEach(rt=>rt());const $=st?1:0,ie=Ae,be=Be,dt=Dt;gt.forEach(rt=>{const Ct=rt.classList;ie.forEach(Wt=>Ct.add(Wt)),be.forEach(Wt=>Ct.remove(Wt));for(const Wt in dt)dt.hasOwnProperty(Wt)&&fe(rt,Wt,dt[Wt])}),mt.forEach(rt=>rt.c($,tn)),yt.forEach(rt=>rt.c($,tn)),yt.length=0,At=!0,st&&(ut=!0),st=!0})(),Ye&&Ye.animationFinish()))},wn=($=!0)=>{jn();const ie=(Ue=>(Ue.forEach(Se=>{for(const ct in Se)if(Se.hasOwnProperty(ct)){const We=Se[ct];if("easing"===ct)Se["animation-timing-function"]=We,delete Se[ct];else{const Ce=we(ct);Ce!==ct&&(Se[Ce]=We,delete Se[ct])}}}),Ue))(He);gt.forEach(be=>{if(ie.length>0){const dt=((Ue=[])=>Ue.map(Se=>{const ct=Se.offset,We=[];for(const Ce in Se)Se.hasOwnProperty(Ce)&&"offset"!==Ce&&We.push(`${Ce}: ${Se[Ce]};`);return`${100*ct}% { ${We.join(" ")} }`}).join(" "))(ie);Tt=void 0!==Ue?Ue:(Ue=>{let Se=de.indexOf(Ue);return Se<0&&(Se=de.push(Ue)-1),`ion-animation-${Se}`})(dt);const rt=((Ue,Se,ct)=>{var We;const Ce=(Ue=>{const Se=void 0!==Ue.getRootNode?Ue.getRootNode():Ue;return Se.head||Se})(ct),Ve=De(ct),_e=Ce.querySelector("#"+Ue);if(_e)return _e;const He=(null!==(We=ct.ownerDocument)&&void 0!==We?We:document).createElement("style");return He.id=Ue,He.textContent=`@${Ve}keyframes ${Ue} { ${Se} } @${Ve}keyframes ${Ue}-alt { ${Se} }`,Ce.appendChild(He),He})(Tt,dt,be);Xt.push(rt),fe(be,"animation-duration",`${ee()}ms`),fe(be,"animation-timing-function",$e()),fe(be,"animation-delay",`${W()}ms`),fe(be,"animation-fill-mode",In()),fe(be,"animation-direction",Bn());const Ct=J()===1/0?"infinite":J().toString();fe(be,"animation-iteration-count",Ct),fe(be,"animation-play-state","paused"),$&&fe(be,"animation-name",`${rt.id}-alt`),(0,g.r)(()=>{fe(be,"animation-name",rt.id||null)})}})},Qn=($=!0)=>{(()=>{_n.forEach(dt=>dt()),vn.forEach(dt=>dt());const $=Re,ie=Oe,be=pe;gt.forEach(dt=>{const rt=dt.classList;$.forEach(Ct=>rt.add(Ct)),ie.forEach(Ct=>rt.remove(Ct));for(const Ct in be)be.hasOwnProperty(Ct)&&fe(dt,Ct,be[Ct])})})(),He.length>0&&(lr?(gt.forEach($=>{const ie=$.animate(He,{id:Tn,delay:W(),duration:ee(),easing:$e(),iterations:J(),fill:In(),direction:Bn()});ie.pause(),bn.push(ie)}),bn.length>0&&(bn[0].onfinish=()=>{Gt()})):wn($)),Ee=!0},tr=$=>{if($=Math.min(Math.max($,0),.9999),lr)bn.forEach(ie=>{ie.currentTime=ie.effect.getComputedTiming().delay+ee()*$,ie.pause()});else{const ie=`-${ee()*$}ms`;gt.forEach(be=>{He.length>0&&(fe(be,"animation-delay",ie),fe(be,"animation-play-state","paused"))})}},Ur=$=>{bn.forEach(ie=>{ie.effect.updateTiming({delay:W(),duration:ee(),easing:$e(),iterations:J(),fill:In(),direction:Bn()})}),void 0!==$&&tr($)},Ai=($=!0,ie)=>{(0,g.r)(()=>{gt.forEach(be=>{fe(be,"animation-name",Tt||null),fe(be,"animation-duration",`${ee()}ms`),fe(be,"animation-timing-function",$e()),fe(be,"animation-delay",void 0!==ie?`-${ie*ee()}ms`:`${W()}ms`),fe(be,"animation-fill-mode",In()||null),fe(be,"animation-direction",Bn()||null);const dt=J()===1/0?"infinite":J().toString();fe(be,"animation-iteration-count",dt),$&&fe(be,"animation-name",`${Tt}-alt`),(0,g.r)(()=>{fe(be,"animation-name",Tt||null)})})})},hr=($=!1,ie=!0,be)=>($&&Ht.forEach(dt=>{dt.update($,ie,be)}),lr?Ur(be):Ai(ie,be),tn),Jn=()=>{Ee&&(lr?bn.forEach($=>{$.pause()}):gt.forEach($=>{fe($,"animation-play-state","paused")}),tt=!0)},Jr=()=>{se=void 0,Gt()},wi=()=>{se&&clearTimeout(se)},$i=$=>new Promise(ie=>{null!=$&&$.sync&&(at=!0,Nt(()=>at=!1,{oneTimeCallback:!0})),Ee||Qn(),ut&&(lr?(tr(0),Ur()):Ai(),ut=!1),At&&(jt=Ht.length+1,At=!1),Nt(()=>ie(),{oneTimeCallback:!0}),Ht.forEach(be=>{be.play()}),lr?(bn.forEach($=>{$.play()}),(0===He.length||0===gt.length)&&Gt()):(()=>{if(wi(),(0,g.r)(()=>{gt.forEach($=>{He.length>0&&fe($,"animation-play-state","running")})}),0===He.length||0===gt.length)Gt();else{const $=W()||0,ie=ee()||0,be=J()||1;isFinite(be)&&(se=setTimeout(Jr,$+ie*be+100)),((Ue,Se)=>{let ct;const We={passive:!0},Ve=_e=>{Ue===_e.target&&(ct&&ct(),wi(),(0,g.r)(()=>{gt.forEach($=>{je($,"animation-duration"),je($,"animation-delay"),je($,"animation-play-state")}),(0,g.r)(Gt)}))};Ue&&(Ue.addEventListener("webkitAnimationEnd",Ve,We),Ue.addEventListener("animationend",Ve,We),ct=()=>{Ue.removeEventListener("webkitAnimationEnd",Ve,We),Ue.removeEventListener("animationend",Ve,We)})})(gt[0])}})(),tt=!1}),ot=($,ie)=>{const be=He[0];return void 0===be||void 0!==be.offset&&0!==be.offset?He=[{offset:0,[$]:ie},...He]:be[$]=ie,tn};return tn={parentAnimation:Ye,elements:gt,childAnimations:Ht,id:Tn,animationFinish:Gt,from:ot,to:($,ie)=>{const be=He[He.length-1];return void 0===be||void 0!==be.offset&&1!==be.offset?He=[...He,{offset:1,[$]:ie}]:be[$]=ie,tn},fromTo:($,ie,be)=>ot($,ie).to($,be),parent:$=>(Ye=$,tn),play:$i,pause:()=>(Ht.forEach($=>{$.pause()}),Jn(),tn),stop:()=>{Ht.forEach($=>{$.stop()}),Ee&&(Ut(),Ee=!1),St=!1,at=!1,At=!0,ge=void 0,Me=void 0,Qe=void 0,jt=0,ut=!1,st=!0,tt=!1},destroy:$=>(Ht.forEach(ie=>{ie.destroy($)}),($=>{Ut(),$&&jn()})($),gt.length=0,Ht.length=0,He.length=0,mt.length=0,yt.length=0,Ee=!1,At=!0,tn),keyframes:$=>{const ie=He!==$;return He=$,ie&&($=>{lr?Pn().forEach(ie=>{if(ie.effect.setKeyframes)ie.effect.setKeyframes($);else{const be=new KeyframeEffect(ie.effect.target,$,ie.effect.getTiming());ie.effect=be}}):wn()})(He),tn},addAnimation:$=>{if(null!=$)if(Array.isArray($))for(const ie of $)ie.parent(tn),Ht.push(ie);else $.parent(tn),Ht.push($);return tn},addElement:$=>{if(null!=$)if(1===$.nodeType)gt.push($);else if($.length>=0)for(let ie=0;ie<$.length;ie++)gt.push($[ie]);else console.error("Invalid addElement value");return tn},update:hr,fill:$=>(Ve=$,hr(!0),tn),direction:$=>(_e=$,hr(!0),tn),iterations:$=>(Ce=$,hr(!0),tn),duration:$=>(!lr&&0===$&&($=1),ct=$,hr(!0),tn),easing:$=>(We=$,hr(!0),tn),delay:$=>(Se=$,hr(!0),tn),getWebAnimations:Pn,getKeyframes:()=>He,getFill:In,getDirection:Bn,getDelay:W,getIterations:J,getEasing:$e,getDuration:ee,afterAddRead:$=>(cn.push($),tn),afterAddWrite:$=>(dn.push($),tn),afterClearStyles:($=[])=>{for(const ie of $)Dt[ie]="";return tn},afterStyles:($={})=>(Dt=$,tn),afterRemoveClass:$=>(Be=Xe(Be,$),tn),afterAddClass:$=>(Ae=Xe(Ae,$),tn),beforeAddRead:$=>(_n.push($),tn),beforeAddWrite:$=>(vn.push($),tn),beforeClearStyles:($=[])=>{for(const ie of $)pe[ie]="";return tn},beforeStyles:($={})=>(pe=$,tn),beforeRemoveClass:$=>(Oe=Xe(Oe,$),tn),beforeAddClass:$=>(Re=Xe(Re,$),tn),onFinish:Nt,isRunning:()=>0!==jt&&!tt,progressStart:($=!1,ie)=>(Ht.forEach(be=>{be.progressStart($,ie)}),Jn(),St=$,Ee||Qn(),hr(!1,!0,ie),tn),progressStep:$=>(Ht.forEach(ie=>{ie.progressStep($)}),tr($),tn),progressEnd:($,ie,be)=>(St=!1,Ht.forEach(dt=>{dt.progressEnd($,ie,be)}),void 0!==be&&(Me=be),ut=!1,st=!0,0===$?(ge="reverse"===Bn()?"normal":"reverse","reverse"===ge&&(st=!1),lr?(hr(),tr(1-ie)):(Qe=(1-ie)*ee()*-1,hr(!1,!1))):1===$&&(lr?(hr(),tr(ie)):(Qe=ie*ee()*-1,hr(!1,!1))),void 0!==$&&(Nt(()=>{Me=void 0,ge=void 0,Qe=void 0},{oneTimeCallback:!0}),Ye||$i()),tn)}}},3365:(rn,it,x)=>{"use strict";x.d(it,{E:()=>ue,a:()=>d,s:()=>je});const d=de=>{try{if(de instanceof fe)return de.value;if(!re()||"string"!=typeof de||""===de)return de;if(de.includes("onload="))return"";const ye=document.createDocumentFragment(),me=document.createElement("div");ye.appendChild(me),me.innerHTML=de,De.forEach(Ue=>{const Se=ye.querySelectorAll(Ue);for(let ct=Se.length-1;ct>=0;ct--){const We=Se[ct];We.parentNode?We.parentNode.removeChild(We):ye.removeChild(We);const Ce=X(We);for(let Ve=0;Ve<Ce.length;Ve++)g(Ce[Ve])}});const Ne=X(ye);for(let Ue=0;Ue<Ne.length;Ue++)g(Ne[Ue]);const Xe=document.createElement("div");Xe.appendChild(ye);const et=Xe.querySelector("div");return null!==et?et.innerHTML:Xe.innerHTML}catch(ye){return console.error(ye),""}},g=de=>{if(de.nodeType&&1!==de.nodeType)return;if(typeof NamedNodeMap<"u"&&!(de.attributes instanceof NamedNodeMap))return void de.remove();for(let me=de.attributes.length-1;me>=0;me--){const Ne=de.attributes.item(me),Xe=Ne.name;if(!we.includes(Xe.toLowerCase())){de.removeAttribute(Xe);continue}const et=Ne.value,Ue=de[Xe];(null!=et&&et.toLowerCase().includes("javascript:")||null!=Ue&&Ue.toLowerCase().includes("javascript:"))&&de.removeAttribute(Xe)}const ye=X(de);for(let me=0;me<ye.length;me++)g(ye[me])},X=de=>null!=de.children?de.children:de.childNodes,re=()=>{var de;const ye=window,me=null===(de=null==ye?void 0:ye.Ionic)||void 0===de?void 0:de.config;return!me||(me.get?me.get("sanitizerEnabled",!0):!0===me.sanitizerEnabled||void 0===me.sanitizerEnabled)},we=["class","id","href","src","name","slot"],De=["script","style","iframe","meta","link","object","embed"];class fe{constructor(ye){this.value=ye}}const je=de=>{const ye=window,me=ye.Ionic;if(!me||!me.config||"Object"===me.config.constructor.name)return ye.Ionic=ye.Ionic||{},ye.Ionic.config=Object.assign(Object.assign({},ye.Ionic.config),de),ye.Ionic.config},ue=!1},6559:(rn,it,x)=>{"use strict";x.d(it,{C:()=>we,a:()=>X,d:()=>re});var d=x(5861),g=x(839);const X=function(){var De=(0,d.Z)(function*(fe,je,Fe,ue,de,ye){var me;if(fe)return fe.attachViewToDom(je,Fe,de,ue);if(!(ye||"string"==typeof Fe||Fe instanceof HTMLElement))throw new Error("framework delegate is missing");const Ne="string"==typeof Fe?null===(me=je.ownerDocument)||void 0===me?void 0:me.createElement(Fe):Fe;return ue&&ue.forEach(Xe=>Ne.classList.add(Xe)),de&&Object.assign(Ne,de),je.appendChild(Ne),yield new Promise(Xe=>(0,g.c)(Ne,Xe)),Ne});return function(je,Fe,ue,de,ye,me){return De.apply(this,arguments)}}(),re=(De,fe)=>{if(fe){if(De)return De.removeViewFromDom(fe.parentElement,fe);fe.remove()}return Promise.resolve()},we=()=>{let De,fe;return{attachViewToDom:function(){var ue=(0,d.Z)(function*(de,ye,me={},Ne=[]){var Xe,et;let Ue;if(De=de,ye){const ct="string"==typeof ye?null===(Xe=De.ownerDocument)||void 0===Xe?void 0:Xe.createElement(ye):ye;Ne.forEach(We=>ct.classList.add(We)),Object.assign(ct,me),De.appendChild(ct),Ue=ct,yield new Promise(We=>(0,g.c)(ct,We))}else if(De.children.length>0&&("ION-MODAL"===De.tagName||"ION-POPOVER"===De.tagName)&&!(Ue=De.children[0]).classList.contains("ion-delegate-host")){const We=null===(et=De.ownerDocument)||void 0===et?void 0:et.createElement("div");We.classList.add("ion-delegate-host"),Ne.forEach(Ce=>We.classList.add(Ce)),We.append(...De.children),De.appendChild(We),Ue=We}const Se=document.querySelector("ion-app")||document.body;return fe=document.createComment("ionic teleport"),De.parentNode.insertBefore(fe,De),Se.appendChild(De),null!=Ue?Ue:De});return function(ye,me){return ue.apply(this,arguments)}}(),removeViewFromDom:()=>(De&&fe&&(fe.parentNode.insertBefore(De,fe),fe.remove()),Promise.resolve())}}},619:(rn,it,x)=>{"use strict";x.d(it,{G:()=>we});class g{constructor(fe,je,Fe,ue,de){this.id=je,this.name=Fe,this.disableScroll=de,this.priority=1e6*ue+je,this.ctrl=fe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const fe=this.ctrl.capture(this.name,this.id,this.priority);return fe&&this.disableScroll&&this.ctrl.disableScroll(this.id),fe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class X{constructor(fe,je,Fe,ue){this.id=je,this.disable=Fe,this.disableScroll=ue,this.ctrl=fe}block(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.disableGesture(fe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.enableGesture(fe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const re="backdrop-no-scroll",we=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(fe){var je;return new g(this,this.newID(),fe.name,null!==(je=fe.priority)&&void 0!==je?je:0,!!fe.disableScroll)}createBlocker(fe={}){return new X(this,this.newID(),fe.disable,!!fe.disableScroll)}start(fe,je,Fe){return this.canStart(fe)?(this.requestedStart.set(je,Fe),!0):(this.requestedStart.delete(je),!1)}capture(fe,je,Fe){if(!this.start(fe,je,Fe))return!1;const ue=this.requestedStart;let de=-1e4;if(ue.forEach(ye=>{de=Math.max(de,ye)}),de===Fe){this.capturedId=je,ue.clear();const ye=new CustomEvent("ionGestureCaptured",{detail:{gestureName:fe}});return document.dispatchEvent(ye),!0}return ue.delete(je),!1}release(fe){this.requestedStart.delete(fe),this.capturedId===fe&&(this.capturedId=void 0)}disableGesture(fe,je){let Fe=this.disabledGestures.get(fe);void 0===Fe&&(Fe=new Set,this.disabledGestures.set(fe,Fe)),Fe.add(je)}enableGesture(fe,je){const Fe=this.disabledGestures.get(fe);void 0!==Fe&&Fe.delete(je)}disableScroll(fe){this.disabledScroll.add(fe),1===this.disabledScroll.size&&document.body.classList.add(re)}enableScroll(fe){this.disabledScroll.delete(fe),0===this.disabledScroll.size&&document.body.classList.remove(re)}canStart(fe){return!(void 0!==this.capturedId||this.isDisabled(fe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(fe){const je=this.disabledGestures.get(fe);return!!(je&&je.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>we,OVERLAY_BACK_BUTTON_PRIORITY:()=>re,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>X});var d=x(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},X=()=>{const De=document;let fe=!1;De.addEventListener("backbutton",()=>{if(fe)return;let je=0,Fe=[];const ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(me,Ne){Fe.push({priority:me,handler:Ne,id:je++})}}});De.dispatchEvent(ue);const de=function(){var me=(0,d.Z)(function*(Ne){try{if(null!=Ne&&Ne.handler){const Xe=Ne.handler(ye);null!=Xe&&(yield Xe)}}catch(Xe){console.error(Xe)}});return function(Xe){return me.apply(this,arguments)}}(),ye=()=>{if(Fe.length>0){let me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Fe.forEach(Ne=>{Ne.priority>=me.priority&&(me=Ne)}),fe=!0,Fe=Fe.filter(Ne=>Ne.id!==me.id),de(me).then(()=>fe=!1)}};ye()})},re=100,we=99},839:(rn,it,x)=>{"use strict";x.d(it,{a:()=>je,b:()=>Fe,c:()=>X,d:()=>et,e:()=>Xe,f:()=>Ne,g:()=>ue,h:()=>me,i:()=>fe,j:()=>Ve,k:()=>we,l:()=>Ue,m:()=>re,n:()=>ye,o:()=>Se,p:()=>Ce,q:()=>_e,r:()=>de,s:()=>He,t:()=>d,u:()=>ct,v:()=>We});const d=(Re,Oe=0)=>new Promise(Ee=>{g(Re,Oe,Ee)}),g=(Re,Oe=0,Ee)=>{let Ye,pe;const Ae={passive:!0},Dt=()=>{Ye&&Ye()},jt=St=>{(void 0===St||Re===St.target)&&(Dt(),Ee(St))};return Re&&(Re.addEventListener("webkitTransitionEnd",jt,Ae),Re.addEventListener("transitionend",jt,Ae),pe=setTimeout(jt,Oe+500),Ye=()=>{pe&&(clearTimeout(pe),pe=void 0),Re.removeEventListener("webkitTransitionEnd",jt,Ae),Re.removeEventListener("transitionend",jt,Ae)}),Dt},X=(Re,Oe)=>{Re.componentOnReady?Re.componentOnReady().then(Ee=>Oe(Ee)):de(()=>Oe(Re))},re=Re=>void 0!==Re.componentOnReady,we=(Re,Oe=[])=>{const Ee={};return Oe.forEach(Ye=>{Re.hasAttribute(Ye)&&(null!==Re.getAttribute(Ye)&&(Ee[Ye]=Re.getAttribute(Ye)),Re.removeAttribute(Ye))}),Ee},De=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],fe=(Re,Oe)=>{let Ee=De;return Oe&&Oe.length>0&&(Ee=Ee.filter(Ye=>!Oe.includes(Ye))),we(Re,Ee)},je=(Re,Oe,Ee,Ye)=>{var pe;if(typeof window<"u"){const Ae=window,Be=null===(pe=null==Ae?void 0:Ae.Ionic)||void 0===pe?void 0:pe.config;if(Be){const Dt=Be.get("_ael");if(Dt)return Dt(Re,Oe,Ee,Ye);if(Be._ael)return Be._ael(Re,Oe,Ee,Ye)}}return Re.addEventListener(Oe,Ee,Ye)},Fe=(Re,Oe,Ee,Ye)=>{var pe;if(typeof window<"u"){const Ae=window,Be=null===(pe=null==Ae?void 0:Ae.Ionic)||void 0===pe?void 0:pe.config;if(Be){const Dt=Be.get("_rel");if(Dt)return Dt(Re,Oe,Ee,Ye);if(Be._rel)return Be._rel(Re,Oe,Ee,Ye)}}return Re.removeEventListener(Oe,Ee,Ye)},ue=(Re,Oe=Re)=>Re.shadowRoot||Oe,de=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re),ye=Re=>!!Re.shadowRoot&&!!Re.attachShadow,me=Re=>{const Oe=Re.closest("ion-item");return Oe?Oe.querySelector("ion-label"):null},Ne=Re=>{if(Re.focus(),Re.classList.contains("ion-focusable")){const Oe=Re.closest("ion-app");Oe&&Oe.setFocus([Re])}},Xe=(Re,Oe)=>{let Ee;const Ye=Re.getAttribute("aria-labelledby"),pe=Re.id;let Ae=null!==Ye&&""!==Ye.trim()?Ye:Oe+"-lbl",Be=null!==Ye&&""!==Ye.trim()?document.getElementById(Ye):me(Re);return Be?(null===Ye&&(Be.id=Ae),Ee=Be.textContent,Be.setAttribute("aria-hidden","true")):""!==pe.trim()&&(Be=document.querySelector(`label[for="${pe}"]`),Be&&(""!==Be.id?Ae=Be.id:Be.id=Ae=`${pe}-lbl`,Ee=Be.textContent)),{label:Be,labelId:Ae,labelText:Ee}},et=(Re,Oe,Ee,Ye,pe)=>{if(Re||ye(Oe)){let Ae=Oe.querySelector("input.aux-input");Ae||(Ae=Oe.ownerDocument.createElement("input"),Ae.type="hidden",Ae.classList.add("aux-input"),Oe.appendChild(Ae)),Ae.disabled=pe,Ae.name=Ee,Ae.value=Ye||""}},Ue=(Re,Oe,Ee)=>Math.max(Re,Math.min(Oe,Ee)),Se=(Re,Oe)=>{if(!Re){const Ee="ASSERT: "+Oe;throw console.error(Ee),new Error(Ee)}},ct=Re=>Re.timeStamp||Date.now(),We=Re=>{if(Re){const Oe=Re.changedTouches;if(Oe&&Oe.length>0){const Ee=Oe[0];return{x:Ee.clientX,y:Ee.clientY}}if(void 0!==Re.pageX)return{x:Re.pageX,y:Re.pageY}}return{x:0,y:0}},Ce=Re=>{const Oe="rtl"===document.dir;switch(Re){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(Re,Oe)=>{const Ee=Re._original||Re;return{_original:Re,emit:_e(Ee.emit.bind(Ee),Oe)}},_e=(Re,Oe=0)=>{let Ee;return(...Ye)=>{clearTimeout(Ee),Ee=setTimeout(Re,Oe,...Ye)}},He=(Re,Oe)=>{if(null!=Re||(Re={}),null!=Oe||(Oe={}),Re===Oe)return!0;const Ee=Object.keys(Re);if(Ee.length!==Object.keys(Oe).length)return!1;for(const Ye of Ee)if(!(Ye in Oe)||Re[Ye]!==Oe[Ye])return!1;return!0}},2364:(rn,it,x)=>{"use strict";x.d(it,{B:()=>de,H:()=>Dt,a:()=>Jn,b:()=>Yt,c:()=>ut,d:()=>tt,e:()=>ot,f:()=>tn,g:()=>At,h:()=>Ae,i:()=>an,j:()=>ye,r:()=>Gt,w:()=>nt});var d=x(5861);let X,re,we,De=!1,fe=!1,je=!1,Fe=!1,ue=!1;const de={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ye=V=>{const $=new URL(V,pr.$resourcesUrl$);return $.origin!==Br.location.origin?$.href:$.pathname},ct="s-id",We="sty-id",_e="http://www.w3.org/1999/xlink",He={},Ye=V=>"object"==(V=typeof V)||"function"===V;function pe(V){var $,ie,be;return null!==(be=null===(ie=null===($=V.head)||void 0===$?void 0:$.querySelector('meta[name="csp-nonce"]'))||void 0===ie?void 0:ie.getAttribute("content"))&&void 0!==be?be:void 0}const Ae=(V,$,...ie)=>{let be=null,dt=null,rt=null,Ct=!1,Wt=!1;const Lt=[],Vt=Wn=>{for(let Xn=0;Xn<Wn.length;Xn++)be=Wn[Xn],Array.isArray(be)?Vt(be):null!=be&&"boolean"!=typeof be&&((Ct="function"!=typeof V&&!Ye(be))&&(be=String(be)),Ct&&Wt?Lt[Lt.length-1].$text$+=be:Lt.push(Ct?Be(null,be):be),Wt=Ct)};if(Vt(ie),$){$.key&&(dt=$.key),$.name&&(rt=$.name);{const Wn=$.className||$.class;Wn&&($.class="object"!=typeof Wn?Wn:Object.keys(Wn).filter(Xn=>Wn[Xn]).join(" "))}}if("function"==typeof V)return V(null===$?{}:$,Lt,St);const fn=Be(V,null);return fn.$attrs$=$,Lt.length>0&&(fn.$children$=Lt),fn.$key$=dt,fn.$name$=rt,fn},Be=(V,$)=>({$flags$:0,$tag$:V,$text$:$,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Dt={},St={forEach:(V,$)=>V.map(at).forEach($),map:(V,$)=>V.map(at).map($).map(se)},at=V=>({vattrs:V.$attrs$,vchildren:V.$children$,vkey:V.$key$,vname:V.$name$,vtag:V.$tag$,vtext:V.$text$}),se=V=>{if("function"==typeof V.vtag){const ie=Object.assign({},V.vattrs);return V.vkey&&(ie.key=V.vkey),V.vname&&(ie.name=V.vname),Ae(V.vtag,ie,...V.vchildren||[])}const $=Be(V.vtag,V.vtext);return $.$attrs$=V.vattrs,$.$children$=V.vchildren,$.$key$=V.vkey,$.$name$=V.vname,$},Me=(V,$,ie,be,dt,rt,Ct)=>{let Wt,Lt,Vt,fn;if(1===rt.nodeType){for(Wt=rt.getAttribute("c-id"),Wt&&(Lt=Wt.split("."),(Lt[0]===Ct||"0"===Lt[0])&&(Vt={$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:rt.tagName.toLowerCase(),$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$.push(Vt),rt.removeAttribute("c-id"),V.$children$||(V.$children$=[]),V.$children$[Vt.$index$]=Vt,V=Vt,be&&"0"===Vt.$depth$&&(be[Vt.$index$]=Vt.$elm$))),fn=rt.childNodes.length-1;fn>=0;fn--)Me(V,$,ie,be,dt,rt.childNodes[fn],Ct);if(rt.shadowRoot)for(fn=rt.shadowRoot.childNodes.length-1;fn>=0;fn--)Me(V,$,ie,be,dt,rt.shadowRoot.childNodes[fn],Ct)}else if(8===rt.nodeType)Lt=rt.nodeValue.split("."),(Lt[1]===Ct||"0"===Lt[1])&&(Wt=Lt[0],Vt={$flags$:0,$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4],$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Wt?(Vt.$elm$=rt.nextSibling,Vt.$elm$&&3===Vt.$elm$.nodeType&&(Vt.$text$=Vt.$elm$.textContent,$.push(Vt),rt.remove(),V.$children$||(V.$children$=[]),V.$children$[Vt.$index$]=Vt,be&&"0"===Vt.$depth$&&(be[Vt.$index$]=Vt.$elm$))):Vt.$hostId$===Ct&&("s"===Wt?(Vt.$tag$="slot",rt["s-sn"]=Lt[5]?Vt.$name$=Lt[5]:"",rt["s-sr"]=!0,be&&(Vt.$elm$=Rr.createElement(Vt.$tag$),Vt.$name$&&Vt.$elm$.setAttribute("name",Vt.$name$),rt.parentNode.insertBefore(Vt.$elm$,rt),rt.remove(),"0"===Vt.$depth$&&(be[Vt.$index$]=Vt.$elm$)),ie.push(Vt),V.$children$||(V.$children$=[]),V.$children$[Vt.$index$]=Vt):"r"===Wt&&(be?rt.remove():(dt["s-cr"]=rt,rt["s-cn"]=!0))));else if(V&&"style"===V.$tag$){const Wn=Be(null,rt.textContent);Wn.$elm$=rt,Wn.$index$="0",V.$children$=[Wn]}},Qe=(V,$)=>{if(1===V.nodeType){let ie=0;for(;ie<V.childNodes.length;ie++)Qe(V.childNodes[ie],$);if(V.shadowRoot)for(ie=0;ie<V.shadowRoot.childNodes.length;ie++)Qe(V.shadowRoot.childNodes[ie],$)}else if(8===V.nodeType){const ie=V.nodeValue.split(".");"o"===ie[0]&&($.set(ie[1]+"."+ie[2],V),V.nodeValue="",V["s-en"]=ie[3])}},ut=V=>hr.push(V),At=V=>Kt(V).$modeName$,tn=V=>Kt(V).$hostElement$,tt=(V,$,ie)=>{const be=tn(V);return{emit:dt=>Tn(be,$,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:dt})}},Tn=(V,$,ie)=>{const be=pr.ce($,ie);return V.dispatchEvent(be),be},mt=new WeakMap,yt=(V,$,ie)=>{let be=Ai.get(V);wi&&ie?(be=be||new CSSStyleSheet,"string"==typeof be?be=$:be.replaceSync($)):be=$,Ai.set(V,be)},gt=(V,$,ie)=>{var be;const dt=Xt($,ie),rt=Ai.get(dt);if(V=11===V.nodeType?V:Rr,rt)if("string"==typeof rt){let Wt,Ct=mt.get(V=V.head||V);if(Ct||mt.set(V,Ct=new Set),!Ct.has(dt)){if(V.host&&(Wt=V.querySelector(`[${We}="${dt}"]`)))Wt.innerHTML=rt;else{Wt=Rr.createElement("style"),Wt.innerHTML=rt;const Lt=null!==(be=pr.$nonce$)&&void 0!==be?be:pe(Rr);null!=Lt&&Wt.setAttribute("nonce",Lt),V.insertBefore(Wt,V.querySelector("link"))}Ct&&Ct.add(dt)}}else V.adoptedStyleSheets.includes(rt)||(V.adoptedStyleSheets=[...V.adoptedStyleSheets,rt]);return dt},Xt=(V,$)=>"sc-"+($&&32&V.$flags$?V.$tagName$+"-"+$:V.$tagName$),_n=V=>V.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),vn=(V,$,ie,be,dt,rt)=>{if(ie!==be){let Ct=Jt(V,$),Wt=$.toLowerCase();if("class"===$){const Lt=V.classList,Vt=dn(ie),fn=dn(be);Lt.remove(...Vt.filter(Wn=>Wn&&!fn.includes(Wn))),Lt.add(...fn.filter(Wn=>Wn&&!Vt.includes(Wn)))}else if("style"===$){for(const Lt in ie)(!be||null==be[Lt])&&(Lt.includes("-")?V.style.removeProperty(Lt):V.style[Lt]="");for(const Lt in be)(!ie||be[Lt]!==ie[Lt])&&(Lt.includes("-")?V.style.setProperty(Lt,be[Lt]):V.style[Lt]=be[Lt])}else if("key"!==$)if("ref"===$)be&&be(V);else if(Ct||"o"!==$[0]||"n"!==$[1]){const Lt=Ye(be);if((Ct||Lt&&null!==be)&&!dt)try{if(V.tagName.includes("-"))V[$]=be;else{const fn=null==be?"":be;"list"===$?Ct=!1:(null==ie||V[$]!=fn)&&(V[$]=fn)}}catch{}let Vt=!1;Wt!==(Wt=Wt.replace(/^xlink\:?/,""))&&($=Wt,Vt=!0),null==be||!1===be?(!1!==be||""===V.getAttribute($))&&(Vt?V.removeAttributeNS(_e,$):V.removeAttribute($)):(!Ct||4&rt||dt)&&!Lt&&(be=!0===be?"":be,Vt?V.setAttributeNS(_e,$,be):V.setAttribute($,be))}else $="-"===$[2]?$.slice(3):Jt(Br,Wt)?Wt.slice(2):Wt[2]+$.slice(3),ie&&pr.rel(V,$,ie,!1),be&&pr.ael(V,$,be,!1)}},cn=/\s/,dn=V=>V?V.split(cn):[],bn=(V,$,ie,be)=>{const dt=11===$.$elm$.nodeType&&$.$elm$.host?$.$elm$.host:$.$elm$,rt=V&&V.$attrs$||He,Ct=$.$attrs$||He;for(be in rt)be in Ct||vn(dt,be,rt[be],void 0,ie,$.$flags$);for(be in Ct)vn(dt,be,rt[be],Ct[be],ie,$.$flags$)},ir=(V,$,ie,be)=>{const dt=$.$children$[ie];let Ct,Wt,Lt,rt=0;if(De||(je=!0,"slot"===dt.$tag$&&(X&&be.classList.add(X+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)Ct=dt.$elm$=Rr.createTextNode(dt.$text$);else if(1&dt.$flags$)Ct=dt.$elm$=Rr.createTextNode("");else{if(Fe||(Fe="svg"===dt.$tag$),Ct=dt.$elm$=Rr.createElementNS(Fe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&dt.$flags$?"slot-fb":dt.$tag$),Fe&&"foreignObject"===dt.$tag$&&(Fe=!1),bn(null,dt,Fe),(V=>null!=V)(X)&&Ct["s-si"]!==X&&Ct.classList.add(Ct["s-si"]=X),dt.$children$)for(rt=0;rt<dt.$children$.length;++rt)Wt=ir(V,dt,rt,Ct),Wt&&Ct.appendChild(Wt);"svg"===dt.$tag$?Fe=!1:"foreignObject"===Ct.tagName&&(Fe=!0)}return Ct["s-hn"]=we,3&dt.$flags$&&(Ct["s-sr"]=!0,Ct["s-cr"]=re,Ct["s-sn"]=dt.$name$||"",Lt=V&&V.$children$&&V.$children$[ie],Lt&&Lt.$tag$===dt.$tag$&&V.$elm$&&lr(V.$elm$,!1)),Ct},lr=(V,$)=>{pr.$flags$|=1;const ie=V.childNodes;for(let be=ie.length-1;be>=0;be--){const dt=ie[be];dt["s-hn"]!==we&&dt["s-ol"]&&(vr(dt).insertBefore(dt,cr(dt)),dt["s-ol"].remove(),dt["s-ol"]=void 0,je=!0),$&&lr(dt,$)}pr.$flags$&=-2},xn=(V,$,ie,be,dt,rt)=>{let Wt,Ct=V["s-cr"]&&V["s-cr"].parentNode||V;for(Ct.shadowRoot&&Ct.tagName===we&&(Ct=Ct.shadowRoot);dt<=rt;++dt)be[dt]&&(Wt=ir(null,ie,dt,V),Wt&&(be[dt].$elm$=Wt,Ct.insertBefore(Wt,cr($))))},Pn=(V,$,ie)=>{for(let be=$;be<=ie;++be){const dt=V[be];if(dt){const rt=dt.$elm$;Sn(dt),rt&&(fe=!0,rt["s-ol"]?rt["s-ol"].remove():lr(rt,!0),rt.remove())}}},Zn=(V,$)=>V.$tag$===$.$tag$&&("slot"===V.$tag$?V.$name$===$.$name$:V.$key$===$.$key$),cr=V=>V&&V["s-ol"]||V,vr=V=>(V["s-ol"]?V["s-ol"]:V).parentNode,Nt=(V,$)=>{const ie=$.$elm$=V.$elm$,be=V.$children$,dt=$.$children$,rt=$.$tag$,Ct=$.$text$;let Wt;null===Ct?(Fe="svg"===rt||"foreignObject"!==rt&&Fe,"slot"===rt||bn(V,$,Fe),null!==be&&null!==dt?((V,$,ie,be)=>{let pi,oi,dt=0,rt=0,Ct=0,Wt=0,Lt=$.length-1,Vt=$[0],fn=$[Lt],Wn=be.length-1,Xn=be[0],_r=be[Wn];for(;dt<=Lt&&rt<=Wn;)if(null==Vt)Vt=$[++dt];else if(null==fn)fn=$[--Lt];else if(null==Xn)Xn=be[++rt];else if(null==_r)_r=be[--Wn];else if(Zn(Vt,Xn))Nt(Vt,Xn),Vt=$[++dt],Xn=be[++rt];else if(Zn(fn,_r))Nt(fn,_r),fn=$[--Lt],_r=be[--Wn];else if(Zn(Vt,_r))("slot"===Vt.$tag$||"slot"===_r.$tag$)&&lr(Vt.$elm$.parentNode,!1),Nt(Vt,_r),V.insertBefore(Vt.$elm$,fn.$elm$.nextSibling),Vt=$[++dt],_r=be[--Wn];else if(Zn(fn,Xn))("slot"===Vt.$tag$||"slot"===_r.$tag$)&&lr(fn.$elm$.parentNode,!1),Nt(fn,Xn),V.insertBefore(fn.$elm$,Vt.$elm$),fn=$[--Lt],Xn=be[++rt];else{for(Ct=-1,Wt=dt;Wt<=Lt;++Wt)if($[Wt]&&null!==$[Wt].$key$&&$[Wt].$key$===Xn.$key$){Ct=Wt;break}Ct>=0?(oi=$[Ct],oi.$tag$!==Xn.$tag$?pi=ir($&&$[rt],ie,Ct,V):(Nt(oi,Xn),$[Ct]=void 0,pi=oi.$elm$),Xn=be[++rt]):(pi=ir($&&$[rt],ie,rt,V),Xn=be[++rt]),pi&&vr(Vt.$elm$).insertBefore(pi,cr(Vt.$elm$))}dt>Lt?xn(V,null==be[Wn+1]?null:be[Wn+1].$elm$,ie,be,rt,Wn):rt>Wn&&Pn($,dt,Lt)})(ie,be,$,dt):null!==dt?(null!==V.$text$&&(ie.textContent=""),xn(ie,null,$,dt,0,dt.length-1)):null!==be&&Pn(be,0,be.length-1),Fe&&"svg"===rt&&(Fe=!1)):(Wt=ie["s-cr"])?Wt.parentNode.textContent=Ct:V.$text$!==Ct&&(ie.data=Ct)},Fn=V=>{const $=V.childNodes;let ie,be,dt,rt,Ct,Wt;for(be=0,dt=$.length;be<dt;be++)if(ie=$[be],1===ie.nodeType){if(ie["s-sr"])for(Ct=ie["s-sn"],ie.hidden=!1,rt=0;rt<dt;rt++)if(Wt=$[rt].nodeType,$[rt]["s-hn"]!==ie["s-hn"]||""!==Ct){if(1===Wt&&Ct===$[rt].getAttribute("slot")){ie.hidden=!0;break}}else if(1===Wt||3===Wt&&""!==$[rt].textContent.trim()){ie.hidden=!0;break}Fn(ie)}},Ut=[],jn=V=>{let $,ie,be,dt,rt,Ct,Wt=0;const Lt=V.childNodes,Vt=Lt.length;for(;Wt<Vt;Wt++){if($=Lt[Wt],$["s-sr"]&&(ie=$["s-cr"])&&ie.parentNode)for(be=ie.parentNode.childNodes,dt=$["s-sn"],Ct=be.length-1;Ct>=0;Ct--)ie=be[Ct],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==$["s-hn"]&&(dr(ie,dt)?(rt=Ut.find(fn=>fn.$nodeToRelocate$===ie),fe=!0,ie["s-sn"]=ie["s-sn"]||dt,rt?rt.$slotRefNode$=$:Ut.push({$slotRefNode$:$,$nodeToRelocate$:ie}),ie["s-sr"]&&Ut.map(fn=>{dr(fn.$nodeToRelocate$,ie["s-sn"])&&(rt=Ut.find(Wn=>Wn.$nodeToRelocate$===ie),rt&&!fn.$slotRefNode$&&(fn.$slotRefNode$=rt.$slotRefNode$))})):Ut.some(fn=>fn.$nodeToRelocate$===ie)||Ut.push({$nodeToRelocate$:ie}));1===$.nodeType&&jn($)}},dr=(V,$)=>1===V.nodeType?null===V.getAttribute("slot")&&""===$||V.getAttribute("slot")===$:V["s-sn"]===$||""===$,Sn=V=>{V.$attrs$&&V.$attrs$.ref&&V.$attrs$.ref(null),V.$children$&&V.$children$.map(Sn)},Xr=(V,$)=>{$&&!V.$onRenderResolve$&&$["s-p"]&&$["s-p"].push(new Promise(ie=>V.$onRenderResolve$=ie))},zr=(V,$)=>{if(V.$flags$|=16,!(4&V.$flags$))return Xr(V,V.$ancestorComponent$),nt(()=>br(V,$));V.$flags$|=512},br=(V,$)=>{const be=V.$lazyInstance$;let dt;return $&&(V.$flags$|=256,V.$queuedListeners$&&(V.$queuedListeners$.map(([rt,Ct])=>Bn(be,rt,Ct)),V.$queuedListeners$=void 0),dt=Bn(be,"componentWillLoad")),dt=fr(dt,()=>Bn(be,"componentWillRender")),fr(dt,()=>Ze(V,be,$))},fr=(V,$)=>_t(V)?V.then($):$(),_t=V=>V instanceof Promise||V&&V.then&&"function"==typeof V.then,Ze=function(){var V=(0,d.Z)(function*($,ie,be){var dt;const rt=$.$hostElement$,Wt=rt["s-rc"];be&&(V=>{const $=V.$cmpMeta$,ie=V.$hostElement$,be=$.$flags$,rt=gt(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),$,V.$modeName$);10&be&&(ie["s-sc"]=rt,ie.classList.add(rt+"-h"),2&be&&ie.classList.add(rt+"-s"))})($);Pt($,ie,rt,be),Wt&&(Wt.map(Vt=>Vt()),rt["s-rc"]=void 0);{const Vt=null!==(dt=rt["s-p"])&&void 0!==dt?dt:[],fn=()=>Zt($);0===Vt.length?fn():(Promise.all(Vt).then(fn),$.$flags$|=4,Vt.length=0)}});return function(ie,be,dt){return V.apply(this,arguments)}}(),Pt=(V,$,ie,be)=>{try{$=$.render&&$.render(),V.$flags$&=-17,V.$flags$|=2,((V,$,ie=!1)=>{const be=V.$hostElement$,dt=V.$cmpMeta$,rt=V.$vnode$||Be(null,null),Ct=(V=>V&&V.$tag$===Dt)($)?$:Ae(null,null,$);if(we=be.tagName,dt.$attrsToReflect$&&(Ct.$attrs$=Ct.$attrs$||{},dt.$attrsToReflect$.map(([Wt,Lt])=>Ct.$attrs$[Lt]=be[Wt])),ie&&Ct.$attrs$)for(const Wt of Object.keys(Ct.$attrs$))be.hasAttribute(Wt)&&!["key","ref","style","class"].includes(Wt)&&(Ct.$attrs$[Wt]=be[Wt]);if(Ct.$tag$=null,Ct.$flags$|=4,V.$vnode$=Ct,Ct.$elm$=rt.$elm$=be.shadowRoot||be,X=be["s-sc"],re=be["s-cr"],De=0!=(1&dt.$flags$),fe=!1,Nt(rt,Ct),pr.$flags$|=1,je){jn(Ct.$elm$);let Wt,Lt,Vt,fn,Wn,Xn,_r=0;for(;_r<Ut.length;_r++)Wt=Ut[_r],Lt=Wt.$nodeToRelocate$,Lt["s-ol"]||(Vt=Rr.createTextNode(""),Vt["s-nr"]=Lt,Lt.parentNode.insertBefore(Lt["s-ol"]=Vt,Lt));for(_r=0;_r<Ut.length;_r++)if(Wt=Ut[_r],Lt=Wt.$nodeToRelocate$,Wt.$slotRefNode$){for(fn=Wt.$slotRefNode$.parentNode,Wn=Wt.$slotRefNode$.nextSibling,Vt=Lt["s-ol"];Vt=Vt.previousSibling;)if(Xn=Vt["s-nr"],Xn&&Xn["s-sn"]===Lt["s-sn"]&&fn===Xn.parentNode&&(Xn=Xn.nextSibling,!Xn||!Xn["s-nr"])){Wn=Xn;break}(!Wn&&fn!==Lt.parentNode||Lt.nextSibling!==Wn)&&Lt!==Wn&&(!Lt["s-hn"]&&Lt["s-ol"]&&(Lt["s-hn"]=Lt["s-ol"].parentNode.nodeName),fn.insertBefore(Lt,Wn))}else 1===Lt.nodeType&&(Lt.hidden=!0)}fe&&Fn(Ct.$elm$),pr.$flags$&=-2,Ut.length=0})(V,$,be)}catch(dt){Qn(dt,V.$hostElement$)}return null},Zt=V=>{const ie=V.$hostElement$,dt=V.$lazyInstance$,rt=V.$ancestorComponent$;Bn(dt,"componentDidRender"),64&V.$flags$?Bn(dt,"componentDidUpdate"):(V.$flags$|=64,$e(ie),Bn(dt,"componentDidLoad"),V.$onReadyResolve$(ie),rt||In()),V.$onInstanceResolve$(ie),V.$onRenderResolve$&&(V.$onRenderResolve$(),V.$onRenderResolve$=void 0),512&V.$flags$&&Mi(()=>zr(V,!1)),V.$flags$&=-517},an=V=>{{const $=Kt(V),ie=$.$hostElement$.isConnected;return ie&&2==(18&$.$flags$)&&zr($,!1),ie}},In=V=>{$e(Rr.documentElement),Mi(()=>Tn(Br,"appload",{detail:{namespace:"ionic"}}))},Bn=(V,$,ie)=>{if(V&&V[$])try{return V[$](ie)}catch(be){Qn(be)}},$e=V=>V.classList.add("hydrated"),W=(V,$,ie)=>{var be;if($.$members$){V.watchers&&($.$watchers$=V.watchers);const dt=Object.entries($.$members$),rt=V.prototype;if(dt.map(([Ct,[Wt]])=>{31&Wt||2&ie&&32&Wt?Object.defineProperty(rt,Ct,{get(){return((V,$)=>Kt(this).$instanceValues$.get($))(0,Ct)},set(Lt){((V,$,ie,be)=>{const dt=Kt(V),rt=dt.$hostElement$,Ct=dt.$instanceValues$.get($),Wt=dt.$flags$,Lt=dt.$lazyInstance$;ie=((V,$)=>null==V||Ye(V)?V:4&$?"false"!==V&&(""===V||!!V):2&$?parseFloat(V):1&$?String(V):V)(ie,be.$members$[$][0]);const Vt=Number.isNaN(Ct)&&Number.isNaN(ie);if((!(8&Wt)||void 0===Ct)&&ie!==Ct&&!Vt&&(dt.$instanceValues$.set($,ie),Lt)){if(be.$watchers$&&128&Wt){const Wn=be.$watchers$[$];Wn&&Wn.map(Xn=>{try{Lt[Xn](ie,Ct,$)}catch(_r){Qn(_r,rt)}})}2==(18&Wt)&&zr(dt,!1)}})(this,Ct,Lt,$)},configurable:!0,enumerable:!0}):1&ie&&64&Wt&&Object.defineProperty(rt,Ct,{value(...Lt){const Vt=Kt(this);return Vt.$onInstancePromise$.then(()=>Vt.$lazyInstance$[Ct](...Lt))}})}),1&ie){const Ct=new Map;rt.attributeChangedCallback=function(Wt,Lt,Vt){pr.jmp(()=>{const fn=Ct.get(Wt);if(this.hasOwnProperty(fn))Vt=this[fn],delete this[fn];else{if(rt.hasOwnProperty(fn)&&"number"==typeof this[fn]&&this[fn]==Vt)return;if(null==fn){const Wn=Kt(this),Xn=null==Wn?void 0:Wn.$flags$;if(!(8&Xn)&&128&Xn&&Vt!==Lt){const _r=Wn.$lazyInstance$,pi=$.$watchers$[Wt];null==pi||pi.forEach(oi=>{null!=_r[oi]&&_r[oi].call(_r,Vt,Lt,Wt)})}return}}this[fn]=(null!==Vt||"boolean"!=typeof this[fn])&&Vt})},V.observedAttributes=Array.from(new Set([...Object.keys(null!==(be=$.$watchers$)&&void 0!==be?be:{}),...dt.filter(([Wt,Lt])=>15&Lt[0]).map(([Wt,Lt])=>{const Vt=Lt[1]||Wt;return Ct.set(Vt,Wt),512&Lt[0]&&$.$attrsToReflect$.push([Wt,Vt]),Vt})]))}}return V},B=function(){var V=(0,d.Z)(function*($,ie,be,dt,rt){if(!(32&ie.$flags$)){ie.$flags$|=32;{if((rt=Ur(be)).then){const Vt=()=>{};rt=yield rt,Vt()}rt.isProxied||(be.$watchers$=rt.watchers,W(rt,be,2),rt.isProxied=!0);const Lt=()=>{};ie.$flags$|=8;try{new rt(ie)}catch(Vt){Qn(Vt)}ie.$flags$&=-9,ie.$flags$|=128,Lt(),ae(ie.$lazyInstance$)}if(rt.style){let Lt=rt.style;"string"!=typeof Lt&&(Lt=Lt[ie.$modeName$=(V=>hr.map($=>$(V)).find($=>!!$))($)]);const Vt=Xt(be,ie.$modeName$);if(!Ai.has(Vt)){const fn=()=>{};yt(Vt,Lt,!!(1&be.$flags$)),fn()}}}const Ct=ie.$ancestorComponent$,Wt=()=>zr(ie,!0);Ct&&Ct["s-rc"]?Ct["s-rc"].push(Wt):Wt()});return function(ie,be,dt,rt,Ct){return V.apply(this,arguments)}}(),ae=V=>{Bn(V,"connectedCallback")},Ge=V=>{const $=V["s-cr"]=Rr.createComment("");$["s-cn"]=!0,V.insertBefore($,V.firstChild)},Mt=V=>{Bn(V,"disconnectedCallback")},vt=function(){var V=(0,d.Z)(function*($){if(!(1&pr.$flags$)){const ie=Kt($);ie.$rmListeners$&&(ie.$rmListeners$.map(be=>be()),ie.$rmListeners$=void 0),null!=ie&&ie.$lazyInstance$?Mt(ie.$lazyInstance$):null!=ie&&ie.$onReadyPromise$&&ie.$onReadyPromise$.then(()=>Mt(ie.$lazyInstance$))}});return function(ie){return V.apply(this,arguments)}}(),Yt=(V,$={})=>{var ie;const dt=[],rt=$.exclude||[],Ct=Br.customElements,Wt=Rr.head,Lt=Wt.querySelector("meta[charset]"),Vt=Rr.createElement("style"),fn=[],Wn=Rr.querySelectorAll(`[${We}]`);let Xn,_r=!0,pi=0;for(Object.assign(pr,$),pr.$resourcesUrl$=new URL($.resourcesUrl||"./",Rr.baseURI).href,pr.$flags$|=2;pi<Wn.length;pi++)yt(Wn[pi].getAttribute(We),_n(Wn[pi].innerHTML),!0);V.map(oi=>{oi[1].map(ui=>{var bs;const rr={$flags$:ui[0],$tagName$:ui[1],$members$:ui[2],$listeners$:ui[3]};rr.$members$=ui[2],rr.$listeners$=ui[3],rr.$attrsToReflect$=[],rr.$watchers$=null!==(bs=ui[4])&&void 0!==bs?bs:{};const Gr=rr.$tagName$,ei=class extends HTMLElement{constructor(Ii){super(Ii),wn(Ii=this,rr),1&rr.$flags$&&Ii.attachShadow({mode:"open",delegatesFocus:!!(16&rr.$flags$)})}connectedCallback(){Xn&&(clearTimeout(Xn),Xn=null),_r?fn.push(this):pr.jmp(()=>(V=>{if(!(1&pr.$flags$)){const $=Kt(V),ie=$.$cmpMeta$,be=()=>{};if(1&$.$flags$)qt(V,$,ie.$listeners$),null!=$&&$.$lazyInstance$?ae($.$lazyInstance$):null!=$&&$.$onReadyPromise$&&$.$onReadyPromise$.then(()=>ae($.$lazyInstance$));else{let dt;if($.$flags$|=1,dt=V.getAttribute(ct),dt){if(1&ie.$flags$){const rt=gt(V.shadowRoot,ie,V.getAttribute("s-mode"));V.classList.remove(rt+"-h",rt+"-s")}((V,$,ie,be)=>{const rt=V.shadowRoot,Ct=[],Lt=rt?[]:null,Vt=be.$vnode$=Be($,null);pr.$orgLocNodes$||Qe(Rr.body,pr.$orgLocNodes$=new Map),V[ct]=ie,V.removeAttribute(ct),Me(Vt,Ct,[],Lt,V,V,ie),Ct.map(fn=>{const Wn=fn.$hostId$+"."+fn.$nodeId$,Xn=pr.$orgLocNodes$.get(Wn),_r=fn.$elm$;Xn&&Ar&&""===Xn["s-en"]&&Xn.parentNode.insertBefore(_r,Xn.nextSibling),rt||(_r["s-hn"]=$,Xn&&(_r["s-ol"]=Xn,_r["s-ol"]["s-nr"]=_r)),pr.$orgLocNodes$.delete(Wn)}),rt&&Lt.map(fn=>{fn&&rt.appendChild(fn)})})(V,ie.$tagName$,dt,$)}dt||12&ie.$flags$&&Ge(V);{let rt=V;for(;rt=rt.parentNode||rt.host;)if(1===rt.nodeType&&rt.hasAttribute("s-id")&&rt["s-p"]||rt["s-p"]){Xr($,$.$ancestorComponent$=rt);break}}ie.$members$&&Object.entries(ie.$members$).map(([rt,[Ct]])=>{if(31&Ct&&V.hasOwnProperty(rt)){const Wt=V[rt];delete V[rt],V[rt]=Wt}}),B(V,$,ie)}be()}})(this))}disconnectedCallback(){pr.jmp(()=>vt(this))}componentOnReady(){return Kt(this).$onReadyPromise$}};rr.$lazyBundleId$=oi[0],!rt.includes(Gr)&&!Ct.get(Gr)&&(dt.push(Gr),Ct.define(Gr,W(ei,rr,1)))})});{Vt.innerHTML=dt+"{visibility:hidden}.hydrated{visibility:inherit}",Vt.setAttribute("data-styles","");const oi=null!==(ie=pr.$nonce$)&&void 0!==ie?ie:pe(Rr);null!=oi&&Vt.setAttribute("nonce",oi),Wt.insertBefore(Vt,Lt?Lt.nextSibling:Wt.firstChild)}_r=!1,fn.length?fn.map(oi=>oi.connectedCallback()):pr.jmp(()=>Xn=setTimeout(In,30))},qt=(V,$,ie,be)=>{ie&&ie.map(([dt,rt,Ct])=>{const Wt=Je(V,dt),Lt=ln($,Ct),Vt=Le(dt);pr.ael(Wt,rt,Lt,Vt),($.$rmListeners$=$.$rmListeners$||[]).push(()=>pr.rel(Wt,rt,Lt,Vt))})},ln=(V,$)=>ie=>{try{256&V.$flags$?V.$lazyInstance$[$](ie):(V.$queuedListeners$=V.$queuedListeners$||[]).push([$,ie])}catch(be){Qn(be)}},Je=(V,$)=>4&$?Rr:8&$?Br:16&$?Rr.body:V,Le=V=>0!=(2&V),ft=new WeakMap,Kt=V=>ft.get(V),Gt=(V,$)=>ft.set($.$lazyInstance$=V,$),wn=(V,$)=>{const ie={$flags$:0,$hostElement$:V,$cmpMeta$:$,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(be=>ie.$onInstanceResolve$=be),ie.$onReadyPromise$=new Promise(be=>ie.$onReadyResolve$=be),V["s-p"]=[],V["s-rc"]=[],qt(V,ie,$.$listeners$),ft.set(V,ie)},Jt=(V,$)=>$ in V,Qn=(V,$)=>(0,console.error)(V,$),tr=new Map,Ur=(V,$,ie)=>{const be=V.$tagName$.replace(/-/g,"_"),dt=V.$lazyBundleId$,rt=tr.get(dt);return rt?rt[be]:x(863)(`./${dt}.entry.js`).then(Ct=>(tr.set(dt,Ct),Ct[be]),Qn)},Ai=new Map,hr=[],Br=typeof window<"u"?window:{},Rr=Br.document||{head:{}},pr={$flags$:0,$resourcesUrl$:"",jmp:V=>V(),raf:V=>requestAnimationFrame(V),ael:(V,$,ie,be)=>V.addEventListener($,ie,be),rel:(V,$,ie,be)=>V.removeEventListener($,ie,be),ce:(V,$)=>new CustomEvent(V,$)},Jn=V=>{Object.assign(pr,V)},Ar=!0,wi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Or=[],ki=[],Er=(V,$)=>ie=>{V.push(ie),ue||(ue=!0,$&&4&pr.$flags$?Mi($i):pr.raf($i))},_i=V=>{for(let $=0;$<V.length;$++)try{V[$](performance.now())}catch(ie){Qn(ie)}V.length=0},$i=()=>{_i(Or),_i(ki),(ue=Or.length>0)&&pr.raf($i)},Mi=V=>Promise.resolve(void 0).then(V),ot=Er(Or,!1),nt=Er(ki,!0)},6710:(rn,it,x)=>{"use strict";x.d(it,{a:()=>g,b:()=>X,p:()=>d});const d=(re,...we)=>console.warn(`[Ionic Warning]: ${re}`,...we),g=(re,...we)=>console.error(`[Ionic Error]: ${re}`,...we),X=(re,...we)=>console.error(`<${re.tagName.toLowerCase()}> must be used inside ${we.join(" or ")}.`)},4505:(rn,it,x)=>{"use strict";x.d(it,{m:()=>de});var d=x(5861),g=x(2124),X=x(839),re=x(152),we=x(1774);const De=ye=>(0,we.c)().duration(ye?400:300),fe=ye=>{let me,Ne;const Xe=ye.width+8,et=(0,we.c)(),Ue=(0,we.c)();ye.isEndSide?(me=Xe+"px",Ne="0px"):(me=-Xe+"px",Ne="0px"),et.addElement(ye.menuInnerEl).fromTo("transform",`translateX(${me})`,`translateX(${Ne})`);const ct="ios"===(0,re.b)(ye),We=ct?.2:.25;return Ue.addElement(ye.backdropEl).fromTo("opacity",.01,We),De(ct).addAnimation([et,Ue])},je=ye=>{let me,Ne;const Xe=(0,re.b)(ye),et=ye.width;ye.isEndSide?(me=-et+"px",Ne=et+"px"):(me=et+"px",Ne=-et+"px");const Ue=(0,we.c)().addElement(ye.menuInnerEl).fromTo("transform",`translateX(${Ne})`,"translateX(0px)"),Se=(0,we.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${me})`),ct=(0,we.c)().addElement(ye.backdropEl).fromTo("opacity",.01,.32);return De("ios"===Xe).addAnimation([Ue,Se,ct])},Fe=ye=>{const me=(0,re.b)(ye),Ne=ye.width*(ye.isEndSide?-1:1)+"px",Xe=(0,we.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`);return De("ios"===me).addAnimation(Xe)},de=(()=>{const ye=new Map,me=[],Ne=function(){var se=(0,d.Z)(function*(ge){const Me=yield Ce(ge);return!!Me&&Me.open()});return function(Me){return se.apply(this,arguments)}}(),Xe=function(){var se=(0,d.Z)(function*(ge){const Me=yield void 0!==ge?Ce(ge):Ve();return void 0!==Me&&Me.close()});return function(Me){return se.apply(this,arguments)}}(),et=function(){var se=(0,d.Z)(function*(ge){const Me=yield Ce(ge);return!!Me&&Me.toggle()});return function(Me){return se.apply(this,arguments)}}(),Ue=function(){var se=(0,d.Z)(function*(ge,Me){const Qe=yield Ce(Me);return Qe&&(Qe.disabled=!ge),Qe});return function(Me,Qe){return se.apply(this,arguments)}}(),Se=function(){var se=(0,d.Z)(function*(ge,Me){const Qe=yield Ce(Me);return Qe&&(Qe.swipeGesture=ge),Qe});return function(Me,Qe){return se.apply(this,arguments)}}(),ct=function(){var se=(0,d.Z)(function*(ge){if(null!=ge){const Me=yield Ce(ge);return void 0!==Me&&Me.isOpen()}return void 0!==(yield Ve())});return function(Me){return se.apply(this,arguments)}}(),We=function(){var se=(0,d.Z)(function*(ge){const Me=yield Ce(ge);return!!Me&&!Me.disabled});return function(Me){return se.apply(this,arguments)}}(),Ce=function(){var se=(0,d.Z)(function*(ge){return yield at(),"start"===ge||"end"===ge?St(st=>st.side===ge&&!st.disabled)||St(st=>st.side===ge):null!=ge?St(Qe=>Qe.menuId===ge):St(Qe=>!Qe.disabled)||(me.length>0?me[0].el:void 0)});return function(Me){return se.apply(this,arguments)}}(),Ve=function(){var se=(0,d.Z)(function*(){return yield at(),Be()});return function(){return se.apply(this,arguments)}}(),_e=function(){var se=(0,d.Z)(function*(){return yield at(),Dt()});return function(){return se.apply(this,arguments)}}(),He=function(){var se=(0,d.Z)(function*(){return yield at(),jt()});return function(){return se.apply(this,arguments)}}(),Re=(se,ge)=>{ye.set(se,ge)},Ye=se=>{const ge=se.side;me.filter(Me=>Me.side===ge&&Me!==se).forEach(Me=>Me.disabled=!0)},pe=function(){var se=(0,d.Z)(function*(ge,Me,Qe){if(jt())return!1;if(Me){const st=yield Ve();st&&ge.el!==st&&(yield st.setOpen(!1,!1))}return ge._setOpen(Me,Qe)});return function(Me,Qe,st){return se.apply(this,arguments)}}(),Be=()=>St(se=>se._isOpen),Dt=()=>me.map(se=>se.el),jt=()=>me.some(se=>se.isAnimating),St=se=>{const ge=me.find(se);if(void 0!==ge)return ge.el},at=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(se=>new Promise(ge=>(0,X.c)(se,ge))));return Re("reveal",Fe),Re("push",je),Re("overlay",fe),typeof document<"u"&&document.addEventListener("ionBackButton",se=>{const ge=Be();ge&&se.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:Re,get:Ce,getMenus:_e,getOpen:Ve,isEnabled:We,swipeGesture:Se,isAnimating:He,isOpen:ct,enable:Ue,toggle:et,close:Xe,open:Ne,_getOpenSync:Be,_createAnimation:(se,ge)=>{const Me=ye.get(se);if(!Me)throw new Error("animation not registered");return Me(ge)},_register:se=>{me.indexOf(se)<0&&(se.disabled||Ye(se),me.push(se))},_unregister:se=>{const ge=me.indexOf(se);ge>-1&&me.splice(ge,1)},_setOpen:pe,_setActiveMenu:Ye}})()},6225:(rn,it,x)=>{"use strict";x.d(it,{d:()=>g,w:()=>d});const d=typeof window<"u"?window:void 0,g=typeof document<"u"?document:void 0},2690:(rn,it,x)=>{"use strict";x.d(it,{L:()=>re,a:()=>we,b:()=>De,c:()=>fe,d:()=>je,e:()=>Re,g:()=>Ye,l:()=>_e,s:()=>Oe,t:()=>de,w:()=>He});var d=x(5861),g=x(2364),X=x(839);const re="ionViewWillEnter",we="ionViewDidEnter",De="ionViewWillLeave",fe="ionViewDidLeave",je="ionViewWillUnload",de=pe=>new Promise((Ae,Be)=>{(0,g.w)(()=>{ye(pe),me(pe).then(Dt=>{Dt.animation&&Dt.animation.destroy(),Ne(pe),Ae(Dt)},Dt=>{Ne(pe),Be(Dt)})})}),ye=pe=>{const Ae=pe.enteringEl,Be=pe.leavingEl;Ee(Ae,Be,pe.direction),pe.showGoBack?Ae.classList.add("can-go-back"):Ae.classList.remove("can-go-back"),Oe(Ae,!1),Ae.style.setProperty("pointer-events","none"),Be&&(Oe(Be,!1),Be.style.setProperty("pointer-events","none"))},me=function(){var pe=(0,d.Z)(function*(Ae){const Be=yield Xe(Ae);return Be&&g.B.isBrowser?et(Be,Ae):Ue(Ae)});return function(Be){return pe.apply(this,arguments)}}(),Ne=pe=>{const Ae=pe.enteringEl,Be=pe.leavingEl;Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"),void 0!==Be&&(Be.classList.remove("ion-page-invisible"),Be.style.removeProperty("pointer-events"))},Xe=function(){var pe=(0,d.Z)(function*(Ae){return Ae.leavingEl&&Ae.animated&&0!==Ae.duration?Ae.animationBuilder?Ae.animationBuilder:"ios"===Ae.mode?(yield Promise.resolve().then(x.bind(x,7006))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,2952))).mdTransitionAnimation:void 0});return function(Be){return pe.apply(this,arguments)}}(),et=function(){var pe=(0,d.Z)(function*(Ae,Be){yield Se(Be,!0);const Dt=Ae(Be.baseEl,Be);Ce(Be.enteringEl,Be.leavingEl);const jt=yield We(Dt,Be);return Be.progressCallback&&Be.progressCallback(void 0),jt&&Ve(Be.enteringEl,Be.leavingEl),{hasCompleted:jt,animation:Dt}});return function(Be,Dt){return pe.apply(this,arguments)}}(),Ue=function(){var pe=(0,d.Z)(function*(Ae){const Be=Ae.enteringEl,Dt=Ae.leavingEl;return yield Se(Ae,!1),Ce(Be,Dt),Ve(Be,Dt),{hasCompleted:!0}});return function(Be){return pe.apply(this,arguments)}}(),Se=function(){var pe=(0,d.Z)(function*(Ae,Be){(void 0!==Ae.deepWait?Ae.deepWait:Be)&&(yield Promise.all([Re(Ae.enteringEl),Re(Ae.leavingEl)])),yield ct(Ae.viewIsReady,Ae.enteringEl)});return function(Be,Dt){return pe.apply(this,arguments)}}(),ct=function(){var pe=(0,d.Z)(function*(Ae,Be){Ae&&(yield Ae(Be))});return function(Be,Dt){return pe.apply(this,arguments)}}(),We=(pe,Ae)=>{const Be=Ae.progressCallback,Dt=new Promise(jt=>{pe.onFinish(St=>jt(1===St))});return Be?(pe.progressStart(!0),Be(pe)):pe.play(),Dt},Ce=(pe,Ae)=>{_e(Ae,De),_e(pe,re)},Ve=(pe,Ae)=>{_e(pe,we),_e(Ae,fe)},_e=(pe,Ae)=>{if(pe){const Be=new CustomEvent(Ae,{bubbles:!1,cancelable:!1});pe.dispatchEvent(Be)}},He=()=>new Promise(pe=>(0,X.r)(()=>(0,X.r)(()=>pe()))),Re=function(){var pe=(0,d.Z)(function*(Ae){const Be=Ae;if(Be){if(null!=Be.componentOnReady){if(null!=(yield Be.componentOnReady()))return}else if(null!=Be.__registerHost)return void(yield new Promise(jt=>(0,X.r)(jt)));yield Promise.all(Array.from(Be.children).map(Re))}});return function(Be){return pe.apply(this,arguments)}}(),Oe=(pe,Ae)=>{Ae?(pe.setAttribute("aria-hidden","true"),pe.classList.add("ion-page-hidden")):(pe.hidden=!1,pe.removeAttribute("aria-hidden"),pe.classList.remove("ion-page-hidden"))},Ee=(pe,Ae,Be)=>{void 0!==pe&&(pe.style.zIndex="back"===Be?"99":"101"),void 0!==Ae&&(Ae.style.zIndex="100")},Ye=pe=>pe.classList.contains("ion-page")?pe:pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||pe},9203:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Fe});var d=x(619);const g=(me,Ne,Xe,et)=>{const Ue=X(me)?{capture:!!et.capture,passive:!!et.passive}:!!et.capture;let Se,ct;return me.__zone_symbol__addEventListener?(Se="__zone_symbol__addEventListener",ct="__zone_symbol__removeEventListener"):(Se="addEventListener",ct="removeEventListener"),me[Se](Ne,Xe,Ue),()=>{me[ct](Ne,Xe,Ue)}},X=me=>{if(void 0===re)try{const Ne=Object.defineProperty({},"passive",{get:()=>{re=!0}});me.addEventListener("optsTest",()=>{},Ne)}catch{re=!1}return!!re};let re;const fe=me=>me instanceof Document?me:me.ownerDocument,Fe=me=>{let Ne=!1,Xe=!1,et=!0,Ue=!1;const Se=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},me),ct=Se.canStart,We=Se.onWillStart,Ce=Se.onStart,Ve=Se.onEnd,_e=Se.notCaptured,He=Se.onMove,Re=Se.threshold,Oe=Se.passive,Ee=Se.blurOnStart,Ye={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},pe=((me,Ne,Xe)=>{const et=Xe*(Math.PI/180),Ue="x"===me,Se=Math.cos(et),ct=Ne*Ne;let We=0,Ce=0,Ve=!1,_e=0;return{start(He,Re){We=He,Ce=Re,_e=0,Ve=!0},detect(He,Re){if(!Ve)return!1;const Oe=He-We,Ee=Re-Ce,Ye=Oe*Oe+Ee*Ee;if(Ye<ct)return!1;const pe=Math.sqrt(Ye),Ae=(Ue?Oe:Ee)/pe;return _e=Ae>Se?1:Ae<-Se?-1:0,Ve=!1,!0},isGesture:()=>0!==_e,getDirection:()=>_e}})(Se.direction,Se.threshold,Se.maxAngle),Ae=d.G.createGesture({name:me.gestureName,priority:me.gesturePriority,disableScroll:me.disableScroll}),jt=()=>{Ne&&(Ue=!1,He&&He(Ye))},St=()=>!!Ae.capture()&&(Ne=!0,et=!1,Ye.startX=Ye.currentX,Ye.startY=Ye.currentY,Ye.startTime=Ye.currentTime,We?We(Ye).then(se):se(),!0),se=()=>{Ee&&(()=>{if(typeof document<"u"){const ut=document.activeElement;null!=ut&&ut.blur&&ut.blur()}})(),Ce&&Ce(Ye),et=!0},ge=()=>{Ne=!1,Xe=!1,Ue=!1,et=!0,Ae.release()},Me=ut=>{const At=Ne,Tt=et;if(ge(),Tt){if(ue(Ye,ut),At)return void(Ve&&Ve(Ye));_e&&_e(Ye)}},Qe=((me,Ne,Xe,et,Ue)=>{let Se,ct,We,Ce,Ve,_e,He,Re=0;const Oe=at=>{Re=Date.now()+2e3,Ne(at)&&(!ct&&Xe&&(ct=g(me,"touchmove",Xe,Ue)),We||(We=g(at.target,"touchend",Ye,Ue)),Ce||(Ce=g(at.target,"touchcancel",Ye,Ue)))},Ee=at=>{Re>Date.now()||Ne(at)&&(!_e&&Xe&&(_e=g(fe(me),"mousemove",Xe,Ue)),He||(He=g(fe(me),"mouseup",pe,Ue)))},Ye=at=>{Ae(),et&&et(at)},pe=at=>{Be(),et&&et(at)},Ae=()=>{ct&&ct(),We&&We(),Ce&&Ce(),ct=We=Ce=void 0},Be=()=>{_e&&_e(),He&&He(),_e=He=void 0},Dt=()=>{Ae(),Be()},jt=(at=!0)=>{at?(Se||(Se=g(me,"touchstart",Oe,Ue)),Ve||(Ve=g(me,"mousedown",Ee,Ue))):(Se&&Se(),Ve&&Ve(),Se=Ve=void 0,Dt())};return{enable:jt,stop:Dt,destroy:()=>{jt(!1),et=Xe=Ne=void 0}}})(Se.el,ut=>{const At=ye(ut);return!(Xe||!et||(de(ut,Ye),Ye.startX=Ye.currentX,Ye.startY=Ye.currentY,Ye.startTime=Ye.currentTime=At,Ye.velocityX=Ye.velocityY=Ye.deltaX=Ye.deltaY=0,Ye.event=ut,ct&&!1===ct(Ye))||(Ae.release(),!Ae.start()))&&(Xe=!0,0===Re?St():(pe.start(Ye.startX,Ye.startY),!0))},ut=>{Ne?!Ue&&et&&(Ue=!0,ue(Ye,ut),requestAnimationFrame(jt)):(ue(Ye,ut),pe.detect(Ye.currentX,Ye.currentY)&&(!pe.isGesture()||!St())&&st())},Me,{capture:!1,passive:Oe}),st=()=>{ge(),Qe.stop(),_e&&_e(Ye)};return{enable(ut=!0){ut||(Ne&&Me(void 0),ge()),Qe.enable(ut)},destroy(){Ae.destroy(),Qe.destroy()}}},ue=(me,Ne)=>{if(!Ne)return;const Xe=me.currentX,et=me.currentY,Ue=me.currentTime;de(Ne,me);const Se=me.currentX,ct=me.currentY,Ce=(me.currentTime=ye(Ne))-Ue;if(Ce>0&&Ce<100){const _e=(ct-et)/Ce;me.velocityX=(Se-Xe)/Ce*.7+.3*me.velocityX,me.velocityY=.7*_e+.3*me.velocityY}me.deltaX=Se-me.startX,me.deltaY=ct-me.startY,me.event=Ne},de=(me,Ne)=>{let Xe=0,et=0;if(me){const Ue=me.changedTouches;if(Ue&&Ue.length>0){const Se=Ue[0];Xe=Se.clientX,et=Se.clientY}else void 0!==me.pageX&&(Xe=me.pageX,et=me.pageY)}Ne.currentX=Xe,Ne.currentY=et},ye=me=>me.timeStamp||Date.now()},152:(rn,it,x)=>{"use strict";x.d(it,{a:()=>de,b:()=>jt,c:()=>X,g:()=>ue,i:()=>St});var d=x(2364);class g{constructor(){this.m=new Map}reset(se){this.m=new Map(Object.entries(se))}get(se,ge){const Me=this.m.get(se);return void 0!==Me?Me:ge}getBoolean(se,ge=!1){const Me=this.m.get(se);return void 0===Me?ge:"string"==typeof Me?"true"===Me:!!Me}getNumber(se,ge){const Me=parseFloat(this.m.get(se));return isNaN(Me)?void 0!==ge?ge:NaN:Me}set(se,ge){this.m.set(se,ge)}}const X=new g,Fe="ionic-persist-config",ue=at=>ye(at),de=(at,se)=>("string"==typeof at&&(se=at,at=void 0),ue(at).includes(se)),ye=(at=window)=>{if(typeof at>"u")return[];at.Ionic=at.Ionic||{};let se=at.Ionic.platforms;return null==se&&(se=at.Ionic.platforms=me(at),se.forEach(ge=>at.document.documentElement.classList.add(`plt-${ge}`))),se},me=at=>{const se=X.get("platform");return Object.keys(Be).filter(ge=>{const Me=null==se?void 0:se[ge];return"function"==typeof Me?Me(at):Be[ge](at)})},Xe=at=>!!(pe(at,/iPad/i)||pe(at,/Macintosh/i)&&Ve(at)),Se=at=>pe(at,/android|sink/i),Ve=at=>Ae(at,"(any-pointer:coarse)"),He=at=>Re(at)||Oe(at),Re=at=>!!(at.cordova||at.phonegap||at.PhoneGap),Oe=at=>{const se=at.Capacitor;return!(null==se||!se.isNative)},pe=(at,se)=>se.test(at.navigator.userAgent),Ae=(at,se)=>{var ge;return null===(ge=at.matchMedia)||void 0===ge?void 0:ge.call(at,se).matches},Be={ipad:Xe,iphone:at=>pe(at,/iPhone/i),ios:at=>pe(at,/iPhone|iPod/i)||Xe(at),android:Se,phablet:at=>{const se=at.innerWidth,ge=at.innerHeight,Me=Math.min(se,ge),Qe=Math.max(se,ge);return Me>390&&Me<520&&Qe>620&&Qe<800},tablet:at=>{const se=at.innerWidth,ge=at.innerHeight,Me=Math.min(se,ge),Qe=Math.max(se,ge);return Xe(at)||(at=>Se(at)&&!pe(at,/mobile/i))(at)||Me>460&&Me<820&&Qe>780&&Qe<1400},cordova:Re,capacitor:Oe,electron:at=>pe(at,/electron/i),pwa:at=>{var se;return!!(null!==(se=at.matchMedia)&&void 0!==se&&se.call(at,"(display-mode: standalone)").matches||at.navigator.standalone)},mobile:Ve,mobileweb:at=>Ve(at)&&!He(at),desktop:at=>!Ve(at),hybrid:He};let Dt;const jt=at=>at&&(0,d.g)(at)||Dt,St=(at={})=>{if(typeof window>"u")return;const se=window.document,ge=window,Me=ge.Ionic=ge.Ionic||{},Qe={};at._ael&&(Qe.ael=at._ael),at._rel&&(Qe.rel=at._rel),at._ce&&(Qe.ce=at._ce),(0,d.a)(Qe);const st=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(at=>{try{const se=at.sessionStorage.getItem(Fe);return null!==se?JSON.parse(se):{}}catch{return{}}})(ge)),{persistConfig:!1}),Me.config),(at=>{const se={};return at.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,Me])=>[decodeURIComponent(ge),decodeURIComponent(Me)]).filter(([ge])=>((at,se)=>at.substr(0,se.length)===se)(ge,"ionic:")).map(([ge,Me])=>[ge.slice(6),Me]).forEach(([ge,Me])=>{se[ge]=Me}),se})(ge)),at);X.reset(st),X.getBoolean("persistConfig")&&((at,se)=>{try{at.sessionStorage.setItem(Fe,JSON.stringify(se))}catch{return}})(ge,st),ye(ge),Me.config=X,Me.mode=Dt=X.get("mode",se.documentElement.getAttribute("mode")||(de(ge,"ios")?"ios":"md")),X.set("mode",Dt),se.documentElement.setAttribute("mode",Dt),se.documentElement.classList.add(Dt),X.getBoolean("_testing")&&X.set("animated",!1);const ut=Tt=>{var tn;return null===(tn=Tt.tagName)||void 0===tn?void 0:tn.startsWith("ION-")},At=Tt=>["ios","md"].includes(Tt);(0,d.c)(Tt=>{for(;Tt;){const tn=Tt.mode||Tt.getAttribute("mode");if(tn){if(At(tn))return tn;ut(Tt)&&console.warn('Invalid ionic mode: "'+tn+'", expected: "ios" or "md"')}Tt=Tt.parentElement}return Dt})}},7006:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{iosTransitionAnimation:()=>me,shadow:()=>fe});var d=x(1774),g=x(2690);x(6225),x(2364);const De=Ne=>document.querySelector(`${Ne}.ion-cloned-element`),fe=Ne=>Ne.shadowRoot||Ne,je=Ne=>{const Xe="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs"),et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Xe){const Ue=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ue?Ue.querySelector(et):null}return Ne.querySelector(et)},Fe=(Ne,Xe)=>{const et="ION-TABS"===Ne.tagName?Ne:Ne.querySelector("ion-tabs");let Ue=[];if(null!=et){const Se=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(Ue=Se.querySelectorAll("ion-buttons"))}else Ue=Ne.querySelectorAll("ion-buttons");for(const Se of Ue){const ct=Se.closest("ion-header"),We=ct&&!ct.classList.contains("header-collapse-condense-inactive"),Ce=Se.querySelector("ion-back-button"),Ve=Se.classList.contains("buttons-collapse");if(null!==Ce&&("start"===Se.slot||""===Se.slot)&&(Ve&&We&&Xe||!Ve))return Ce}return null},de=(Ne,Xe,et,Ue,Se,ct)=>{const We=Xe?`calc(100% - ${ct.right+4}px)`:ct.left-4+"px",Ce=Xe?"7px":"-7px",Ve=Xe?"-4px":"4px",_e=Xe?"-4px":"4px",He=Xe?"right":"left",Re=Xe?"left":"right",Ye=et?[{offset:0,opacity:1,transform:`translate3d(${Ve}, ${ct.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ce}, ${Se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ce}, ${Se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ve}, ${ct.top-46}px, 0) scale(1)`}],Be=et?[{offset:0,opacity:1,transform:`translate3d(${_e}, ${ct.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${_e}, ${ct.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${_e}, ${ct.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${_e}, ${ct.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${_e}, ${ct.top-46}px, 0) scale(1)`}],Dt=(0,d.c)(),jt=(0,d.c)(),St=De("ion-back-button"),at=fe(St).querySelector(".button-text"),se=fe(St).querySelector("ion-icon");St.text=Ue.text,St.mode=Ue.mode,St.icon=Ue.icon,St.color=Ue.color,St.disabled=Ue.disabled,St.style.setProperty("display","block"),St.style.setProperty("position","fixed"),jt.addElement(se),Dt.addElement(at),Dt.beforeStyles({"transform-origin":`${He} center`}).beforeAddWrite(()=>{Ue.style.setProperty("display","none"),St.style.setProperty(He,We)}).afterAddWrite(()=>{Ue.style.setProperty("display",""),St.style.setProperty("display","none"),St.style.removeProperty(He)}).keyframes(Ye),jt.beforeStyles({"transform-origin":`${Re} center`}).keyframes(Be),Ne.addAnimation([Dt,jt])},ye=(Ne,Xe,et,Ue,Se,ct)=>{const We=Xe?`calc(100% - ${Se.right}px)`:`${Se.left}px`,Ce=Xe?"-18px":"18px",Ve=Xe?"right":"left",Re=et?[{offset:0,opacity:0,transform:`translate3d(${Ce}, ${ct.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ce}, ${ct.top-4}px, 0) scale(0.5)`}],Oe=De("ion-title"),Ee=(0,d.c)();Oe.innerText=Ue.innerText,Oe.size=Ue.size,Oe.color=Ue.color,Ee.addElement(Oe),Ee.beforeStyles({"transform-origin":`${Ve} center`,height:"46px",display:"",position:"relative",[Ve]:We}).beforeAddWrite(()=>{Ue.style.setProperty("display","none")}).afterAddWrite(()=>{Ue.style.setProperty("display",""),Oe.style.setProperty("display","none")}).keyframes(Re),Ne.addAnimation(Ee)},me=(Ne,Xe)=>{var et;try{const Ue="cubic-bezier(0.32,0.72,0,1)",Se="opacity",ct="transform",We="0%",Ve="rtl"===Ne.ownerDocument.dir,_e=Ve?"-99.5%":"99.5%",He=Ve?"33%":"-33%",Re=Xe.enteringEl,Oe=Xe.leavingEl,Ee="back"===Xe.direction,Ye=Re.querySelector(":scope > ion-content"),pe=Re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ae=Re.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,d.c)(),Dt=(0,d.c)();if(Be.addElement(Re).duration((null!==(et=Xe.duration)&&void 0!==et?et:0)||540).easing(Xe.easing||Ue).fill("both").beforeRemoveClass("ion-page-invisible"),Oe&&null!=Ne){const se=(0,d.c)();se.addElement(Ne),Be.addAnimation(se)}if(Ye||0!==Ae.length||0!==pe.length?(Dt.addElement(Ye),Dt.addElement(pe)):Dt.addElement(Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Dt),Ee?Dt.beforeClearStyles([Se]).fromTo("transform",`translateX(${He})`,`translateX(${We})`).fromTo(Se,.8,1):Dt.beforeClearStyles([Se]).fromTo("transform",`translateX(${_e})`,`translateX(${We})`),Ye){const se=fe(Ye).querySelector(".transition-effect");if(se){const ge=se.querySelector(".transition-cover"),Me=se.querySelector(".transition-shadow"),Qe=(0,d.c)(),st=(0,d.c)(),ut=(0,d.c)();Qe.addElement(se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(ge).beforeClearStyles([Se]).fromTo(Se,0,.1),ut.addElement(Me).beforeClearStyles([Se]).fromTo(Se,.03,.7),Qe.addAnimation([st,ut]),Dt.addAnimation([Qe])}}const jt=Re.querySelector("ion-header.header-collapse-condense"),{forward:St,backward:at}=((Ne,Xe,et,Ue,Se)=>{const ct=Fe(Ue,et),We=je(Se),Ce=je(Ue),Ve=Fe(Se,et),_e=null!==ct&&null!==We&&!et,He=null!==Ce&&null!==Ve&&et;if(_e){const Re=We.getBoundingClientRect(),Oe=ct.getBoundingClientRect();ye(Ne,Xe,et,We,Re,Oe),de(Ne,Xe,et,ct,Re,Oe)}else if(He){const Re=Ce.getBoundingClientRect(),Oe=Ve.getBoundingClientRect();ye(Ne,Xe,et,Ce,Re,Oe),de(Ne,Xe,et,Ve,Re,Oe)}return{forward:_e,backward:He}})(Be,Ve,Ee,Re,Oe);if(Ae.forEach(se=>{const ge=(0,d.c)();ge.addElement(se),Be.addAnimation(ge);const Me=(0,d.c)();Me.addElement(se.querySelector("ion-title"));const Qe=(0,d.c)(),st=Array.from(se.querySelectorAll("ion-buttons,[menuToggle]")),ut=se.closest("ion-header"),At=null==ut?void 0:ut.classList.contains("header-collapse-condense-inactive");let Tt;Tt=st.filter(Ee?yt=>{const gt=yt.classList.contains("buttons-collapse");return gt&&!At||!gt}:yt=>!yt.classList.contains("buttons-collapse")),Qe.addElement(Tt);const tn=(0,d.c)();tn.addElement(se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const tt=(0,d.c)();tt.addElement(fe(se).querySelector(".toolbar-background"));const Tn=(0,d.c)(),mt=se.querySelector("ion-back-button");if(mt&&Tn.addElement(mt),ge.addAnimation([Me,Qe,tn,tt,Tn]),Qe.fromTo(Se,.01,1),tn.fromTo(Se,.01,1),Ee)At||Me.fromTo("transform",`translateX(${He})`,`translateX(${We})`).fromTo(Se,.01,1),tn.fromTo("transform",`translateX(${He})`,`translateX(${We})`),Tn.fromTo(Se,.01,1);else if(jt||Me.fromTo("transform",`translateX(${_e})`,`translateX(${We})`).fromTo(Se,.01,1),tn.fromTo("transform",`translateX(${_e})`,`translateX(${We})`),tt.beforeClearStyles([Se,"transform"]),(null==ut?void 0:ut.translucent)?tt.fromTo("transform",Ve?"translateX(-100%)":"translateX(100%)","translateX(0px)"):tt.fromTo(Se,.01,"var(--opacity)"),St||Tn.fromTo(Se,.01,1),mt&&!St){const gt=(0,d.c)();gt.addElement(fe(mt).querySelector(".button-text")).fromTo("transform",Ve?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(gt)}}),Oe){const se=(0,d.c)(),ge=Oe.querySelector(":scope > ion-content"),Me=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),Qe=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==Me.length||0!==Qe.length?(se.addElement(ge),se.addElement(Qe)):se.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(se),Ee){se.beforeClearStyles([Se]).fromTo("transform",`translateX(${We})`,Ve?"translateX(-100%)":"translateX(100%)");const st=(0,g.g)(Oe);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&st.style.setProperty("display","none")})}else se.fromTo("transform",`translateX(${We})`,`translateX(${He})`).fromTo(Se,1,.8);if(ge){const st=fe(ge).querySelector(".transition-effect");if(st){const ut=st.querySelector(".transition-cover"),At=st.querySelector(".transition-shadow"),Tt=(0,d.c)(),tn=(0,d.c)(),tt=(0,d.c)();Tt.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tn.addElement(ut).beforeClearStyles([Se]).fromTo(Se,.1,0),tt.addElement(At).beforeClearStyles([Se]).fromTo(Se,.7,.03),Tt.addAnimation([tn,tt]),se.addAnimation([Tt])}}Me.forEach(st=>{const ut=(0,d.c)();ut.addElement(st);const At=(0,d.c)();At.addElement(st.querySelector("ion-title"));const Tt=(0,d.c)(),tn=st.querySelectorAll("ion-buttons,[menuToggle]"),tt=st.closest("ion-header"),Tn=null==tt?void 0:tt.classList.contains("header-collapse-condense-inactive"),mt=Array.from(tn).filter(vn=>{const cn=vn.classList.contains("buttons-collapse");return cn&&!Tn||!cn});Tt.addElement(mt);const yt=(0,d.c)(),gt=st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");gt.length>0&&yt.addElement(gt);const Ht=(0,d.c)();Ht.addElement(fe(st).querySelector(".toolbar-background"));const Xt=(0,d.c)(),_n=st.querySelector("ion-back-button");if(_n&&Xt.addElement(_n),ut.addAnimation([At,Tt,yt,Xt,Ht]),Be.addAnimation(ut),Xt.fromTo(Se,.99,0),Tt.fromTo(Se,.99,0),yt.fromTo(Se,.99,0),Ee){if(Tn||At.fromTo("transform",`translateX(${We})`,Ve?"translateX(-100%)":"translateX(100%)").fromTo(Se,.99,0),yt.fromTo("transform",`translateX(${We})`,Ve?"translateX(-100%)":"translateX(100%)"),Ht.beforeClearStyles([Se,"transform"]),(null==tt?void 0:tt.translucent)?Ht.fromTo("transform","translateX(0px)",Ve?"translateX(-100%)":"translateX(100%)"):Ht.fromTo(Se,"var(--opacity)",0),_n&&!at){const cn=(0,d.c)();cn.addElement(fe(_n).querySelector(".button-text")).fromTo("transform",`translateX(${We})`,`translateX(${(Ve?-124:124)+"px"})`),ut.addAnimation(cn)}}else Tn||At.fromTo("transform",`translateX(${We})`,`translateX(${He})`).fromTo(Se,.99,0).afterClearStyles([ct,Se]),yt.fromTo("transform",`translateX(${We})`,`translateX(${He})`).afterClearStyles([ct,Se]),Xt.afterClearStyles([Se]),At.afterClearStyles([Se]),Tt.afterClearStyles([Se])})}return Be}catch(Ue){throw Ue}}},2952:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{mdTransitionAnimation:()=>we});var d=x(1774),g=x(2690);x(6225),x(2364);const we=(De,fe)=>{var je,Fe,ue;const me="back"===fe.direction,Xe=fe.leavingEl,et=(0,g.g)(fe.enteringEl),Ue=et.querySelector("ion-toolbar"),Se=(0,d.c)();if(Se.addElement(et).fill("both").beforeRemoveClass("ion-page-invisible"),me?Se.duration((null!==(je=fe.duration)&&void 0!==je?je:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Se.duration((null!==(Fe=fe.duration)&&void 0!==Fe?Fe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ue){const ct=(0,d.c)();ct.addElement(Ue),Se.addAnimation(ct)}if(Xe&&me){Se.duration((null!==(ue=fe.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ct=(0,d.c)();ct.addElement((0,g.g)(Xe)).onFinish(We=>{1===We&&ct.elements.length>0&&ct.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Se.addAnimation(ct)}return Se}},1912:(rn,it,x)=>{"use strict";x.d(it,{B:()=>Tt,G:()=>tn,a:()=>ye,b:()=>me,c:()=>Ue,d:()=>tt,e:()=>Tn,f:()=>jt,g:()=>at,h:()=>Me,i:()=>st,j:()=>ct,k:()=>We,l:()=>Ne,m:()=>Xe,n:()=>ue,o:()=>_e,q:()=>Be,s:()=>At,t:()=>Se});var d=x(5861),g=x(6225),X=x(152),re=x(6559),we=x(2124),De=x(839),fe=x(6710);let je=0,Fe=0;const ue=new WeakMap,de=mt=>({create:yt=>Ce(mt,yt),dismiss:(yt,gt,Ht)=>Ye(document,yt,gt,mt,Ht),getTop:()=>(0,d.Z)(function*(){return Be(document,mt)})()}),ye=de("ion-alert"),me=de("ion-action-sheet"),Ne=de("ion-loading"),Xe=de("ion-modal"),Ue=de("ion-popover"),Se=de("ion-toast"),ct=mt=>{typeof document<"u"&&Ee(document);const yt=je++;mt.overlayIndex=yt},We=mt=>(mt.hasAttribute("id")||(mt.id="ion-overlay-"+ ++Fe),mt.id),Ce=(mt,yt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(mt).then(()=>{const gt=document.createElement(mt);return gt.classList.add("overlay-hidden"),Object.assign(gt,Object.assign(Object.assign({},yt),{hasController:!0})),se(document).appendChild(gt),new Promise(Ht=>(0,De.c)(gt,Ht))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',_e=(mt,yt)=>{let gt=mt.querySelector(Ve);const Ht=null==gt?void 0:gt.shadowRoot;Ht&&(gt=Ht.querySelector(Ve)||gt),gt?(0,De.f)(gt):yt.focus()},Re=(mt,yt)=>{const gt=Array.from(mt.querySelectorAll(Ve));let Ht=gt.length>0?gt[gt.length-1]:null;const Xt=null==Ht?void 0:Ht.shadowRoot;Xt&&(Ht=Xt.querySelector(Ve)||Ht),Ht?Ht.focus():yt.focus()},Ee=mt=>{0===je&&(je=1,mt.addEventListener("focus",yt=>{((mt,yt)=>{const gt=Be(yt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ht=mt.target;gt&&Ht&&!gt.classList.contains("ion-disable-focus-trap")&&(gt.shadowRoot?(()=>{if(gt.contains(Ht))gt.lastFocus=Ht;else{const vn=gt.lastFocus;_e(gt,gt),vn===yt.activeElement&&Re(gt,gt),gt.lastFocus=yt.activeElement}})():(()=>{if(gt===Ht)gt.lastFocus=void 0;else{const vn=(0,De.g)(gt);if(!vn.contains(Ht))return;const cn=vn.querySelector(".ion-overlay-wrapper");if(!cn)return;if(cn.contains(Ht)||Ht===vn.querySelector("ion-backdrop"))gt.lastFocus=Ht;else{const dn=gt.lastFocus;_e(cn,gt),dn===yt.activeElement&&Re(cn,gt),gt.lastFocus=yt.activeElement}}})())})(yt,mt)},!0),mt.addEventListener("ionBackButton",yt=>{const gt=Be(mt);null!=gt&&gt.backdropDismiss&&yt.detail.register(we.OVERLAY_BACK_BUTTON_PRIORITY,()=>gt.dismiss(void 0,Tt))}),mt.addEventListener("keydown",yt=>{if("Escape"===yt.key){const gt=Be(mt);null!=gt&&gt.backdropDismiss&&gt.dismiss(void 0,Tt)}}))},Ye=(mt,yt,gt,Ht,Xt)=>{const _n=Be(mt,Ht,Xt);return _n?_n.dismiss(yt,gt):Promise.reject("overlay does not exist")},Ae=(mt,yt)=>((mt,yt)=>(void 0===yt&&(yt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(mt.querySelectorAll(yt)).filter(gt=>gt.overlayIndex>0)))(mt,yt).filter(gt=>!(mt=>mt.classList.contains("overlay-hidden"))(gt)),Be=(mt,yt,gt)=>{const Ht=Ae(mt,yt);return void 0===gt?Ht[Ht.length-1]:Ht.find(Xt=>Xt.id===gt)},Dt=(mt=!1)=>{const gt=se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");gt&&(mt?gt.setAttribute("aria-hidden","true"):gt.removeAttribute("aria-hidden"))},jt=function(){var mt=(0,d.Z)(function*(yt,gt,Ht,Xt,_n){var vn,cn;if(yt.presented)return;Dt(!0),yt.presented=!0,yt.willPresent.emit(),null===(vn=yt.willPresentShorthand)||void 0===vn||vn.emit();const dn=(0,X.b)(yt),bn=yt.enterAnimation?yt.enterAnimation:X.c.get(gt,"ios"===dn?Ht:Xt);(yield ge(yt,bn,yt.el,_n))&&(yt.didPresent.emit(),null===(cn=yt.didPresentShorthand)||void 0===cn||cn.emit()),"ION-TOAST"!==yt.el.tagName&&St(yt.el),yt.keyboardClose&&(null===document.activeElement||!yt.el.contains(document.activeElement))&&yt.el.focus()});return function(gt,Ht,Xt,_n,vn){return mt.apply(this,arguments)}}(),St=function(){var mt=(0,d.Z)(function*(yt){let gt=document.activeElement;if(!gt)return;const Ht=null==gt?void 0:gt.shadowRoot;Ht&&(gt=Ht.querySelector(Ve)||gt),yield yt.onDidDismiss(),gt.focus()});return function(gt){return mt.apply(this,arguments)}}(),at=function(){var mt=(0,d.Z)(function*(yt,gt,Ht,Xt,_n,vn,cn){var dn,bn;if(!yt.presented)return!1;void 0!==g.d&&1===Ae(g.d).length&&Dt(!1),yt.presented=!1;try{yt.el.style.setProperty("pointer-events","none"),yt.willDismiss.emit({data:gt,role:Ht}),null===(dn=yt.willDismissShorthand)||void 0===dn||dn.emit({data:gt,role:Ht});const ir=(0,X.b)(yt),lr=yt.leaveAnimation?yt.leaveAnimation:X.c.get(Xt,"ios"===ir?_n:vn);Ht!==tn&&(yield ge(yt,lr,yt.el,cn)),yt.didDismiss.emit({data:gt,role:Ht}),null===(bn=yt.didDismissShorthand)||void 0===bn||bn.emit({data:gt,role:Ht}),ue.delete(yt),yt.el.classList.add("overlay-hidden"),yt.el.style.removeProperty("pointer-events"),void 0!==yt.el.lastFocus&&(yt.el.lastFocus=void 0)}catch(ir){console.error(ir)}return yt.el.remove(),!0});return function(gt,Ht,Xt,_n,vn,cn,dn){return mt.apply(this,arguments)}}(),se=mt=>mt.querySelector("ion-app")||mt.body,ge=function(){var mt=(0,d.Z)(function*(yt,gt,Ht,Xt){Ht.classList.remove("overlay-hidden");const vn=gt(yt.el,Xt);(!yt.animated||!X.c.getBoolean("animated",!0))&&vn.duration(0),yt.keyboardClose&&vn.beforeAddWrite(()=>{const dn=Ht.ownerDocument.activeElement;null!=dn&&dn.matches("input,ion-input, ion-textarea")&&dn.blur()});const cn=ue.get(yt)||[];return ue.set(yt,[...cn,vn]),yield vn.play(),!0});return function(gt,Ht,Xt,_n){return mt.apply(this,arguments)}}(),Me=(mt,yt)=>{let gt;const Ht=new Promise(Xt=>gt=Xt);return Qe(mt,yt,Xt=>{gt(Xt.detail)}),Ht},Qe=(mt,yt,gt)=>{const Ht=Xt=>{(0,De.b)(mt,yt,Ht),gt(Xt)};(0,De.a)(mt,yt,Ht)},st=mt=>"cancel"===mt||mt===Tt,ut=mt=>mt(),At=(mt,yt)=>{if("function"==typeof mt)return X.c.get("_zoneGate",ut)(()=>{try{return mt(yt)}catch(Ht){throw Ht}})},Tt="backdrop",tn="gesture",tt=mt=>{let gt,yt=!1;const Ht=(0,re.C)(),Xt=(cn=!1)=>{if(gt&&!cn)return{delegate:gt,inline:yt};const{el:dn,hasController:bn,delegate:ir}=mt;return yt=null!==dn.parentNode&&!bn,gt=yt?ir||Ht:ir,{inline:yt,delegate:gt}};return{attachViewToDom:function(){var cn=(0,d.Z)(function*(dn){const{delegate:bn}=Xt(!0);if(bn)return yield bn.attachViewToDom(mt.el,dn);const{hasController:ir}=mt;if(ir&&void 0!==dn)throw new Error("framework delegate is missing");return null});return function(bn){return cn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:cn}=Xt();cn&&void 0!==mt.el&&cn.removeViewFromDom(mt.el.parentElement,mt.el)}}},Tn=()=>{let mt;const yt=()=>{mt&&(mt(),mt=void 0)};return{addClickListener:(Ht,Xt)=>{yt();const _n=void 0!==Xt?document.getElementById(Xt):null;_n?mt=((cn,dn)=>{const bn=()=>{dn.present()};return cn.addEventListener("click",bn),()=>{cn.removeEventListener("click",bn)}})(_n,Ht):(0,fe.p)(`A trigger element with the ID "${Xt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ht)},removeClickListener:yt}}},3404:(rn,it,x)=>{"use strict";x.d(it,{H:()=>Se,b:()=>xn,c:()=>Ve,f:()=>gt,g:()=>Ce,h:()=>et,p:()=>Ze,r:()=>Ut});var d=x(5861);let X,re,we=!1,De=!1;const ue={},Ne=W=>"object"==(W=typeof W)||"function"===W;function Xe(W){var B,ae,Te;return null!==(Te=null===(ae=null===(B=W.head)||void 0===B?void 0:B.querySelector('meta[name="csp-nonce"]'))||void 0===ae?void 0:ae.getAttribute("content"))&&void 0!==Te?Te:void 0}const et=(W,B,...ae)=>{let Te=null,Ge=!1,Mt=!1;const vt=[],Yt=ln=>{for(let Je=0;Je<ln.length;Je++)Te=ln[Je],Array.isArray(Te)?Yt(Te):null!=Te&&"boolean"!=typeof Te&&((Ge="function"!=typeof W&&!Ne(Te))&&(Te=String(Te)),Ge&&Mt?vt[vt.length-1].$text$+=Te:vt.push(Ge?Ue(null,Te):Te),Mt=Ge)};if(Yt(ae),B){const ln=B.className||B.class;ln&&(B.class="object"!=typeof ln?ln:Object.keys(ln).filter(Je=>ln[Je]).join(" "))}const qt=Ue(W,null);return qt.$attrs$=B,vt.length>0&&(qt.$children$=vt),qt},Ue=(W,B)=>({$flags$:0,$tag$:W,$text$:B,$elm$:null,$children$:null,$attrs$:null}),Se={},Ce=W=>Fn(W).$hostElement$,Ve=(W,B,ae)=>{const Te=Ce(W);return{emit:Ge=>_e(Te,B,{bubbles:!!(4&ae),composed:!!(2&ae),cancelable:!!(1&ae),detail:Ge})}},_e=(W,B,ae)=>{const Te=_t.ce(B,ae);return W.dispatchEvent(Te),Te},He=new WeakMap,Ye=(W,B)=>"sc-"+W.$tagName$,pe=(W,B,ae,Te,Ge,Mt)=>{if(ae!==Te){let vt=dr(W,B),Yt=B.toLowerCase();if("class"===B){const qt=W.classList,ln=Be(ae),Je=Be(Te);qt.remove(...ln.filter(Le=>Le&&!Je.includes(Le))),qt.add(...Je.filter(Le=>Le&&!ln.includes(Le)))}else if("style"===B){for(const qt in ae)(!Te||null==Te[qt])&&(qt.includes("-")?W.style.removeProperty(qt):W.style[qt]="");for(const qt in Te)(!ae||Te[qt]!==ae[qt])&&(qt.includes("-")?W.style.setProperty(qt,Te[qt]):W.style[qt]=Te[qt])}else if("ref"===B)Te&&Te(W);else if(vt||"o"!==B[0]||"n"!==B[1]){const qt=Ne(Te);if((vt||qt&&null!==Te)&&!Ge)try{if(W.tagName.includes("-"))W[B]=Te;else{const ln=null==Te?"":Te;"list"===B?vt=!1:(null==ae||W[B]!=ln)&&(W[B]=ln)}}catch{}null==Te||!1===Te?(!1!==Te||""===W.getAttribute(B))&&W.removeAttribute(B):(!vt||4&Mt||Ge)&&!qt&&W.setAttribute(B,Te=!0===Te?"":Te)}else B="-"===B[2]?B.slice(3):dr(br,Yt)?Yt.slice(2):Yt[2]+B.slice(3),ae&&_t.rel(W,B,ae,!1),Te&&_t.ael(W,B,Te,!1)}},Ae=/\s/,Be=W=>W?W.split(Ae):[],Dt=(W,B,ae,Te)=>{const Ge=11===B.$elm$.nodeType&&B.$elm$.host?B.$elm$.host:B.$elm$,Mt=W&&W.$attrs$||ue,vt=B.$attrs$||ue;for(Te in Mt)Te in vt||pe(Ge,Te,Mt[Te],void 0,ae,B.$flags$);for(Te in vt)pe(Ge,Te,Mt[Te],vt[Te],ae,B.$flags$)},jt=(W,B,ae,Te)=>{const Ge=B.$children$[ae];let vt,Yt,Mt=0;if(null!==Ge.$text$)vt=Ge.$elm$=fr.createTextNode(Ge.$text$);else{if(we||(we="svg"===Ge.$tag$),vt=Ge.$elm$=fr.createElementNS(we?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Ge.$tag$),we&&"foreignObject"===Ge.$tag$&&(we=!1),Dt(null,Ge,we),(W=>null!=W)(X)&&vt["s-si"]!==X&&vt.classList.add(vt["s-si"]=X),Ge.$children$)for(Mt=0;Mt<Ge.$children$.length;++Mt)Yt=jt(W,Ge,Mt),Yt&&vt.appendChild(Yt);"svg"===Ge.$tag$?we=!1:"foreignObject"===vt.tagName&&(we=!0)}return vt},St=(W,B,ae,Te,Ge,Mt)=>{let Yt,vt=W;for(vt.shadowRoot&&vt.tagName===re&&(vt=vt.shadowRoot);Ge<=Mt;++Ge)Te[Ge]&&(Yt=jt(null,ae,Ge),Yt&&(Te[Ge].$elm$=Yt,vt.insertBefore(Yt,B)))},at=(W,B,ae)=>{for(let Te=B;Te<=ae;++Te){const Ge=W[Te];if(Ge){const Mt=Ge.$elm$;Qe(Ge),Mt&&Mt.remove()}}},ge=(W,B)=>W.$tag$===B.$tag$,Me=(W,B)=>{const ae=B.$elm$=W.$elm$,Te=W.$children$,Ge=B.$children$,Mt=B.$tag$,vt=B.$text$;null===vt?(we="svg"===Mt||"foreignObject"!==Mt&&we,Dt(W,B,we),null!==Te&&null!==Ge?((W,B,ae,Te)=>{let It,Ge=0,Mt=0,vt=B.length-1,Yt=B[0],qt=B[vt],ln=Te.length-1,Je=Te[0],Le=Te[ln];for(;Ge<=vt&&Mt<=ln;)null==Yt?Yt=B[++Ge]:null==qt?qt=B[--vt]:null==Je?Je=Te[++Mt]:null==Le?Le=Te[--ln]:ge(Yt,Je)?(Me(Yt,Je),Yt=B[++Ge],Je=Te[++Mt]):ge(qt,Le)?(Me(qt,Le),qt=B[--vt],Le=Te[--ln]):ge(Yt,Le)?(Me(Yt,Le),W.insertBefore(Yt.$elm$,qt.$elm$.nextSibling),Yt=B[++Ge],Le=Te[--ln]):ge(qt,Je)?(Me(qt,Je),W.insertBefore(qt.$elm$,Yt.$elm$),qt=B[--vt],Je=Te[++Mt]):(It=jt(B&&B[Mt],ae,Mt),Je=Te[++Mt],It&&Yt.$elm$.parentNode.insertBefore(It,Yt.$elm$));Ge>vt?St(W,null==Te[ln+1]?null:Te[ln+1].$elm$,ae,Te,Mt,ln):Mt>ln&&at(B,Ge,vt)})(ae,Te,B,Ge):null!==Ge?(null!==W.$text$&&(ae.textContent=""),St(ae,null,B,Ge,0,Ge.length-1)):null!==Te&&at(Te,0,Te.length-1),we&&"svg"===Mt&&(we=!1)):W.$text$!==vt&&(ae.data=vt)},Qe=W=>{W.$attrs$&&W.$attrs$.ref&&W.$attrs$.ref(null),W.$children$&&W.$children$.map(Qe)},ut=(W,B)=>{B&&!W.$onRenderResolve$&&B["s-p"]&&B["s-p"].push(new Promise(ae=>W.$onRenderResolve$=ae))},At=(W,B)=>{if(W.$flags$|=16,!(4&W.$flags$))return ut(W,W.$ancestorComponent$),J(()=>Tt(W,B));W.$flags$|=512},Tt=(W,B)=>{const Te=W.$lazyInstance$;return B&&(W.$flags$|=256,W.$queuedListeners$&&(W.$queuedListeners$.map(([Mt,vt])=>Xt(Te,Mt,vt)),W.$queuedListeners$=void 0)),tn(void 0,()=>Tn(W,Te,B))},tn=(W,B)=>tt(W)?W.then(B):B(),tt=W=>W instanceof Promise||W&&W.then&&"function"==typeof W.then,Tn=function(){var W=(0,d.Z)(function*(B,ae,Te){var Ge;const Mt=B.$hostElement$,Yt=Mt["s-rc"];Te&&(W=>{const B=W.$cmpMeta$,ae=W.$hostElement$,Te=B.$flags$,Mt=((W,B,ae,Te)=>{var Ge;let Mt=Ye(B);const vt=zr.get(Mt);if(W=11===W.nodeType?W:fr,vt)if("string"==typeof vt){let qt,Yt=He.get(W=W.head||W);if(Yt||He.set(W,Yt=new Set),!Yt.has(Mt)){{qt=fr.createElement("style"),qt.innerHTML=vt;const ln=null!==(Ge=_t.$nonce$)&&void 0!==Ge?Ge:Xe(fr);null!=ln&&qt.setAttribute("nonce",ln),W.insertBefore(qt,W.querySelector("link"))}Yt&&Yt.add(Mt)}}else W.adoptedStyleSheets.includes(vt)||(W.adoptedStyleSheets=[...W.adoptedStyleSheets,vt]);return Mt})(ae.shadowRoot?ae.shadowRoot:ae.getRootNode(),B);10&Te&&(ae["s-sc"]=Mt,ae.classList.add(Mt+"-h"))})(B);mt(B,ae),Yt&&(Yt.map(ln=>ln()),Mt["s-rc"]=void 0);{const ln=null!==(Ge=Mt["s-p"])&&void 0!==Ge?Ge:[],Je=()=>yt(B);0===ln.length?Je():(Promise.all(ln).then(Je),B.$flags$|=4,ln.length=0)}});return function(ae,Te,Ge){return W.apply(this,arguments)}}(),mt=(W,B,ae)=>{try{B=B.render(),W.$flags$&=-17,W.$flags$|=2,((W,B)=>{const ae=W.$hostElement$,Te=W.$vnode$||Ue(null,null),Ge=(W=>W&&W.$tag$===Se)(B)?B:et(null,null,B);re=ae.tagName,Ge.$tag$=null,Ge.$flags$|=4,W.$vnode$=Ge,Ge.$elm$=Te.$elm$=ae.shadowRoot||ae,X=ae["s-sc"],Me(Te,Ge)})(W,B)}catch(Te){Sn(Te,W.$hostElement$)}return null},yt=W=>{const ae=W.$hostElement$,Ge=W.$lazyInstance$,Mt=W.$ancestorComponent$;64&W.$flags$||(W.$flags$|=64,_n(ae),Xt(Ge,"componentDidLoad"),W.$onReadyResolve$(ae),Mt||Ht()),W.$onInstanceResolve$(ae),W.$onRenderResolve$&&(W.$onRenderResolve$(),W.$onRenderResolve$=void 0),512&W.$flags$&&ee(()=>At(W,!1)),W.$flags$&=-517},gt=W=>{{const B=Fn(W),ae=B.$hostElement$.isConnected;return ae&&2==(18&B.$flags$)&&At(B,!1),ae}},Ht=W=>{_n(fr.documentElement),ee(()=>_e(br,"appload",{detail:{namespace:"ionicpwaelements"}}))},Xt=(W,B,ae)=>{if(W&&W[B])try{return W[B](ae)}catch(Te){Sn(Te)}},_n=W=>W.classList.add("hydrated"),dn=(W,B,ae)=>{if(B.$members$){const Te=Object.entries(B.$members$),Ge=W.prototype;if(Te.map(([Mt,[vt]])=>{31&vt||2&ae&&32&vt?Object.defineProperty(Ge,Mt,{get(){return((W,B)=>Fn(this).$instanceValues$.get(B))(0,Mt)},set(Yt){((W,B,ae,Te)=>{const Ge=Fn(W),Mt=Ge.$instanceValues$.get(B),vt=Ge.$flags$,Yt=Ge.$lazyInstance$;ae=((W,B)=>null==W||Ne(W)?W:4&B?"false"!==W&&(""===W||!!W):2&B?parseFloat(W):1&B?String(W):W)(ae,Te.$members$[B][0]);const qt=Number.isNaN(Mt)&&Number.isNaN(ae);(!(8&vt)||void 0===Mt)&&ae!==Mt&&!qt&&(Ge.$instanceValues$.set(B,ae),Yt&&2==(18&vt)&&At(Ge,!1))})(this,Mt,Yt,B)},configurable:!0,enumerable:!0}):1&ae&&64&vt&&Object.defineProperty(Ge,Mt,{value(...Yt){const qt=Fn(this);return qt.$onInstancePromise$.then(()=>qt.$lazyInstance$[Mt](...Yt))}})}),1&ae){const Mt=new Map;Ge.attributeChangedCallback=function(vt,Yt,qt){_t.jmp(()=>{const ln=Mt.get(vt);if(this.hasOwnProperty(ln))qt=this[ln],delete this[ln];else if(Ge.hasOwnProperty(ln)&&"number"==typeof this[ln]&&this[ln]==qt)return;this[ln]=(null!==qt||"boolean"!=typeof this[ln])&&qt})},W.observedAttributes=Te.filter(([vt,Yt])=>15&Yt[0]).map(([vt,Yt])=>{const qt=Yt[1]||vt;return Mt.set(qt,vt),qt})}}return W},bn=function(){var W=(0,d.Z)(function*(B,ae,Te,Ge,Mt){if(!(32&ae.$flags$)){ae.$flags$|=32;{if((Mt=Xr(Te)).then){const ln=()=>{};Mt=yield Mt,ln()}Mt.isProxied||(dn(Mt,Te,2),Mt.isProxied=!0);const qt=()=>{};ae.$flags$|=8;try{new Mt(ae)}catch(ln){Sn(ln)}ae.$flags$&=-9,qt()}if(Mt.style){let qt=Mt.style;const ln=Ye(Te);if(!zr.has(ln)){const Je=()=>{};((W,B,ae)=>{let Te=zr.get(W);Pt&&ae?(Te=Te||new CSSStyleSheet,"string"==typeof Te?Te=B:Te.replaceSync(B)):Te=B,zr.set(W,Te)})(ln,qt,!!(1&Te.$flags$)),Je()}}}const vt=ae.$ancestorComponent$,Yt=()=>At(ae,!0);vt&&vt["s-rc"]?vt["s-rc"].push(Yt):Yt()});return function(ae,Te,Ge,Mt,vt){return W.apply(this,arguments)}}(),xn=(W,B={})=>{var ae;const Ge=[],Mt=B.exclude||[],vt=br.customElements,Yt=fr.head,qt=Yt.querySelector("meta[charset]"),ln=fr.createElement("style"),Je=[];let Le,It=!0;Object.assign(_t,B),_t.$resourcesUrl$=new URL(B.resourcesUrl||"./",fr.baseURI).href,W.map(ft=>{ft[1].map(Kt=>{const Gt={$flags$:Kt[0],$tagName$:Kt[1],$members$:Kt[2],$listeners$:Kt[3]};Gt.$members$=Kt[2],Gt.$listeners$=Kt[3];const wn=Gt.$tagName$,Jt=class extends HTMLElement{constructor(Qn){super(Qn),jn(Qn=this,Gt),1&Gt.$flags$&&Qn.attachShadow({mode:"open"})}connectedCallback(){Le&&(clearTimeout(Le),Le=null),It?Je.push(this):_t.jmp(()=>(W=>{if(!(1&_t.$flags$)){const B=Fn(W),ae=B.$cmpMeta$,Te=()=>{};if(1&B.$flags$)Pn(W,B,ae.$listeners$);else{B.$flags$|=1;{let Ge=W;for(;Ge=Ge.parentNode||Ge.host;)if(Ge["s-p"]){ut(B,B.$ancestorComponent$=Ge);break}}ae.$members$&&Object.entries(ae.$members$).map(([Ge,[Mt]])=>{if(31&Mt&&W.hasOwnProperty(Ge)){const vt=W[Ge];delete W[Ge],W[Ge]=vt}}),bn(W,B,ae)}Te()}})(this))}disconnectedCallback(){_t.jmp(()=>(W=>{if(!(1&_t.$flags$)){const B=Fn(this),ae=B.$lazyInstance$;B.$rmListeners$&&(B.$rmListeners$.map(Te=>Te()),B.$rmListeners$=void 0),Xt(ae,"disconnectedCallback")}})())}componentOnReady(){return Fn(this).$onReadyPromise$}};Gt.$lazyBundleId$=ft[0],!Mt.includes(wn)&&!vt.get(wn)&&(Ge.push(wn),vt.define(wn,dn(Jt,Gt,1)))})});{ln.innerHTML=Ge+"{visibility:hidden}.hydrated{visibility:inherit}",ln.setAttribute("data-styles","");const ft=null!==(ae=_t.$nonce$)&&void 0!==ae?ae:Xe(fr);null!=ft&&ln.setAttribute("nonce",ft),Yt.insertBefore(ln,qt?qt.nextSibling:Yt.firstChild)}It=!1,Je.length?Je.map(ft=>ft.connectedCallback()):_t.jmp(()=>Le=setTimeout(Ht,30))},Pn=(W,B,ae,Te)=>{ae&&ae.map(([Ge,Mt,vt])=>{const Yt=Zn(W,Ge),qt=Un(B,vt),ln=cr(Ge);_t.ael(Yt,Mt,qt,ln),(B.$rmListeners$=B.$rmListeners$||[]).push(()=>_t.rel(Yt,Mt,qt,ln))})},Un=(W,B)=>ae=>{try{256&W.$flags$?W.$lazyInstance$[B](ae):(W.$queuedListeners$=W.$queuedListeners$||[]).push([B,ae])}catch(Te){Sn(Te)}},Zn=(W,B)=>16&B?fr.body:W,cr=W=>0!=(2&W),Nt=new WeakMap,Fn=W=>Nt.get(W),Ut=(W,B)=>Nt.set(B.$lazyInstance$=W,B),jn=(W,B)=>{const ae={$flags$:0,$hostElement$:W,$cmpMeta$:B,$instanceValues$:new Map};return ae.$onInstancePromise$=new Promise(Te=>ae.$onInstanceResolve$=Te),ae.$onReadyPromise$=new Promise(Te=>ae.$onReadyResolve$=Te),W["s-p"]=[],W["s-rc"]=[],Pn(W,ae,B.$listeners$),Nt.set(W,ae)},dr=(W,B)=>B in W,Sn=(W,B)=>(0,console.error)(W,B),yr=new Map,Xr=(W,B,ae)=>{const Te=W.$tagName$.replace(/-/g,"_"),Ge=W.$lazyBundleId$,Mt=yr.get(Ge);if(Mt)return Mt[Te];if(!ae||!BUILD.hotModuleReplacement){const vt=Yt=>(yr.set(Ge,Yt),Yt[Te]);switch(Ge){case"pwa-action-sheet":return x.e(1120).then(x.bind(x,1120)).then(vt,Sn);case"pwa-camera-modal":return x.e(7324).then(x.bind(x,7324)).then(vt,Sn);case"pwa-toast":return x.e(2813).then(x.bind(x,2813)).then(vt,Sn);case"pwa-camera-modal-instance":return x.e(4995).then(x.bind(x,4995)).then(vt,Sn);case"pwa-camera":return x.e(6390).then(x.bind(x,6390)).then(vt,Sn)}}return x(5899)(`./${Ge}.entry.js`).then(vt=>(yr.set(Ge,vt),vt[Te]),Sn)},zr=new Map,br=typeof window<"u"?window:{},fr=br.document||{head:{}},_t={$flags$:0,$resourcesUrl$:"",jmp:W=>W(),raf:W=>requestAnimationFrame(W),ael:(W,B,ae,Te)=>W.addEventListener(B,ae,Te),rel:(W,B,ae,Te)=>W.removeEventListener(B,ae,Te),ce:(W,B)=>new CustomEvent(W,B)},Ze=W=>Promise.resolve(W),Pt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Zt=[],an=[],In=(W,B)=>ae=>{W.push(ae),De||(De=!0,B&&4&_t.$flags$?ee($e):_t.raf($e))},Bn=W=>{for(let B=0;B<W.length;B++)try{W[B](performance.now())}catch(ae){Sn(ae)}W.length=0},$e=()=>{Bn(Zt),Bn(an),(De=Zt.length>0)&&_t.raf($e)},ee=W=>Ze().then(W),J=In(an,!0)},3126:(rn,it,x)=>{"use strict";x.d(it,{O:()=>Id});var d=x(5861),g=x(9058),X=x(4303),re=x(7879),we=x(7582),De=x(4537);const Se=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new re.Yd("@firebase/auth");function _e(r,...e){Ce.logLevel<=re.in.ERROR&&Ce.error(`Auth (${X.Jn}): ${r}`,...e)}function He(r,...e){throw Ye(r,...e)}function Re(r,...e){return Ye(r,...e)}function Ye(r,...e){if("string"!=typeof r){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return ct.create(r,...e)}function pe(r,e,...t){if(!r)throw Ye(e,...t)}function Ae(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _e(e),new Error(e)}function Be(r,e){r||Ae(e)}function Dt(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.href)||""}function St(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class ge{constructor(e,t){this.shortDelay=e,this.longDelay=t,Be(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function at(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function jt(){return"http:"===St()||"https:"===St()}()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(r,e){Be(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Qe{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new ge(3e4,6e4);function At(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function Tt(r,e,t,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(r,e,t,i,a={}){return tt(r,a,(0,d.Z)(function*(){let c={},f={};i&&("GET"===e?f=i:c={body:JSON.stringify(i)});const E=(0,g.xO)(Object.assign({key:r.config.apiKey},f)).slice(1),R=yield r._getAdditionalHeaders();return R["Content-Type"]="application/json",r.languageCode&&(R["X-Firebase-Locale"]=r.languageCode),Qe.fetch()(gt(r,r.config.apiHost,t,E),Object.assign({method:e,headers:R,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function tt(r,e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},st),e);try{const a=new Ht(r),c=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const f=yield c.json();if("needConfirmation"in f)throw Xt(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const E=c.ok?f.errorMessage:f.error.message,[R,U]=E.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===R)throw Xt(r,"credential-already-in-use",f);if("EMAIL_EXISTS"===R)throw Xt(r,"email-already-in-use",f);if("USER_DISABLED"===R)throw Xt(r,"user-disabled",f);const Q=i[R]||R.toLowerCase().replace(/[_\s]+/g,"-");if(U)throw function Oe(r,e,t){const i=Object.assign(Object.assign({},Se()),{[e]:t});return new g.LL("auth","Firebase",i).create(e,{appName:r.name})}(r,Q,U);He(r,Q)}}catch(a){if(a instanceof g.ZR)throw a;He(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(r,e,t,i,a={}){const c=yield Tt(r,e,t,i,a);return"mfaPendingCredential"in c&&He(r,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function gt(r,e,t,i){const a=`${e}${t}?${i}`;return r.config.emulator?Me(r.config,a):`${r.config.apiScheme}://${a}`}class Ht{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Re(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xt(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Re(r,e,i);return a.customData._tokenResponse=t,a}function ir(){return(ir=(0,d.Z)(function*(r,e){return Tt(r,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(r,e){return Tt(r,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Zn(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nt(){return(Nt=(0,d.Z)(function*(r,e=!1){const t=(0,g.m9)(r),i=yield t.getIdToken(e),a=Ut(i);pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c="object"==typeof a.firebase?a.firebase:void 0,f=null==c?void 0:c.sign_in_provider;return{claims:a,token:i,authTime:Zn(Fn(a.auth_time)),issuedAtTime:Zn(Fn(a.iat)),expirationTime:Zn(Fn(a.exp)),signInProvider:f||null,signInSecondFactor:(null==c?void 0:c.sign_in_second_factor)||null}})).apply(this,arguments)}function Fn(r){return 1e3*Number(r)}function Ut(r){const[e,t,i]=r.split(".");if(void 0===e||void 0===t||void 0===i)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,g.tV)(t);return a?JSON.parse(a):(_e("Failed to decode base64 JWT payload"),null)}catch(a){return _e("Caught error parsing JWT payload as JSON",null==a?void 0:a.toString()),null}}function dr(r,e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(r,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof g.ZR&&function yr({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}(i)&&r.auth.currentUser===r&&(yield r.auth.signOut()),i}})).apply(this,arguments)}class Xr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,d.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,d.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class zr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(r){return fr.apply(this,arguments)}function fr(){return fr=(0,d.Z)(function*(r){var e;const t=r.auth,i=yield r.getIdToken(),a=yield dr(r,function Pn(r,e){return Un.apply(this,arguments)}(t,{idToken:i}));pe(null==a?void 0:a.users.length,t,"internal-error");const c=a.users[0];r._notifyReloadListener(c);const f=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?function Zt(r){return r.map(e=>{var{providerId:t}=e,i=(0,we._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(c.providerUserInfo):[],E=function Pt(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(r.providerData,f),Q=!!r.isAnonymous&&!(r.email&&c.passwordHash||null!=E&&E.length),ke={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:E,metadata:new zr(c.createdAt,c.lastLoginAt),isAnonymous:Q};Object.assign(r,ke)}),fr.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(r){const e=(0,g.m9)(r);yield br(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(r,e){const t=yield tt(r,{},(0,d.Z)(function*(){const i=(0,g.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=r.config,f=gt(r,a,"/v1/token",`key=${c}`),E=yield r._getAdditionalHeaders();return E["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(f,{method:"POST",headers:E,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function jn(r){const e=Ut(r);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,d.Z)(function*(){return pe(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,d.Z)(function*(){const{accessToken:a,refreshToken:c,expiresIn:f}=yield function an(r,e){return In.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,c,Number(f))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,f=new Bn;return i&&(pe("string"==typeof i,"internal-error",{appName:e}),f.refreshToken=i),a&&(pe("string"==typeof a,"internal-error",{appName:e}),f.accessToken=a),c&&(pe("number"==typeof c,"internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function $e(r,e){pe("string"==typeof r||typeof r>"u","internal-error",{appName:e})}class ee{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,c=(0,we._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new zr(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,d.Z)(function*(){const i=yield dr(t,t.stsTokenManager.getToken(t.auth,e));return pe(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function vr(r){return Nt.apply(this,arguments)}(this,e)}reload(){return function _t(r){return Ze.apply(this,arguments)}(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,d.Z)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield br(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,d.Z)(function*(){const t=yield e.getIdToken();return yield dr(e,function bn(r,e){return ir.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,c,f,E,R,U,Q;const ke=null!==(i=t.displayName)&&void 0!==i?i:void 0,bt=null!==(a=t.email)&&void 0!==a?a:void 0,Ft=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,gn=null!==(f=t.photoURL)&&void 0!==f?f:void 0,$n=null!==(E=t.tenantId)&&void 0!==E?E:void 0,Vn=null!==(R=t._redirectEventId)&&void 0!==R?R:void 0,Lr=null!==(U=t.createdAt)&&void 0!==U?U:void 0,ci=null!==(Q=t.lastLoginAt)&&void 0!==Q?Q:void 0,{uid:Pr,emailVerified:Es,isAnonymous:Xi,providerData:Hi,stsTokenManager:Uo}=t;pe(Pr&&Uo,e,"internal-error");const Nh=Bn.fromJSON(this.name,Uo);pe("string"==typeof Pr,e,"internal-error"),$e(ke,e.name),$e(bt,e.name),pe("boolean"==typeof Es,e,"internal-error"),pe("boolean"==typeof Xi,e,"internal-error"),$e(Ft,e.name),$e(gn,e.name),$e($n,e.name),$e(Vn,e.name),$e(Lr,e.name),$e(ci,e.name);const Ay=new ee({uid:Pr,auth:e,email:bt,emailVerified:Es,displayName:ke,isAnonymous:Xi,photoURL:gn,phoneNumber:Ft,tenantId:$n,stsTokenManager:Nh,createdAt:Lr,lastLoginAt:ci});return Hi&&Array.isArray(Hi)&&(Ay.providerData=Hi.map(kA=>Object.assign({},kA))),Vn&&(Ay._redirectEventId=Vn),Ay}static _fromIdTokenResponse(e,t,i=!1){return(0,d.Z)(function*(){const a=new Bn;a.updateFromServerResponse(t);const c=new ee({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield br(c),c})()}}const J=new Map;function W(r){Be(r instanceof Function,"Expected a class definition");let e=J.get(r);return e?(Be(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J.set(r,e),e)}const ae=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(t,i){var a=this;return(0,d.Z)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,d.Z)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,d.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return r.type="NONE",r})();function Te(r,e,t){return`firebase:${r}:${e}:${t}`}class Ge{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Te(this.userKey,a.apiKey,c),this.fullPersistenceKey=Te("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,d.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ee._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,d.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,d.Z)(function*(){if(!t.length)return new Ge(W(ae),e,i);const a=(yield Promise.all(t.map(function(){var U=(0,d.Z)(function*(Q){if(yield Q._isAvailable())return Q});return function(Q){return U.apply(this,arguments)}}()))).filter(U=>U);let c=a[0]||W(ae);const f=Te(i,e.config.apiKey,e.name);let E=null;for(const U of t)try{const Q=yield U._get(f);if(Q){const ke=ee._fromJSON(e,Q);U!==c&&(E=ke),c=U;break}}catch{}const R=a.filter(U=>U._shouldAllowMigration);return c._shouldAllowMigration&&R.length?(c=R[0],E&&(yield c._set(f,E.toJSON())),yield Promise.all(t.map(function(){var U=(0,d.Z)(function*(Q){if(Q!==c)try{yield Q._remove(f)}catch{}});return function(Q){return U.apply(this,arguments)}}())),new Ge(c,e,i)):new Ge(c,e,i)})()}}function Mt(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ln(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Le(e))return"Blackberry";if(It(e))return"Webos";if(Yt(e))return"Safari";if((e.includes("chrome/")||qt(e))&&!e.includes("edge/"))return"Chrome";if(Je(e))return"Android";{const i=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function vt(r=(0,g.z$)()){return/firefox\//i.test(r)}function Yt(r=(0,g.z$)()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qt(r=(0,g.z$)()){return/crios\//i.test(r)}function ln(r=(0,g.z$)()){return/iemobile/i.test(r)}function Je(r=(0,g.z$)()){return/android/i.test(r)}function Le(r=(0,g.z$)()){return/blackberry/i.test(r)}function It(r=(0,g.z$)()){return/webos/i.test(r)}function ft(r=(0,g.z$)()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Jt(r=(0,g.z$)()){return ft(r)||Je(r)||It(r)||Le(r)||/windows phone/i.test(r)||ln(r)}function tr(r,e=[]){let t;switch(r){case"Browser":t=Mt((0,g.z$)());break;case"Worker":t=`${Mt((0,g.z$)())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${X.Jn}/${i}`}class Ur{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((f,E)=>{try{f(e(c))}catch(R){E(R)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,d.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const c of i)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==a?void 0:a.message})}})()}}function hr(){return(hr=(0,d.Z)(function*(r,e={}){return Tt(r,"GET","/v2/passwordPolicy",At(r,e))})).apply(this,arguments)}class Rr{constructor(e){var t,i,a,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=f.minPasswordLength)&&void 0!==t?t:6,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),void 0!==f.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),void 0!==f.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),void 0!==f.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),void 0!==f.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(a=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==a?a:"",this.forceUpgradeOnSignin=null!==(c=e.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,c,f,E;const R={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,R),this.validatePasswordCharacterOptions(e,R),R.isValid&&(R.isValid=null===(t=R.meetsMinPasswordLength)||void 0===t||t),R.isValid&&(R.isValid=null===(i=R.meetsMaxPasswordLength)||void 0===i||i),R.isValid&&(R.isValid=null===(a=R.containsLowercaseLetter)||void 0===a||a),R.isValid&&(R.isValid=null===(c=R.containsUppercaseLetter)||void 0===c||c),R.isValid&&(R.isValid=null===(f=R.containsNumericCharacter)||void 0===f||f),R.isValid&&(R.isValid=null===(E=R.containsNonAlphanumericCharacter)||void 0===E||E),R}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pr{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.beforeStateQueue=new Ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=W(t)),this._initializationPromise=this.queue((0,d.Z)(function*(){var a,c;if(!i._deleted&&(i.persistenceManager=yield Ge.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(c=i.currentUser)||void 0===c?void 0:c.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,d.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,d.Z)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let c=a,f=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const E=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,R=null==c?void 0:c._redirectEventId,U=yield t.tryRedirectSignIn(e);(!E||E===R)&&null!=U&&U.user&&(c=U.user,f=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(f)try{yield t.beforeStateQueue.runMiddleware(c)}catch(E){c=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(E))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return pe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,d.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,d.Z)(function*(){try{yield br(e)}catch(i){if("auth/network-request-failed"!==(null==i?void 0:i.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function se(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var e=this;return(0,d.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,d.Z)(function*(){const i=e?(0,g.m9)(e):null;return i&&pe(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,d.Z)(function*(){if(!i._deleted)return e&&pe(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,d.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,d.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,d.Z)(function*(){yield t.assertedPersistence.setPersistence(W(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,d.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const i=t._getPasswordPolicyInternal();return i.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,d.Z)(function*(){const t=yield function Ai(r){return hr.apply(this,arguments)}(e),i=new Rr(t);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new g.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,d.Z)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,d.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&W(e)||t._popupRedirectResolver;pe(i,t,"argument-error"),t.redirectPersistenceManager=yield Ge.create(t,[W(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,d.Z)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,d.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,d.Z)(function*(){if(e===t.currentUser)return t.queue((0,d.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t);let f=!1;const E=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(E,this,"internal-error"),E.then(()=>{f||c(this.currentUser)}),"function"==typeof t){const R=e.addObserver(t,i,a);return()=>{f=!0,R()}}{const R=e.addObserver(t);return()=>{f=!0,R()}}}directlySetCurrentUser(e){var t=this;return(0,d.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,d.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const c=yield e._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i})()}_getAppCheckToken(){var e=this;return(0,d.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=i&&i.error&&function Ve(r,...e){Ce.logLevel<=re.in.WARN&&Ce.warn(`Auth (${X.Jn}): ${r}`,...e)}(`Error while retrieving App Check token: ${i.error}`),null==i?void 0:i.token})()}}function Jn(r){return(0,g.m9)(r)}class Ar{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,g.ne)(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(r){return`__${r}${Math.floor(1e6*Math.random())}`}function dt(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ct(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}class Lt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ae("not implemented")}_getIdTokenResponse(e){return Ae("not implemented")}_linkToIdToken(e,t){return Ae("not implemented")}_getReauthenticationResolver(e){return Ae("not implemented")}}function Kr(r,e){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(r,e){return function mt(r,e,t,i){return yt.apply(this,arguments)}(r,"POST","/v1/accounts:signInWithIdp",At(r,e))})).apply(this,arguments)}class Ui{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ao extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,a=!1){return(0,d.Z)(function*(){const c=yield ee._fromIdTokenResponse(e,i,a),f=ks(i);return new Yr({user:c,providerId:f,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return(0,d.Z)(function*(){yield e._updateTokensIfNecessary(i,!0);const a=ks(i);return new Yr({user:e,providerId:a,_tokenResponse:i,operationType:t})})()}}function ks(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class gi extends g.ZR{constructor(e,t,i,a){var c;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new gi(e,t,i,a)}}function ds(r,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?gi._fromErrorAndOperation(r,c,e,i):c})}function Jo(){return(Jo=(0,d.Z)(function*(r,e,t=!1){const i=yield dr(r,e._linkToIdToken(r.auth,yield r.getIdToken()),t);return Yr._forOperation(r,"link",i)})).apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(r,e,t=!1){const{auth:i}=r,a="reauthenticate";try{const c=yield dr(r,ds(i,a,e,r),t);pe(c.idToken,i,"internal-error");const f=Ut(c.idToken);pe(f,i,"internal-error");const{sub:E}=f;return pe(r.uid===E,i,"user-mismatch"),Yr._forOperation(r,a,c)}catch(c){throw"auth/user-not-found"===(null==c?void 0:c.code)&&He(i,"user-mismatch"),c}})).apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(r,e,t=!1){const i="signIn",a=yield ds(r,i,e),c=yield Yr._fromIdTokenResponse(r,i,a);return t||(yield r._updateCurrentUser(c.user)),c})).apply(this,arguments)}function Ql(){return(Ql=(0,d.Z)(function*(r,e){return Tt(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ta(){return ta=(0,d.Z)(function*(r,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=(0,g.m9)(r),c={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=yield dr(i,function va(r,e){return Ql.apply(this,arguments)}(i.auth,c));i.displayName=f.displayName||null,i.photoURL=f.photoUrl||null;const E=i.providerData.find(({providerId:R})=>"password"===R);E&&(E.displayName=i.displayName,E.photoURL=i.photoURL),yield i._updateTokensIfNecessary(f)}),ta.apply(this,arguments)}const Tl="__sak";class Rc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tl,"1"),this.storage.removeItem(Tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gr=(()=>{class r extends Rc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ll(){const r=(0,g.z$)();return Yt(r)||ft(r)}()&&function Qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Jt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),c=this.localCache[i];a!==c&&t(i,c,a)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((E,R,U)=>{this.notifyListeners(E,U)});const a=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const E=this.storage.getItem(a);if(t.newValue!==E)null!==t.newValue?this.storage.setItem(a,t.newValue):this.storage.removeItem(a);else if(this.localCache[a]===t.newValue&&!i)return}const c=()=>{const E=this.storage.getItem(a);!i&&this.localCache[a]===E||this.notifyListeners(a,E)},f=this.storage.getItem(a);!function wn(){return(0,g.w1)()&&10===document.documentMode}()||f===t.newValue||t.newValue===t.oldValue?c():setTimeout(c,10)}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const c of Array.from(a))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var a=()=>super._set,c=this;return(0,d.Z)(function*(){yield a().call(c,t,i),c.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,a=this;return(0,d.Z)(function*(){const c=yield i().call(a,t);return a.localCache[t]=JSON.stringify(c),c})()}_remove(t){var i=()=>super._remove,a=this;return(0,d.Z)(function*(){yield i().call(a,t),delete a.localCache[t]})()}}return r.type="LOCAL",r})(),ec=(()=>{class r extends Rc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return r.type="SESSION",r})();let ns=(()=>{class r{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;const a=new r(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return(0,d.Z)(function*(){const a=t,{eventId:c,eventType:f,data:E}=a.data,R=i.handlersMap[f];if(null==R||!R.size)return;a.ports[0].postMessage({status:"ack",eventId:c,eventType:f});const U=Array.from(R).map(function(){var ke=(0,d.Z)(function*(bt){return bt(a.origin,E)});return function(bt){return ke.apply(this,arguments)}}()),Q=yield function tc(r){return Promise.all(r.map(function(){var e=(0,d.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(U);a.ports[0].postMessage({status:"done",eventId:c,eventType:f,response:Q})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return r.receivers=[],r})();function nc(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return r+t}class Rs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var a=this;return(0,d.Z)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let f,E;return new Promise((R,U)=>{const Q=nc("",20);c.port1.start();const ke=setTimeout(()=>{U(new Error("unsupported_event"))},i);E={messageChannel:c,onMessage(bt){const Ft=bt;if(Ft.data.eventId===Q)switch(Ft.data.status){case"ack":clearTimeout(ke),f=setTimeout(()=>{U(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),R(Ft.data.response);break;default:clearTimeout(ke),clearTimeout(f),U(new Error("invalid_response"))}}},a.handlers.add(E),c.port1.addEventListener("message",E.onMessage),a.target.postMessage({eventType:e,eventId:Q,data:t},[c.port2])}).finally(()=>{E&&a.removeMessageHandler(E)})})()}}function bi(){return window}function Va(){return typeof bi().WorkerGlobalScope<"u"&&"function"==typeof bi().importScripts}function vu(){return(vu=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jr="firebaseLocalStorageDb",ja="firebaseLocalStorage",hs="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ia(r,e){return r.transaction([ja],e?"readwrite":"readonly").objectStore(ja)}function Go(){const r=indexedDB.open(jr,1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ja,{keyPath:hs})}catch(a){t(a)}}),r.addEventListener("success",(0,d.Z)(function*(){const i=r.result;i.objectStoreNames.contains(ja)?e(i):(i.close(),yield function ia(){const r=indexedDB.deleteDatabase(jr);return new cl(r).toPromise()}(),e(yield Go()))}))})}function Al(r,e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(r,e,t){const i=Ia(r,!0).put({[hs]:e,value:t});return new cl(i).toPromise()})).apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(r,e){const t=Ia(r,!1).get(e),i=yield new cl(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Us(r,e){const t=Ia(r,!0).delete(e);return new cl(t).toPromise()}const Ea=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,d.Z)(function*(){return t.db||(t.db=yield Go()),t.db})()}_withRetries(t){var i=this;return(0,d.Z)(function*(){let a=0;for(;;)try{const c=yield i._openDb();return yield t(c)}catch(c){if(a++>3)throw c;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,d.Z)(function*(){return Va()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,d.Z)(function*(){t.receiver=ns._getInstance(function en(){return Va()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=(0,d.Z)(function*(a,c){return{keyProcessed:(yield t._poll()).includes(c.key)}});return function(a,c){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=(0,d.Z)(function*(a,c){return["keyChanged"]});return function(a,c){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,d.Z)(function*(){var i,a;if(t.activeServiceWorker=yield function xc(){return vu.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Rs(t.activeServiceWorker);const c=yield t.sender._send("ping",{},800);c&&null!==(i=c[0])&&void 0!==i&&i.fulfilled&&null!==(a=c[0])&&void 0!==a&&a.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return(0,d.Z)(function*(){if(i.sender&&i.activeServiceWorker&&function yu(){var r;return(null===(r=null==navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Go();return yield Al(t,Tl,"1"),yield Us(t,Tl),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return(0,d.Z)(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var a=this;return(0,d.Z)(function*(){return a._withPendingWrite((0,d.Z)(function*(){return yield a._withRetries(c=>Al(c,t,i)),a.localCache[t]=i,a.notifyServiceWorker(t)}))})()}_get(t){var i=this;return(0,d.Z)(function*(){const a=yield i._withRetries(c=>function Ed(r,e){return ul.apply(this,arguments)}(c,t));return i.localCache[t]=a,a})()}_remove(t){var i=this;return(0,d.Z)(function*(){return i._withPendingWrite((0,d.Z)(function*(){return yield i._withRetries(a=>Us(a,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,d.Z)(function*(){const i=yield t._withRetries(f=>{const E=Ia(f,!1).getAll();return new cl(E).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const a=[],c=new Set;for(const{fbase_key:f,value:E}of i)c.add(f),JSON.stringify(t.localCache[f])!==JSON.stringify(E)&&(t.notifyListeners(f,E),a.push(f));for(const f of Object.keys(t.localCache))t.localCache[f]&&!c.has(f)&&(t.notifyListeners(f,null),a.push(f));return a})()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const c of Array.from(a))c(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return r.type="LOCAL",r})();Or("rcb"),new ge(3e4,6e4);class ic extends Lt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kc(r){return function hi(r,e){return tl.apply(this,arguments)}(r.auth,new ic(r),r.bypassAuthState)}function op(r){const{auth:e,user:t}=r;return pe(t,e,"internal-error"),function ga(r,e){return el.apply(this,arguments)}(t,new ic(r),r.bypassAuthState)}function Eu(r){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,d.Z)(function*(r){const{auth:e,user:t}=r;return pe(t,e,"internal-error"),function Xs(r,e){return Jo.apply(this,arguments)}(t,new ic(r),r.bypassAuthState)})).apply(this,arguments)}class hl{constructor(e,t,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,d.Z)(function*(i,a){e.pendingPromise={resolve:i,reject:a};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(c){e.reject(c)}});return function(i,a){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,d.Z)(function*(){const{urlResponse:i,sessionId:a,postBody:c,tenantId:f,error:E,type:R}=e;if(E)return void t.reject(E);const U={auth:t.auth,requestUri:i,sessionId:a,tenantId:f||void 0,postBody:c||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(R)(U))}catch(Q){t.reject(Q)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kc;case"linkViaPopup":case"linkViaRedirect":return Eu;case"reauthViaPopup":case"reauthViaRedirect":return op;default:He(this.auth,"internal-error")}}resolve(e){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ge(2e3,1e4);const um="pendingRedirect",Ga=new Map;class sc extends hl{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,d.Z)(function*(){let i=Ga.get(t.auth._key());if(!i){try{const c=(yield function lp(r,e){return Wa.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(c)}catch(a){i=()=>Promise.reject(a)}Ga.set(t.auth._key(),i)}return t.bypassAuthState||Ga.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return(0,d.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const a=yield i.auth._redirectUserForId(e.eventId);if(a)return i.user=a,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Wa(){return(Wa=(0,d.Z)(function*(r,e){const t=function Du(r){return Te(um,r.config.apiKey,r.name)}(e),i=function Bh(r){return W(r._redirectPersistence)}(r);if(!(yield i._isAvailable()))return!1;const a="true"===(yield i._get(t));return yield i._remove(t),a})).apply(this,arguments)}function $h(r,e){Ga.set(r._key(),e)}function lc(r,e){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(r,e,t=!1){const i=Jn(r),a=function oa(r,e){return e?W(e):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}(i,e),f=yield new sc(i,a,t).execute();return f&&!t&&(delete f.user._redirectEventId,yield i._persistUserIfCurrent(f.user),yield i._setRedirectUser(null,e)),f})).apply(this,arguments)}class Ru{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Uh(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(r);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Pl(e)){const a=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Re(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pl(e))}saveEventToCache(e){this.cachedEventUids.add(pl(e)),this.lastProcessedEventTime=Date.now()}}function pl(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Pl({type:r,error:e}){return"unknown"===r&&"auth/no-auth-event"===(null==e?void 0:e.code)}function qo(){return(qo=(0,d.Z)(function*(r,e={}){return Tt(r,"GET","/v1/projects",e)})).apply(this,arguments)}const Vh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function Td(){return Td=(0,d.Z)(function*(r){if(r.config.emulator)return;const{authorizedDomains:e}=yield function fo(r){return qo.apply(this,arguments)}(r);for(const t of e)try{if(xu(t))return}catch{}He(r,"unauthorized-domain")}),Td.apply(this,arguments)}function xu(r){const e=Dt(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return""===f.hostname&&""===i?"chrome-extension:"===t&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&f.hostname===i}if(!qa.test(t))return!1;if(Vh.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const cc=new ge(3e4,6e4);function Ol(){const r=bi().___jsl;if(null!=r&&r.H)for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}let S=null;function O(r){return S=S||function uc(r){return new Promise((e,t)=>{var i,a,c;function f(){Ol(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ol(),t(Re(r,"network-request-failed"))},timeout:cc.get()})}if(null!==(a=null===(i=bi().gapi)||void 0===i?void 0:i.iframes)&&void 0!==a&&a.Iframe)e(gapi.iframes.getContext());else{if(null===(c=bi().gapi)||void 0===c||!c.load){const E=Or("iframefcb");return bi()[E]=()=>{gapi.load?f():t(Re(r,"network-request-failed"))},function wi(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const c=Re("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",function Jr(){var r,e;return null!==(e=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==e?e:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${E}`).catch(R=>t(R))}f()}}).catch(e=>{throw S=null,e})}(r),S}const Y=new ge(5e3,15e3),Pe="__/auth/iframe",lt="emulator/auth/iframe",Et={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nn(r){const e=r.config;pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Me(e,lt):`https://${r.config.authDomain}/${Pe}`,i={apiKey:e.apiKey,appName:r.name,v:X.Jn},a=Bt.get(r.config.apiHost);a&&(i.eid=a);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${(0,g.xO)(i).slice(1)}`}function er(){return er=(0,d.Z)(function*(r){const e=yield O(r),t=bi().gapi;return pe(t,r,"internal-error"),e.open({where:document.body,url:Nn(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Et,dontclear:!0},i=>new Promise(function(){var a=(0,d.Z)(function*(c,f){yield i.restyle({setHideOnLeave:!1});const E=Re(r,"network-request-failed"),R=bi().setTimeout(()=>{f(E)},Y.get());function U(){bi().clearTimeout(R),c(i)}i.ping(U).then(U,()=>{f(E)})});return function(c,f){return a.apply(this,arguments)}}()))}),er.apply(this,arguments)}const Cr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ss="__/auth/handler",Ya="emulator/auth/handler",hm=encodeURIComponent("fac");function jh(r,e,t,i,a,c){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,d.Z)(function*(r,e,t,i,a,c){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:X.Jn,eventId:a};if(e instanceof Ui){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",(0,g.xb)(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[Q,ke]of Object.entries(c||{}))f[Q]=ke}if(e instanceof ao){const Q=e.getScopes().filter(ke=>""!==ke);Q.length>0&&(f.scopes=Q.join(","))}r.tenantId&&(f.tid=r.tenantId);const E=f;for(const Q of Object.keys(E))void 0===E[Q]&&delete E[Q];const R=yield r._getAppCheckToken(),U=R?`#${hm}=${encodeURIComponent(R)}`:"";return`${function fm({config:r}){return r.emulator?Me(r,Ya):`https://${r.authDomain}/${Ss}`}(r)}?${(0,g.xO)(E).slice(1)}${U}`})).apply(this,arguments)}const Sd="webStorageSupport",Ry=class pm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ec,this._completeRedirectFn=lc,this._overrideRedirectResult=$h}_openPopup(e,t,i,a){var c=this;return(0,d.Z)(function*(){var f;Be(null===(f=c.eventManagers[e._key()])||void 0===f?void 0:f.manager,"_initialize() not called before _openPopup()");const E=yield jh(e,t,i,Dt(),a);return function Ka(r,e,t,i=500,a=600){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let E="";const R=Object.assign(Object.assign({},Cr),{width:i.toString(),height:a.toString(),top:c,left:f}),U=(0,g.z$)().toLowerCase();t&&(E=qt(U)?"_blank":t),vt(U)&&(e=e||"http://localhost",R.scrollbars="yes");const Q=Object.entries(R).reduce((bt,[Ft,gn])=>`${bt}${Ft}=${gn},`,"");if(function Gt(r=(0,g.z$)()){var e;return ft(r)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(U)&&"_self"!==E)return function Ko(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",E),new dc(null);const ke=window.open(e||"",E,Q);pe(ke,r,"popup-blocked");try{ke.focus()}catch{}return new dc(ke)}(e,E,nc())})()}_openRedirect(e,t,i,a){var c=this;return(0,d.Z)(function*(){return yield c._originValidation(e),function rc(r){bi().location.href=r}(yield jh(e,t,i,Dt(),a)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Be(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return(0,d.Z)(function*(){const i=yield function An(r){return er.apply(this,arguments)}(e),a=new Ru(e);return i.register("authEvent",c=>(pe(null==c?void 0:c.authEvent,e,"invalid-auth-event"),{status:a.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:a},t.iframes[e._key()]=i,a})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sd,{type:Sd},a=>{var c;const f=null===(c=null==a?void 0:a[0])||void 0===c?void 0:c[Sd];void 0!==f&&t(!!f),He(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function dm(r){return Td.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jt()||Yt()||ft()}};var xy="@firebase/auth";class Py{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,d.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((null==i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hp=(0,g.Pz)("authIdTokenMaxAge")||300;let Rd=null;const Ny=r=>function(){var e=(0,d.Z)(function*(t){const i=t&&(yield t.getIdTokenResult()),a=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>hp)return;const c=null==i?void 0:i.token;Rd!==c&&(Rd=c,yield fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Bc(r=(0,X.Mq)()){const e=(0,X.qX)(r,"auth");if(e.isInitialized())return e.getImmediate();const t=function $(r,e){const t=(0,X.qX)(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if((0,g.vZ)(c,null!=e?e:{}))return a;He(a,"already-initialized")}return t.initialize({options:e})}(r,{popupRedirectResolver:Ry,persistence:[Ea,gr,ec]}),i=(0,g.Pz)("authTokenSyncURL");if(i){const c=Ny(i);(function Io(r,e,t){(0,g.m9)(r).beforeAuthStateChanged(e,t)})(t,c,()=>c(t.currentUser)),function Fs(r,e,t,i){(0,g.m9)(r).onIdTokenChanged(e,t,i)}(t,f=>c(f))}const a=(0,g.q4)("auth");return a&&function be(r,e,t){const i=Jn(r);pe(i._canInitEmulator,i,"emulator-config-failed"),pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!(null==t||!t.disableWarnings),c=dt(e),{host:f,port:E}=function rt(r){const e=dt(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:Ct(i.substr(c.length+1))}}{const[c,f]=i.split(":");return{host:c,port:Ct(f)}}}(e);i.config.emulator={url:`${c}//${f}${null===E?"":`:${E}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:f,port:E,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function Wt(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r())}()}(t,`http://${a}`),t}!function Md(r){(0,X.Xd)(new De.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:E}=i.options;pe(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const R={apiKey:f,authDomain:E,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(r)},U=new pr(i,a,c,R);return function ie(r,e){const t=(null==e?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(W);null!=e&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(U,t),U},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,X.Xd)(new De.wA("auth-internal",e=>{const t=Jn(e.getProvider("auth").getImmediate());return new Py(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.KN)(xy,"1.3.0",function Oy(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,X.KN)(xy,"1.3.0","esm2017")}("Browser");var On,eo=x(2793),vi=x(5879),Uc=(x(8726),x(4097),x(7592)),ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Za={},fc=fc||{},Tr=ky||self;function pp(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Pu(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var qh="closure_uid_"+(1e9*Math.random()>>>0),Ly=0;function Fy(r,e,t){return r.call.apply(r.bind,arguments)}function Kh(r,e,t){if(!r)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function js(r,e,t){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fy:Kh).apply(null,arguments)}function Pd(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),r.apply(this,i)}}function to(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(i,a,c){for(var f=Array(arguments.length-2),E=2;E<arguments.length;E++)f[E-2]=arguments[E];return e.prototype[a].apply(i,f)}}function gl(){this.s=this.s,this.o=this.o}gl.prototype.s=!1,gl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function gp(r){Object.prototype.hasOwnProperty.call(r,qh)&&r[qh]||(r[qh]=++Ly)}(this)},gl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mp=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function gm(r){const e=r.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=r[i];return t}return[]}function mm(r,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(pp(i)){const a=r.length||0,c=i.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=i[f]}else r.push(i)}}function xs(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}xs.prototype.h=function(){this.defaultPrevented=!0};var vp=function(){if(!Tr.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Tr.addEventListener("test",()=>{},e),Tr.removeEventListener("test",()=>{},e)}catch{}return r}();function Od(r){return/^[\s\xa0]*$/.test(r)}function yp(){var r=Tr.navigator;return r&&(r=r.userAgent)?r:""}function Ta(r){return-1!=yp().indexOf(r)}function vm(r){return vm[" "](r),r}vm[" "]=function(){};var wo,r,$y=Ta("Opera"),Vc=Ta("Trident")||Ta("MSIE"),_p=Ta("Edge"),Yh=_p||Vc,Nd=Ta("Gecko")&&!(-1!=yp().toLowerCase().indexOf("webkit")&&!Ta("Edge"))&&!(Ta("Trident")||Ta("MSIE"))&&!Ta("Edge"),Ou=-1!=yp().toLowerCase().indexOf("webkit")&&!Ta("Edge");function Ip(){var r=Tr.document;return r?r.documentMode:void 0}e:{var pc="",kl=(r=yp(),Nd?/rv:([^\);]+)(\)|;)/.exec(r):_p?/Edge\/([\d\.]+)/.exec(r):Vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ou?/WebKit\/(\S+)/.exec(r):$y?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(kl&&(pc=kl?kl[1]:""),Vc){var Zh=Ip();if(null!=Zh&&Zh>parseFloat(pc)){wo=String(Zh);break e}}wo=pc}var Xh=Tr.document&&Vc&&(Ip()||parseInt(wo,10))||void 0;function Ll(r,e){if(xs.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,i=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Nd){e:{try{vm(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:By[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ll.$.h.call(this)}}to(Ll,xs);var By={2:"touch",3:"pen",4:"mouse"};Ll.prototype.h=function(){Ll.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),ym=0;function _m(r,e,t,i,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++ym,this.fa=this.ia=!1}function ku(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ep(r,e,t){for(const i in r)e.call(t,r[i],i,r)}function Fo(r){const e={};for(const t in r)e[t]=r[t];return e}const kd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qh(r,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)r[t]=i[t];for(let c=0;c<kd.length;c++)t=kd[c],Object.prototype.hasOwnProperty.call(i,t)&&(r[t]=i[t])}}function Jh(r){this.src=r,this.g={},this.h=0}function ss(r,e){var t=e.type;if(t in r.g){var c,i=r.g[t],a=mp(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(ku(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Fl(r,e,t,i){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return a}return-1}Jh.prototype.add=function(r,e,t,i,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Fl(r,e,i,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new _m(e,this.src,c,!!i,a)).ia=t,r.push(e)),e};var Ld="closure_lm_"+(1e6*Math.random()|0),Lu={};function po(r,e,t,i,a){if(i&&i.once)return bp(r,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)po(r,e[c],t,i,a);return null}return t=K(t),r&&r[Sa]?r.O(e,t,Pu(i)?!!i.capture:!!i,a):gc(r,e,t,!1,i,a)}function gc(r,e,t,i,a,c){if(!e)throw Error("Invalid event type");var f=Pu(a)?!!a.capture:!!a,E=m(r);if(E||(r[Ld]=E=new Jh(r)),(t=E.add(e,t,i,f,c)).proxy)return t;if(i=function Em(){const e=h;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=i,i.src=r,i.listener=t,r.addEventListener)vp||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),i,a);else if(r.attachEvent)r.attachEvent(_(e.toString()),i);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(i)}return t}function bp(r,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)bp(r,e[c],t,i,a);return null}return t=K(t),r&&r[Sa]?r.P(e,t,Pu(i)?!!i.capture:!!i,a):gc(r,e,t,!0,i,a)}function bm(r,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)bm(r,e[c],t,i,a);else i=Pu(i)?!!i.capture:!!i,t=K(t),r&&r[Sa]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Fl(c=r.g[e],t,i,a))&&(ku(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=m(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Fl(e,t,i,a)),(t=-1<r?e[r]:null)&&ef(t))}function ef(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Sa])ss(e.i,r);else{var t=r.type,i=r.proxy;e.removeEventListener?e.removeEventListener(t,i,r.capture):e.detachEvent?e.detachEvent(_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=m(e))?(ss(t,r),0==t.h&&(t.src=null,e[Ld]=null)):ku(r)}}}function _(r){return r in Lu?Lu[r]:Lu[r]="on"+r}function h(r,e){if(r.fa)r=!0;else{e=new Ll(e,this);var t=r.listener,i=r.la||r.src;r.ia&&ef(r),r=t.call(i,e)}return r}function m(r){return(r=r[Ld])instanceof Jh?r:null}var b="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(r){return"function"==typeof r?r:(r[b]||(r[b]=function(e){return r.handleEvent(e)}),r[b])}function ne(){gl.call(this),this.i=new Jh(this),this.S=this,this.J=null}function Ke(r,e){var t,i=r.J;if(i)for(t=[];i;i=i.J)t.push(i);if(r=r.S,i=e.type||e,"string"==typeof e)e=new xs(e,r);else if(e instanceof xs)e.target=e.target||r;else{var a=e;Qh(e=new xs(i,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=wt(f,i,!0,e)&&a}if(a=wt(f=e.g=r,i,!0,e)&&a,a=wt(f,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=wt(f=e.g=t[c],i,!1,e)&&a}function wt(r,e,t,i){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var E=f.listener,R=f.la||f.src;f.ia&&ss(r.i,f),a=!1!==E.call(R,i)&&a}}return a&&!i.defaultPrevented}to(ne,gl),ne.prototype[Sa]=!0,ne.prototype.removeEventListener=function(r,e,t,i){bm(this,r,e,t,i)},ne.prototype.N=function(){if(ne.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],i=0;i<t.length;i++)ku(t[i]);delete r.g[e],r.h--}}this.J=null},ne.prototype.O=function(r,e,t,i){return this.i.add(String(r),e,!1,t,i)},ne.prototype.P=function(r,e,t,i){return this.i.add(String(r),e,!0,t,i)};var on=Tr.JSON.stringify;function zn(){var r=Fu;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var qi=new class En{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Aa,r=>r.reset());class Aa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fd(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function Hc(r){Tr.setTimeout(()=>{throw r},0)}let ml,zc=!1,Fu=new class Kn{constructor(){this.h=this.g=null}add(e,t){const i=qi.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Gc=()=>{const r=Tr.Promise.resolve(void 0);ml=()=>{r.then(wm)}};var wm=()=>{for(var r;r=zn();){try{r.h.call(r.g)}catch(t){Hc(t)}var e=qi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}zc=!1};function $d(r,e){ne.call(this),this.h=r||1,this.g=e||Tr,this.j=js(this.qb,this),this.l=Date.now()}function Bd(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function tf(r,e,t){if("function"==typeof r)t&&(r=js(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=js(r.handleEvent,r)}return 2147483647<Number(e)?-1:Tr.setTimeout(r,e||0)}function Dm(r){r.g=tf(()=>{r.g=null,r.i&&(r.i=!1,Dm(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}to($d,ne),(On=$d.prototype).ga=!1,On.T=null,On.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ke(this,"tick"),this.ga&&(Bd(this),this.start()))}},On.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},On.N=function(){$d.$.N.call(this),Bd(this),delete this.g};class wp extends gl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dm(this)}N(){super.N(),this.g&&(Tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $u(r){gl.call(this),this.h=r,this.g={}}to($u,gl);var Dp=[];function Cm(r,e,t,i){Array.isArray(t)||(t&&(Dp[0]=t.toString()),t=Dp);for(var a=0;a<t.length;a++){var c=po(e,t[a],i||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Tm(r){Ep(r.g,function(e,t){this.g.hasOwnProperty(t)&&ef(e)},r),r.g={}}function Sm(){this.g=!0}function Ud(r,e,t,i){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZI(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var i=t[r];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return on(t)}catch{return e}}(r,t)+(i?" "+i:"")})}$u.prototype.N=function(){$u.$.N.call(this),Tm(this)},$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sm.prototype.Ea=function(){this.g=!1},Sm.prototype.info=function(){};var Bu={},XI=null;function Vy(){return XI=XI||new ne}function Cp(r){xs.call(this,Bu.Ta,r)}function Tp(r){const e=Vy();Ke(e,new Cp(e))}function jy(r,e){xs.call(this,Bu.STAT_EVENT,r),this.stat=e}function Yo(r){const e=Vy();Ke(e,new jy(e,r))}function Hy(r,e){xs.call(this,Bu.Ua,r),this.size=e}function jd(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Tr.setTimeout(function(){r()},e)}Bu.Ta="serverreachability",to(Cp,xs),Bu.STAT_EVENT="statevent",to(jy,xs),Bu.Ua="timingevent",to(Hy,xs);var Sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ap={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hd(){}function Am(){}Hd.prototype.h=null;var zd,Uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mm(){xs.call(this,"d")}function Mp(){xs.call(this,"c")}function Rm(){}function nf(r,e,t,i){this.l=r,this.j=e,this.m=t,this.W=i||1,this.U=new $u(this),this.P=PD,this.V=new $d(r=Yh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}to(Mm,xs),to(Mp,xs),to(Rm,Hd),Rm.prototype.g=function(){return new XMLHttpRequest},Rm.prototype.i=function(){return{}},zd=new Rm;var PD=45e3,Gy={},Rp={};function xm(r,e,t){r.L=1,r.v=$l(Wc(e)),r.s=t,r.S=!0,xp(r,null)}function xp(r,e){r.G=Date.now(),Pp(r),r.A=Wc(r.v);var t=r.A,i=r.W;Array.isArray(i)||(i=[String(i)]),Fm(t.i,"t",i),r.C=0,t=r.l.J,r.h=new QI,r.g=Bl(r.l,t?e:null,!r.s),0<r.O&&(r.M=new wp(js(r.Pa,r,r.g),r.O)),Cm(r.U,r.g,"readystatechange",r.nb),e=r.I?Fo(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Tp(),function xD(r,e,t,i,a,c){r.info(function(){if(r.g)if(c)for(var f="",E=c.split("&"),R=0;R<E.length;R++){var U=E[R].split("=");if(1<U.length){var Q=U[0];U=U[1];var ke=Q.split("_");f=2<=ke.length&&"type"==ke[1]?f+(Q+"=")+U+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Pm(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Gd(r,e,t){let a,i=!0;for(;!r.J&&r.C<t.length;){if(a=OD(r,t),a==Rp){4==e&&(r.o=4,Yo(14),i=!1),Ud(r.j,r.m,null,"[Incomplete Response]");break}if(a==Gy){r.o=4,Yo(15),Ud(r.j,r.m,t,"[Invalid Chunk]"),i=!1;break}Ud(r.j,r.m,a,null),Vu(r,a)}Pm(r)&&a!=Rp&&a!=Gy&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Yo(16),i=!1),r.i=r.i&&i,i?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wm(e),e.M=!0,Yo(11))):(Ud(r.j,r.m,t,"[Invalid Chunked Response]"),qd(r),Wd(r))}function OD(r,e){var t=r.C,i=e.indexOf("\n",t);return-1==i?Rp:(t=Number(e.substring(t,i)),isNaN(t)?Gy:(i+=1)+t>e.length?Rp:(e=e.slice(i,i+t),r.C=i+t,e))}function Pp(r){r.Y=Date.now()+r.P,ND(r,r.P)}function ND(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=jd(js(r.lb,r),e)}function Om(r){r.B&&(Tr.clearTimeout(r.B),r.B=null)}function Wd(r){0==r.l.H||r.J||Km(r.l,r)}function qd(r){Om(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Bd(r.V),Tm(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Vu(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||oE(t.i,r)))if(!r.K&&oE(t.i,r)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;qm(t),jm(t)}Gm(t),Yo(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=jd(js(t.ib,t),6e3));if(1>=FD(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zd(t,11)}else if((r.K||t.g==r)&&qm(t),!Od(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const Q=U[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const ke=U[4];null!=ke&&(t.Ga=ke,t.l.info("SVER="+t.Ga));const bt=U[5];null!=bt&&"number"==typeof bt&&0<bt&&(t.L=i=1.5*bt,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const Ft=r.g;if(Ft){const gn=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gn){var c=i.i;c.g||-1==gn.indexOf("spdy")&&-1==gn.indexOf("quic")&&-1==gn.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Lp(c,c.h),c.h=null))}if(i.F){const $n=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;$n&&(i.Da=$n,fs(i.I,i.F,$n))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((i=t).wa=zp(i,i.J?i.pa:null,i.Y),f.K){$m(i.i,f);var E=f,R=i.L;R&&E.setTimeout(R),E.B&&(Om(E),Pp(E)),i.g=f}else zm(i);0<t.j.length&&jp(t)}else"stop"!=U[0]&&"close"!=U[0]||Zd(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?Zd(t,7):Vp(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}Tp()}catch{}}function qy(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(pp(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Wy(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(pp(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const i in r)e[t++]=i;return e}}}(r),i=function Nm(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(pp(r)){for(var e=[],t=r.length,i=0;i<t;i++)e.push(r[i]);return e}for(i in e=[],t=0,r)e[t++]=r[i];return e}(r),a=i.length,c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],r)}(On=nf.prototype).setTimeout=function(r){this.P=r},On.nb=function(r){r=r.target;const e=this.M;e&&3==Kc(r)?e.l():this.Pa(r)},On.Pa=function(r){try{if(r==this.g)e:{const Q=Kc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Yh||this.g&&(this.h.h||this.g.ja()||af(this.g)))){this.J||4!=Q||7==e||Tp(),Om(this);var t=this.g.da();this.ca=t;t:if(Pm(this)){var i=af(this.g);r="";var a=i.length,c=4==Kc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qd(this),Wd(this);var f="";break t}this.h.i=new Tr.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function Uy(r,e,t,i,a,c,f){r.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,R=this.g;if((E=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(E)){var U=E;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Yo(12),qd(this),Wd(this);break e}Ud(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vu(this,t)}this.S?(Gd(this,Q,f),Yh&&this.i&&3==Q&&(Cm(this.U,this.V,"tick",this.mb),this.V.start())):(Ud(this.j,this.m,f,null),Vu(this,f)),4==Q&&qd(this),this.i&&!this.J&&(4==Q?Km(this.l,this):(this.i=!1,Pp(this)))}else(function Pi(r){const e={};r=(r.g&&2<=Kc(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<r.length;i++){if(Od(r[i]))continue;var t=Fd(r[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function Im(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Yo(12)):(this.o=0,Yo(13)),qd(this),Wd(this)}}}catch{}},On.mb=function(){if(this.g){var r=Kc(this.g),e=this.g.ja();this.C<e.length&&(Om(this),Gd(this,r,e),this.i&&4!=r&&Pp(this))}},On.cancel=function(){this.J=!0,qd(this)},On.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Vd(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tp(),Yo(17)),qd(this),this.o=2,Wd(this)):ND(this,this.Y-r)};var Ky=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ju){this.h=r.h,km(this,r.j),this.s=r.s,this.g=r.g,Lm(this,r.m),this.l=r.l;var e=r.i,t=new Np;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eE(this,t),this.o=r.o}else r&&(e=String(r).match(Ky))?(this.h=!1,km(this,e[1]||"",!0),this.s=qc(e[2]||""),this.g=qc(e[3]||"",!0),Lm(this,e[4]),this.l=qc(e[5]||"",!0),eE(this,e[6]||"",!0),this.o=qc(e[7]||"")):(this.h=!1,this.i=new Np(null,this.h))}function Wc(r){return new ju(r)}function km(r,e,t){r.j=t?qc(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Lm(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function eE(r,e,t){e instanceof Np?(r.i=e,function kp(r,e){e&&!r.j&&(Hu(r),r.i=null,r.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(nE(this,i),Fm(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Op(e,MS)),r.i=new Np(e,r.h))}function fs(r,e,t){r.i.set(e,t)}function $l(r){return fs(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function qc(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Op(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,TS),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function TS(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ju.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Op(e,kD,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Op(e,kD,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Op(t,"/"==t.charAt(0)?AS:SS,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Op(t,tE)),r.join("")};var kD=/[#\/\?@]/g,SS=/[#\?:]/g,AS=/[#\?]/g,MS=/[#\?@]/g,tE=/#/g;function Np(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Hu(r){r.g||(r.g=new Map,r.h=0,r.i&&function JI(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var i=r[t].indexOf("="),a=null;if(0<=i){var c=r[t].substring(0,i);a=r[t].substring(i+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nE(r,e){Hu(r),e=Ma(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function rE(r,e){return Hu(r),e=Ma(r,e),r.g.has(e)}function Fm(r,e,t){nE(r,e),0<t.length&&(r.i=null,r.g.set(Ma(r,e),gm(t)),r.h+=t.length)}function Ma(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Yy(r){this.l=r||sE,r=Tr.PerformanceNavigationTiming?0<(r=Tr.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Tr.g&&Tr.g.Ka&&Tr.g.Ka()&&Tr.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(On=Np.prototype).add=function(r,e){Hu(this),this.i=null,r=Ma(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},On.forEach=function(r,e){Hu(this),this.g.forEach(function(t,i){t.forEach(function(a){r.call(e,a,i,this)},this)},this)},On.ta=function(){Hu(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=r[i];for(let c=0;c<a.length;c++)t.push(e[i])}return t},On.Z=function(r){Hu(this);let e=[];if("string"==typeof r)rE(this,r)&&(e=e.concat(this.g.get(Ma(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},On.set=function(r,e){return Hu(this),this.i=null,rE(this,r=Ma(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},On.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},On.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),f=this.Z(i);for(i=0;i<f.length;i++){var a=c;""!==f[i]&&(a+="="+encodeURIComponent(String(f[i]))),r.push(a)}}return this.i=r.join("&")};var sE=10;function LD(r){return!!r.h||!!r.g&&r.g.size>=r.j}function FD(r){return r.h?1:r.g?r.g.size:0}function oE(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Lp(r,e){r.g?r.g.add(e):r.h=e}function $m(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function $D(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return gm(r.i)}Yy.prototype.cancel=function(){if(this.i=$D(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var RS=class{stringify(r){return Tr.JSON.stringify(r,void 0)}parse(r){return Tr.JSON.parse(r,void 0)}};function aE(){this.g=new RS}function BD(r,e,t){const i=t||"";try{qy(r,function(a,c){let f=a;Pu(a)&&(f=on(a)),e.push(i+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function Bm(r,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function Fp(r){this.l=r.fc||null,this.j=r.ob||!1}function $p(r,e){ne.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=rf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}to(Fp,Hd),Fp.prototype.g=function(){return new $p(this.l,this.j)},Fp.prototype.i=function(r){return function(){return r}}({}),to($p,ne);var rf=0;function lE(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Kd(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Bp(r)}function Bp(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(On=$p.prototype).open=function(r,e){if(this.readyState!=rf)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Bp(this)},On.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Tr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},On.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kd(this)),this.readyState=rf},On.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Bp(this)),this.g&&(this.readyState=3,Bp(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Tr.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lE(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},On.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Kd(this):Bp(this),3==this.readyState&&lE(this)}},On.Za=function(r){this.g&&(this.response=this.responseText=r,Kd(this))},On.Ya=function(r){this.g&&(this.response=r,Kd(this))},On.ka=function(){this.g&&Kd(this)},On.setRequestHeader=function(r,e){this.v.append(r,e)},On.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},On.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty($p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var sf=Tr.JSON.parse;function Ps(r){ne.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cE,this.L=this.M=!1}to(Ps,ne);var cE="",Zy=/^https?$/i,uE=["POST","PUT"];function dE(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,hE(r),Up(r)}function hE(r){r.F||(r.F=!0,Ke(r,"complete"),Ke(r,"error"))}function fE(r){if(r.h&&typeof fc<"u"&&(!r.C[1]||4!=Kc(r)||2!=r.da()))if(r.v&&4==Kc(r))tf(r.La,0,r);else if(Ke(r,"readystatechange"),4==Kc(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var a=String(r.I).match(Ky)[1]||null;!a&&Tr.self&&Tr.self.location&&(a=Tr.self.location.protocol.slice(0,-1)),i=!Zy.test(a?a.toLowerCase():"")}t=i}if(t)Ke(r,"complete"),Ke(r,"success");else{r.m=6;try{var c=2<Kc(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",hE(r)}}finally{Up(r)}}}function Up(r,e){if(r.g){jD(r);const t=r.g,i=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ke(r,"ready");try{t.onreadystatechange=i}catch{}}}function jD(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Tr.clearTimeout(r.A),r.A=null)}function Kc(r){return r.g?r.g.readyState:0}function af(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case cE:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(r){let e="";return Ep(r,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Um(r,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=lf(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):fs(r,e,t))}function cf(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Vm(r){this.Ga=0,this.j=[],this.l=new Sm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cf("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cf("baseRetryDelayMs",5e3,r),this.hb=cf("retryDelaySeedMs",1e4,r),this.eb=cf("forwardChannelMaxRetries",2,r),this.xa=cf("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Yy(r&&r.concurrentRequestLimit),this.Ja=new aE,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Vp(r){if(Xy(r),3==r.H){var e=r.W++,t=Wc(r.I);if(fs(t,"SID",r.K),fs(t,"RID",e),fs(t,"TYPE","terminate"),Yd(r,t),(e=new nf(r,r.l,e)).L=2,e.v=$l(Wc(t)),t=!1,Tr.navigator&&Tr.navigator.sendBeacon)try{t=Tr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Tr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pp(e)}Ym(r)}function jm(r){r.g&&(Wm(r),r.g.cancel(),r.g=null)}function Xy(r){jm(r),r.u&&(Tr.clearTimeout(r.u),r.u=null),qm(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Tr.clearTimeout(r.m),r.m=null)}function jp(r){if(!LD(r.i)&&!r.m){r.m=!0;var e=r.Na;ml||Gc(),zc||(ml(),zc=!0),Fu.add(e,r),r.C=0}}function HD(r,e){var t;t=e?e.m:r.W++;const i=Wc(r.I);fs(i,"SID",r.K),fs(i,"RID",t),fs(i,"AID",r.V),Yd(r,i),r.o&&r.s&&Um(i,r.o,r.s),t=new nf(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=pE(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Lp(r.i,t),xm(t,i,e)}function Yd(r,e){r.na&&Ep(r.na,function(t,i){fs(e,i,t)}),r.h&&qy({},function(t,i){fs(e,i,t)})}function pE(r,e,t){t=Math.min(r.j.length,t);var i=r.h?js(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let E=!0;for(let R=0;R<t;R++){let U=a[R].g;const Q=a[R].map;if(U-=c,0>U)c=Math.max(0,a[R].g-100),E=!1;else try{BD(Q,f,"req"+U+"_")}catch{i&&i(Q)}}if(E){i=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,i}function zm(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ml||Gc(),zc||(ml(),zc=!0),Fu.add(e,r),r.A=0}}function Gm(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=jd(js(r.Ma,r),Hp(r,r.A)),r.A++,0))}function Wm(r){null!=r.B&&(Tr.clearTimeout(r.B),r.B=null)}function zu(r){r.g=new nf(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Wc(r.wa);fs(e,"RID","rpc"),fs(e,"SID",r.K),fs(e,"AID",r.V),fs(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&fs(e,"TO",r.qa),fs(e,"TYPE","xmlhttp"),Yd(r,e),r.o&&r.s&&Um(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=$l(Wc(e)),t.s=null,t.S=!0,xp(t,r)}function qm(r){null!=r.v&&(Tr.clearTimeout(r.v),r.v=null)}function Km(r,e){var t=null;if(r.g==e){qm(r),Wm(r),r.g=null;var i=2}else{if(!oE(r.i,e))return;t=e.F,$m(r.i,e),i=1}if(0!=r.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Ke(i=Vy(),new Hy(i,t)),jp(r)}else zm(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==i&&function Hm(r,e){return!(FD(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=jd(js(r.Na,r,e),Hp(r,r.C)),r.C++,0)))}(r,e)||2==i&&Gm(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Zd(r,5);break;case 4:Zd(r,10);break;case 3:Zd(r,6);break;default:Zd(r,2)}}function Hp(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Zd(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var i=js(r.pb,r);t||(t=new ju("//www.google.com/images/cleardot.gif"),Tr.location&&"http"==Tr.location.protocol||km(t,"https"),$l(t)),function UD(r,e){const t=new Sm;if(Tr.Image){const i=new Image;i.onload=Pd(Bm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Pd(Bm,t,i,"TestLoadImage: error",!1,e),i.onabort=Pd(Bm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Pd(Bm,t,i,"TestLoadImage: timeout",!1,e),Tr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=r}else e(!1)}(t.toString(),i)}else Yo(2);r.H=0,r.h&&r.h.za(e),Ym(r),Xy(r)}function Ym(r){if(r.H=0,r.ma=[],r.h){const e=$D(r.i);(0!=e.length||0!=r.j.length)&&(mm(r.ma,e),mm(r.ma,r.j),r.i.i.length=0,gm(r.j),r.j.length=0),r.h.ya()}}function zp(r,e,t){var i=t instanceof ju?Wc(t):new ju(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Lm(i,i.m);else{var a=Tr.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new ju(null);i&&km(c,i),e&&(c.g=e),a&&Lm(c,a),t&&(c.l=t),i=c}return e=r.Da,(t=r.F)&&e&&fs(i,t,e),fs(i,"VER",r.ra),Yd(r,i),i}function Bl(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ps(t&&r.Ha&&!r.va?new Fp({ob:!0}):r.va)).Oa(r.J),e}function Gp(){}function uf(){if(Vc&&!(10<=Number(Xh)))throw Error("Environmental error: no available transport.")}function Xa(r,e){ne.call(this),this.g=new Vm(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Od(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Od(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ul(this)}function gE(r){Mm.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Qy(){Mp.call(this),this.status=1}function Ul(r){this.g=r}function Vl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jy(r,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+i[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+i[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+i[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+i[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+i[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+i[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+i[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+i[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+i[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+i[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+i[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+i[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+i[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+i[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Oi(r,e){this.h=e;for(var t=[],i=!0,a=r.length-1;0<=a;a--){var c=0|r[a];i&&c==e||(t[a]=c,i=!1)}this.g=t}(On=Ps.prototype).Oa=function(r){this.M=r},On.ha=function(r,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zd.g(),this.C=function zy(r){return r.h||(r.h=r.i())}(this.u?this.u:zd),this.g.onreadystatechange=js(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void dE(this,c)}if(r=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Tr.FormData&&r instanceof Tr.FormData,!(0<=mp(uE,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jD(this),0<this.B&&((this.L=function VD(r){return Vc&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.ua,this)):this.A=tf(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){dE(this,c)}},On.ua=function(){typeof fc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))},On.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ke(this,"complete"),Ke(this,"abort"),Up(this))},On.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Up(this,!0)),Ps.$.N.call(this)},On.La=function(){this.s||(this.G||this.v||this.l?fE(this):this.kb())},On.kb=function(){fE(this)},On.isActive=function(){return!!this.g},On.da=function(){try{return 2<Kc(this)?this.g.status:-1}catch{return-1}},On.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},On.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),sf(e)}},On.Ia=function(){return this.m},On.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(On=Vm.prototype).ra=8,On.H=1,On.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new nf(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Fo(c),Qh(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pE(this,a,e),fs(t=Wc(this.I),"RID",r),fs(t,"CVER",22),this.F&&fs(t,"X-HTTP-Session-Id",this.F),Yd(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(lf(c)))+"&"+e:this.o&&Um(t,this.o,c)),Lp(this.i,a),this.bb&&fs(t,"TYPE","init"),this.P?(fs(t,"$req",e),fs(t,"SID","null"),a.aa=!0,xm(a,t,null)):xm(a,t,e),this.H=2}}else 3==this.H&&(r?HD(this,r):0==this.j.length||LD(this.i)||HD(this))},On.Ma=function(){if(this.u=null,zu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=jd(js(this.jb,this),r)}},On.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yo(10),jm(this),zu(this))},On.ib=function(){null!=this.v&&(this.v=null,jm(this),Gm(this),Yo(19))},On.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Yo(2)):(this.l.info("Failed to ping google.com"),Yo(1))},On.isActive=function(){return!!this.h&&this.h.isActive(this)},(On=Gp.prototype).Ba=function(){},On.Aa=function(){},On.za=function(){},On.ya=function(){},On.isActive=function(){return!0},On.Va=function(){},uf.prototype.g=function(r,e){return new Xa(r,e)},to(Xa,ne),Xa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Yo(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=zp(r,null,r.Y),jp(r)},Xa.prototype.close=function(){Vp(this.g)},Xa.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=on(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&jp(e)},Xa.prototype.N=function(){this.g.h=null,delete this.j,Vp(this.g),delete this.g,Xa.$.N.call(this)},to(gE,Mm),to(Qy,Mp),to(Ul,Gp),Ul.prototype.Ba=function(){Ke(this.g,"a")},Ul.prototype.Aa=function(r){Ke(this.g,new gE(r))},Ul.prototype.za=function(r){Ke(this.g,new Qy)},Ul.prototype.ya=function(){Ke(this.g,"b")},to(Vl,function zD(){this.blockSize=-1}),Vl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vl.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,i=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Jy(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(i[a++]=r.charCodeAt(c++),a==this.blockSize){Jy(this,i),a=0;break}}else for(;c<e;)if(i[a++]=r[c++],a==this.blockSize){Jy(this,i),a=0;break}}this.h=a,this.i+=e},Vl.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)r[t++]=this.g[e]>>>i&255;return r};var mE={};function e_(r){return-128<=r&&128>r?function YI(r,e){var t=mE;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Oi([0|e],0>e?-1:0)}):new Oi([0|r],0>r?-1:0)}function jl(r){if(isNaN(r)||!isFinite(r))return Wp;if(0>r)return no(jl(-r));for(var e=[],t=1,i=0;r>=t;i++)e[i]=r/t|0,t*=vE;return new Oi(e,0)}var vE=4294967296,Wp=e_(0),t_=e_(1),yE=e_(16777216);function Gu(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Hl(r){return-1==r.h}function no(r){for(var e=r.g.length,t=[],i=0;i<e;i++)t[i]=~r.g[i];return new Oi(t,~r.h).add(t_)}function Xm(r,e){return r.add(no(e))}function df(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Xd(r,e){this.g=r,this.h=e}function Yc(r,e){if(Gu(e))throw Error("division by zero");if(Gu(r))return new Xd(Wp,Wp);if(Hl(r))return e=Yc(no(r),e),new Xd(no(e.g),no(e.h));if(Hl(e))return e=Yc(r,no(e)),new Xd(no(e.g),e.h);if(30<r.g.length){if(Hl(r)||Hl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=t_,i=e;0>=i.X(r);)t=qp(t),i=qp(i);var a=Zc(t,1),c=Zc(i,1);for(i=Zc(i,2),t=Zc(t,2);!Gu(i);){var f=c.add(i);0>=f.X(r)&&(a=a.add(t),c=f),i=Zc(i,1),t=Zc(t,1)}return e=Xm(r,a.R(e)),new Xd(a,e)}for(a=Wp;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),f=(c=jl(t)).R(e);Hl(f)||0<f.X(r);)f=(c=jl(t-=i)).R(e);Gu(c)&&(c=t_),a=a.add(c),r=Xm(r,f)}return new Xd(a,r)}function qp(r){for(var e=r.g.length+1,t=[],i=0;i<e;i++)t[i]=r.D(i)<<1|r.D(i-1)>>>31;return new Oi(t,r.h)}function Zc(r,e){var t=e>>5;e%=32;for(var i=r.g.length-t,a=[],c=0;c<i;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Oi(a,r.h)}(On=Oi.prototype).ea=function(){if(Hl(this))return-no(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);r+=(0<=i?i:vE+i)*e,e*=vE}return r},On.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Gu(this))return"0";if(Hl(this))return"-"+no(this).toString(r);for(var e=jl(Math.pow(r,6)),t=this,i="";;){var a=Yc(t,e).g,c=((0<(t=Xm(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Gu(t=a))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},On.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},On.X=function(r){return Hl(r=Xm(this,r))?-1:Gu(r)?0:1},On.abs=function(){return Hl(this)?no(this):this},On.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0,a=0;a<=e;a++){var c=i+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);i=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Oi(t,-2147483648&t[t.length-1]?-1:0)},On.R=function(r){if(Gu(this)||Gu(r))return Wp;if(Hl(this))return Hl(r)?no(this).R(no(r)):no(no(this).R(r));if(Hl(r))return no(this.R(no(r)));if(0>this.X(yE)&&0>r.X(yE))return jl(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<r.g.length;a++){var c=this.D(i)>>>16,f=65535&this.D(i),E=r.D(a)>>>16,R=65535&r.D(a);t[2*i+2*a]+=f*R,df(t,2*i+2*a),t[2*i+2*a+1]+=c*R,df(t,2*i+2*a+1),t[2*i+2*a+1]+=f*E,df(t,2*i+2*a+1),t[2*i+2*a+2]+=c*E,df(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Oi(t,0)},On.gb=function(r){return Yc(this,r).h},On.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&r.D(i);return new Oi(t,this.h&r.h)},On.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|r.D(i);return new Oi(t,this.h|r.h)},On.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^r.D(i);return new Oi(t,this.h^r.h)},uf.prototype.createWebChannel=uf.prototype.g,Xa.prototype.send=Xa.prototype.u,Xa.prototype.open=Xa.prototype.m,Xa.prototype.close=Xa.prototype.close,Sp.NO_ERROR=0,Sp.TIMEOUT=8,Sp.HTTP_ERROR=6,Ap.COMPLETE="complete",Am.EventType=Uu,Uu.OPEN="a",Uu.CLOSE="b",Uu.ERROR="c",Uu.MESSAGE="d",ne.prototype.listen=ne.prototype.O,Ps.prototype.listenOnce=Ps.prototype.P,Ps.prototype.getLastError=Ps.prototype.Sa,Ps.prototype.getLastErrorCode=Ps.prototype.Ia,Ps.prototype.getStatus=Ps.prototype.da,Ps.prototype.getResponseJson=Ps.prototype.Wa,Ps.prototype.getResponseText=Ps.prototype.ja,Ps.prototype.send=Ps.prototype.ha,Ps.prototype.setWithCredentials=Ps.prototype.Oa,Vl.prototype.digest=Vl.prototype.l,Vl.prototype.reset=Vl.prototype.reset,Vl.prototype.update=Vl.prototype.j,Oi.prototype.add=Oi.prototype.add,Oi.prototype.multiply=Oi.prototype.R,Oi.prototype.modulo=Oi.prototype.gb,Oi.prototype.compare=Oi.prototype.X,Oi.prototype.toNumber=Oi.prototype.ea,Oi.prototype.toString=Oi.prototype.toString,Oi.prototype.getBits=Oi.prototype.D,Oi.fromNumber=jl,Oi.fromString=function Zm(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return no(Zm(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=jl(Math.pow(e,8)),i=Wp,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=jl(Math.pow(e,c)),i=i.R(c).add(jl(f))):i=(i=i.R(t)).add(jl(f))}return i};var hf=Za.createWebChannelTransport=function(){return new uf},Kp=Za.getStatEventTarget=function(){return Vy()},Wu=Za.ErrorCode=Sp,n_=Za.EventType=Ap,Qm=Za.Event=Bu,ff=Za.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xS=Za.FetchXmlHttpFactory=Fp,pf=Za.WebChannel=Am,Yp=Za.XhrIo=Ps,GD=Za.Md5=Vl,Qd=Za.Integer=Oi;const _E="@firebase/firestore";class Do{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Do.UNAUTHENTICATED=new Do(null),Do.GOOGLE_CREDENTIALS=new Do("google-credentials-uid"),Do.FIRST_PARTY=new Do("first-party-uid"),Do.MOCK_USER=new Do("mock-user");let qu="9.23.0";const Xc=new re.Yd("@firebase/firestore");function r_(){return Xc.logLevel}function mn(r,...e){if(Xc.logLevel<=re.in.DEBUG){const t=e.map(Zp);Xc.debug(`Firestore (${qu}): ${r}`,...t)}}function Hs(r,...e){if(Xc.logLevel<=re.in.ERROR){const t=e.map(Zp);Xc.error(`Firestore (${qu}): ${r}`,...t)}}function aa(r,...e){if(Xc.logLevel<=re.in.WARN){const t=e.map(Zp);Xc.warn(`Firestore (${qu}): ${r}`,...t)}}function Zp(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Yn(r="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+r;throw Hs(e),new Error(e)}function or(r,e){r||Yn()}function kn(r,e){return r}const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sn extends g.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class s_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Do.UNAUTHENTICATED))}shutdown(){}}class qD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jm{constructor(e){this.t=e,this.currentUser=Do.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let f=new go;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new go,e.enqueueRetryable(()=>c(this.currentUser))};const E=()=>{const U=f;e.enqueueRetryable((0,d.Z)(function*(){yield U.promise,yield c(i.currentUser)}))},R=U=>{mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(U=>R(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?R(U):(mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new go)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(or("string"==typeof i.accessToken),new s_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return or(null===e||"string"==typeof e),new Do(e)}}class KD{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Do.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new KD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Do.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=c=>{null!=c.error&&mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,mn("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(or("string"==typeof t.token),this.T=t.token,new mf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class IE{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=XD(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function xr(r,e){return r<e?-1:r>e?1:0}function Jd(r,e,t){return r.length===e.length&&r.every((i,a)=>t(i,e[a]))}function o_(r){return r+"\0"}class os{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sn(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sn(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sn(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sn(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return os.fromMillis(Date.now())}static fromDate(e){return os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new os(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ur{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ur(e)}static min(){return new ur(new os(0,0))}static max(){return new ur(new os(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eh{constructor(e,t,i){void 0===t?t=0:t>e.length&&Yn(),void 0===i?i=e.length-t:i>e.length-t&&Yn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fi extends eh{construct(e,t,i){return new fi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new sn(kt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new fi(t)}static emptyPath(){return new fi([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Os extends eh{construct(e,t,i){return new Os(e,t,i)}static isValidIdentifier(e){return QD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Os.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Os(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new sn(kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let f=!1;for(;a<e.length;){const E=e[a];if("\\"===E){if(a+1===e.length)throw new sn(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[a+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new sn(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=R,a+=2}else"`"===E?(f=!f,a++):"."!==E||f?(i+=E,a++):(c(),a++)}if(c(),f)throw new sn(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Os(t)}static emptyPath(){return new Os([])}}class Ln{constructor(e){this.path=e}static fromPath(e){return new Ln(fi.fromString(e))}static fromName(e){return new Ln(fi.fromString(e).popFirst(5))}static empty(){return new Ln(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ln(new fi(e.slice()))}}class ev{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function tv(r){return r.fields.find(e=>2===e.kind)}function th(r){return r.fields.filter(e=>2!==e.kind)}ev.UNKNOWN_ID=-1;class a_{constructor(e,t){this.fieldPath=e,this.kind=t}}class vf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vf(0,yl.min())}}function vl(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=ur.fromTimestamp(1e9===i?new os(t+1,0):new os(t,i));return new yl(a,Ln.empty(),e)}function l_(r){return new yl(r.readTime,r.key,-1)}class yl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new yl(ur.min(),Ln.empty(),-1)}static max(){return new yl(ur.max(),Ln.empty(),-1)}}function Xp(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ln.comparator(r.documentKey,e.documentKey),0!==t?t:xr(r.largestBatchId,e.largestBatchId))}const Qc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ku(r){return bE.apply(this,arguments)}function bE(){return bE=(0,d.Z)(function*(r){if(r.code!==kt.FAILED_PRECONDITION||r.message!==Qc)throw r;mn("LocalStore","Unexpectedly lost primary lease")}),bE.apply(this,arguments)}class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xt((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xt?t:xt.resolve(t)}catch(t){return xt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xt.reject(t)}static resolve(e){return new xt((t,i)=>{t(e)})}static reject(e){return new xt((t,i)=>{i(e)})}static waitFor(e){return new xt((t,i)=>{let a=0,c=0,f=!1;e.forEach(E=>{++a,E.next(()=>{++c,f&&c===a&&t()},R=>i(R))}),f=!0,c===a&&t()})}static or(e){let t=xt.resolve(!1);for(const i of e)t=t.next(a=>a?xt.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new xt((i,a)=>{const c=e.length,f=new Array(c);let E=0;for(let R=0;R<c;R++){const U=R;t(e[U]).next(Q=>{f[U]=Q,++E,E===c&&i(f)},Q=>a(Q))}})}static doWhile(e,t){return new xt((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}class yf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new go,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Qp(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const a=c_(i.target.error);this.v.reject(new Qp(e,a))}}static open(e,t,i,a){try{return new yf(t,e.transaction(a,i))}catch(c){throw new Qp(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Co(t)}}class ro{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ro.S((0,g.z$)())&&Hs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mn("SimpleDb","Removing database:",e),rh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,g.hl)())return!1;if(ro.C())return!0;const e=(0,g.z$)(),t=ro.S(e),i=0<t&&t<10,a=ro.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,d.Z)(function*(){return t.db||(mn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=f=>{i(f.target.result)},c.onblocked=()=>{a(new Qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const E=f.target.error;a("VersionError"===E.name?new sn(kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new sn(kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new Qp(e,E))},c.onupgradeneeded=f=>{mn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,c.transaction,f.oldVersion,t.version).next(()=>{mn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var c=this;return(0,d.Z)(function*(){const f="readonly"===t;let E=0;for(;;){++E;try{c.db=yield c.$(e);const R=yf.open(c.db,e,f?"readonly":"readwrite",i),U=a(R).next(Q=>(R.P(),Q)).catch(Q=>(R.abort(Q),xt.reject(Q))).toPromise();return U.catch(()=>{}),yield R.R,U}catch(R){const U=R,Q="FirebaseError"!==U.name&&E<3;if(mn("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Q),c.close(),!Q)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wE{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return rh(this.L.delete())}}class Qp extends sn{constructor(e,t){super(kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function nh(r){return"IndexedDbTransactionError"===r.name}class Co{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(mn("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rh(i)}add(e){return mn("SimpleDb","ADD",this.store.name,e,e),rh(this.store.add(e))}get(e){return rh(this.store.get(e)).next(t=>(void 0===t&&(t=null),mn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mn("SimpleDb","DELETE",this.store.name,e),rh(this.store.delete(e))}count(){return mn("SimpleDb","COUNT",this.store.name),rh(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const a=this.cursor(i),c=[];return this.W(a,(f,E)=>{c.push(E)}).next(()=>c)}{const a=this.store.getAll(i.range);return new xt((c,f)=>{a.onerror=E=>{f(E.target.error)},a.onsuccess=E=>{c(E.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new xt((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}J(e,t){mn("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.W(a,(c,f,E)=>E.delete())}X(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Z(e){const t=this.cursor({});return new xt((i,a)=>{t.onerror=c=>{const f=c_(c.target.error);a(f)},t.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(E=>{E?f.continue():i()}):i()}})}W(e,t){const i=[];return new xt((a,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const E=f.target.result;if(!E)return void a();const R=new wE(E),U=t(E.primaryKey,E.value,R);if(U instanceof xt){const Q=U.catch(ke=>(R.done(),xt.reject(ke)));i.push(Q)}R.isDone?a():null===R.K?E.continue():E.continue(R.K)}}).next(()=>xt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rh(r){return new xt((e,t)=>{r.onsuccess=i=>{e(i.target.result)},r.onerror=i=>{const a=c_(i.target.error);t(a)}})}let rv=!1;function c_(r){const e=ro.S((0,g.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rv||(rv=!0,setTimeout(()=>{throw i},0)),i}}return r}class eC{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;mn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){t.task=null;try{mn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){nh(i)?mn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ku(i)}yield t.et(6e4)}))}}class u_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,d.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let a=t,c=!0;return xt.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!i.has(f))return mn("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(E=>{a-=E,i.add(f)});c=!1})).next(()=>t-a)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,c)).next(E=>(mn("IndexBackiller",`Updating offset: ${E}`),this.localStore.indexManager.updateCollectionGroup(e,t,E))).next(()=>f.size)}))}rt(e,t){let i=e;return t.changes.forEach((a,c)=>{const f=l_(c);Xp(f,i)>0&&(i=f)}),new yl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ra=(()=>{class r{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>i.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function _f(r){return null==r}function Jp(r){return 0===r&&1/r==-1/0}function d_(r){return"number"==typeof r&&Number.isInteger(r)&&!Jp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function $o(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=DE(e)),e=tC(r.get(t),e);return DE(e)}function tC(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function DE(r){return r+"\x01\x01"}function mc(r){const e=r.length;if(or(e>=2),2===e)return or("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),fi.emptyPath();const t=e-2,i=[];let a="";for(let c=0;c<e;){const f=r.indexOf("\x01",c);switch((f<0||f>t)&&Yn(),r.charAt(f+1)){case"\x01":const E=r.substring(c,f);let R;0===a.length?R=E:(a+=E,R=a,a=""),i.push(R);break;case"\x10":a+=r.substring(c,f),a+="\0";break;case"\x11":a+=r.substring(c,f+1);break;default:Yn()}c=f+2}return new fi(i)}const h_=["userId","batchId"];function Jc(r,e){return[r,$o(e)]}function vc(r,e,t){return[r,$o(e),t]}const If={},nC=["prefixPath","collectionGroup","readTime","documentId"],rC=["prefixPath","collectionGroup","documentId"],CE=["collectionGroup","readTime","prefixPath","documentId"],TE=["canonicalId","targetId"],f_=["targetId","path"],eg=["path","targetId"],iv=["collectionId","parent"],SE=["indexId","uid"],AE=["uid","sequenceNumber"],iC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sC=["indexId","uid","orderedDocumentKey"],oC=["userId","collectionPath","documentId"],aC=["userId","collectionPath","largestBatchId"],ME=["userId","collectionGroup","largestBatchId"],lC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cC=[...lC,"documentOverlays"],uC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dC=uC,RE=[...dC,"indexConfiguration","indexState","indexEntries"];class sv extends nv{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Bo(r,e){const t=kn(r);return ro.M(t.ht,e)}function Ef(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ih(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function p_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ki{constructor(e,t){this.comparator=e,this.root=t||To.EMPTY}insert(e,t){return new Ki(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,To.BLACK,null,null))}remove(e){return new Ki(this.comparator,this.root.remove(e,this.comparator).copy(null,null,To.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ov(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ov(this.root,e,this.comparator,!1)}getReverseIterator(){return new ov(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ov(this.root,e,this.comparator,!0)}}class ov{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class To{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=null!=i?i:To.RED,this.left=null!=a?a:To.EMPTY,this.right=null!=c?c:To.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new To(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return To.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return To.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,To.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,To.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yn();const e=this.left.check();if(e!==this.right.check())throw Yn();return e+(this.isRed()?0:1)}}To.EMPTY=null,To.RED=!0,To.BLACK=!1,To.EMPTY=new class{constructor(){this.size=0}get key(){throw Yn()}get value(){throw Yn()}get color(){throw Yn()}get left(){throw Yn()}get right(){throw Yn()}copy(r,e,t,i,a){return this}insert(r,e,t){return new To(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class as{constructor(e){this.comparator=e,this.data=new Ki(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nr(this.data.getIterator())}getIteratorFrom(e){return new Nr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new as(this.comparator);return t.data=e,t}}class Nr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(r){return r.hasNext()?r.getNext():void 0}class la{constructor(e){this.fields=e,e.sort(Os.comparator)}static empty(){return new la([])}unionWith(e){let t=new as(Os.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new la(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class oh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oh("Invalid base64 string: "+a):a}}(e);return new mo(t)}static fromUint8Array(e){const t=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new mo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mo.EMPTY_BYTE_STRING=new mo("");const av=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(r){if(or(!!r),"string"==typeof r){let e=0;const t=av.exec(r);if(or(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Is(r.seconds),nanos:Is(r.nanos)}}function Is(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ja(r){return"string"==typeof r?mo.fromBase64String(r):mo.fromUint8Array(r)}function tg(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bf(r){const e=r.mapValue.fields.__previous_value__;return tg(e)?bf(e):e}function ah(r){const e=Qa(r.mapValue.fields.__local_write_time__.timestampValue);return new os(e.seconds,e.nanos)}class g_{constructor(e,t,i,a,c,f,E,R,U){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=E,this.longPollingOptions=R,this.useFetchStreams=U}}class eu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lv={nullValue:"NULL_VALUE"};function Yu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:dv(r)?9007199254740991:10:Yn()}function _c(r,e){if(r===e)return!0;const t=Yu(r);if(t!==Yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ah(r).isEqual(ah(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Qa(i.timestampValue),f=Qa(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ja(r.bytesValue).isEqual(Ja(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Is(i.geoPointValue.latitude)===Is(a.geoPointValue.latitude)&&Is(i.geoPointValue.longitude)===Is(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Is(i.integerValue)===Is(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Is(i.doubleValue),f=Is(a.doubleValue);return c===f?Jp(c)===Jp(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Jd(r.arrayValue.values||[],e.arrayValue.values||[],_c);case 10:return function(i,a){const c=i.mapValue.fields||{},f=a.mapValue.fields||{};if(Ef(c)!==Ef(f))return!1;for(const E in c)if(c.hasOwnProperty(E)&&(void 0===f[E]||!_c(c[E],f[E])))return!1;return!0}(r,e);default:return Yn()}var a}function wf(r,e){return void 0!==(r.values||[]).find(t=>_c(t,e))}function Zu(r,e){if(r===e)return 0;const t=Yu(r),i=Yu(e);if(t!==i)return xr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xr(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=Is(a.integerValue||a.doubleValue),E=Is(c.integerValue||c.doubleValue);return f<E?-1:f>E?1:f===E?0:isNaN(f)?isNaN(E)?0:-1:1}(r,e);case 3:return PE(r.timestampValue,e.timestampValue);case 4:return PE(ah(r),ah(e));case 5:return xr(r.stringValue,e.stringValue);case 6:return function(a,c){const f=Ja(a),E=Ja(c);return f.compareTo(E)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),E=c.split("/");for(let R=0;R<f.length&&R<E.length;R++){const U=xr(f[R],E[R]);if(0!==U)return U}return xr(f.length,E.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=xr(Is(a.latitude),Is(c.latitude));return 0!==f?f:xr(Is(a.longitude),Is(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],E=c.values||[];for(let R=0;R<f.length&&R<E.length;++R){const U=Zu(f[R],E[R]);if(U)return U}return xr(f.length,E.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===yc.mapValue&&c===yc.mapValue)return 0;if(a===yc.mapValue)return 1;if(c===yc.mapValue)return-1;const f=a.fields||{},E=Object.keys(f),R=c.fields||{},U=Object.keys(R);E.sort(),U.sort();for(let Q=0;Q<E.length&&Q<U.length;++Q){const ke=xr(E[Q],U[Q]);if(0!==ke)return ke;const bt=Zu(f[E[Q]],R[U[Q]]);if(0!==bt)return bt}return xr(E.length,U.length)}(r.mapValue,e.mapValue);default:throw Yn()}}function PE(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return xr(r,e);const t=Qa(r),i=Qa(e),a=xr(t.seconds,i.seconds);return 0!==a?a:xr(t.nanos,i.nanos)}function Df(r){return m_(r)}function m_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Qa(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ja(r.bytesValue).toBase64():"referenceValue"in r?Ln.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(i){let a="[",c=!0;for(const f of i.values||[])c?c=!1:a+=",",a+=m_(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let c="{",f=!0;for(const E of a)f?f=!1:c+=",",c+=`${E}:${m_(i.fields[E])}`;return c+"}"}(r.mapValue):Yn();var e}function Xu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function v_(r){return!!r&&"integerValue"in r}function rg(r){return!!r&&"arrayValue"in r}function xa(r){return!!r&&"nullValue"in r}function OE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cv(r){return!!r&&"mapValue"in r}function uv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ih(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uv(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uv(r.arrayValue.values[t]);return e}return Object.assign({},r)}function dv(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function NE(r){return"nullValue"in r?lv:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Xu(eu.empty(),Ln.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Yn()}function hC(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Xu(eu.empty(),Ln.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?yc:Yn()}function kE(r,e){const t=Zu(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function LE(r,e){const t=Zu(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class So{constructor(e){this.value=e}static empty(){return new So({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uv(t)}setAll(e){let t=Os.emptyPath(),i={},a=[];e.forEach((f,E)=>{if(!t.isImmediateParentOf(E)){const R=this.getFieldsMap(t);this.applyChanges(R,i,a),i={},a=[],t=E.popLast()}f?i[E.lastSegment()]=uv(f):a.push(E.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());cv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _c(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];cv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ih(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new So(uv(this.value))}}function FE(r){const e=[];return ih(r.fields,(t,i)=>{const a=new Os([t]);if(cv(i)){const c=FE(i.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new la(e)}class ps{constructor(e,t,i,a,c,f,E){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=f,this.documentState=E}static newInvalidDocument(e){return new ps(e,0,ur.min(),ur.min(),ur.min(),So.empty(),0)}static newFoundDocument(e,t,i,a){return new ps(e,1,t,ur.min(),i,a,0)}static newNoDocument(e,t){return new ps(e,2,t,ur.min(),ur.min(),So.empty(),0)}static newUnknownDocument(e,t){return new ps(e,3,t,ur.min(),ur.min(),So.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ur.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=So.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=So.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ur.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ps&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ps(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ic{constructor(e,t){this.position=e,this.inclusive=t}}function $E(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(i=c.field.isKeyField()?Ln.comparator(Ln.fromName(f.referenceValue),t.key):Zu(f,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function BE(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_c(r.position[t],e.position[t]))return!1;return!0}class Cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function fC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class UE{}class kr extends UE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new VE(e,t,i):"array-contains"===t?new E_(e,i):"in"===t?new Ec(e,i):"not-in"===t?new gC(e,i):"array-contains-any"===t?new mC(e,i):new kr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new jE(e,i):new HE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zu(t,this.value)):null!==t&&Yu(this.value)===Yu(t)&&this.matchesComparison(Zu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ni extends UE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ni(e,t)}matches(e){return Tf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Tf(r){return"and"===r.op}function hv(r){return"or"===r.op}function y_(r){return __(r)&&Tf(r)}function __(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function fv(r){if(r instanceof kr)return r.field.canonicalString()+r.op.toString()+Df(r.value);if(y_(r))return r.filters.map(e=>fv(e)).join(",");{const e=r.filters.map(t=>fv(t)).join(",");return`${r.op}(${e})`}}function ig(r,e){return r instanceof kr?(t=r,(i=e)instanceof kr&&t.op===i.op&&t.field.isEqual(i.field)&&_c(t.value,i.value)):r instanceof Ni?function(t,i){return i instanceof Ni&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,c,f)=>a&&ig(c,i.filters[f]),!0)}(r,e):void Yn();var t,i}function pv(r,e){const t=r.filters.concat(e);return Ni.create(t,r.op)}function pC(r){return r instanceof kr?`${(e=r).field.canonicalString()} ${e.op} ${Df(e.value)}`:r instanceof Ni?function(e){return e.op.toString()+" {"+e.getFilters().map(pC).join(" ,")+"}"}(r):"Filter";var e}class VE extends kr{constructor(e,t,i){super(e,t,i),this.key=Ln.fromName(i.referenceValue)}matches(e){const t=Ln.comparator(e.key,this.key);return this.matchesComparison(t)}}class jE extends kr{constructor(e,t){super(e,"in",t),this.keys=I_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HE extends kr{constructor(e,t){super(e,"not-in",t),this.keys=I_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I_(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ln.fromName(i.referenceValue))}class E_ extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&wf(t.arrayValue,this.value)}}class Ec extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wf(this.value.arrayValue,t)}}class gC extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wf(this.value.arrayValue,t)}}class mC extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>wf(this.value.arrayValue,i))}}class b_{constructor(e,t=null,i=[],a=[],c=null,f=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=f,this.endAt=E,this.dt=null}}function w_(r,e=null,t=[],i=[],a=null,c=null,f=null){return new b_(r,e,t,i,a,c,f)}function Qu(r){const e=kn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>fv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),_f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Df(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Df(i)).join(",")),e.dt=t}return e.dt}function sg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ig(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!BE(r.startAt,e.startAt)&&BE(r.endAt,e.endAt)}function lh(r){return Ln.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Ju(r,e){return r.filters.filter(t=>t instanceof kr&&t.field.isEqual(e))}function D_(r,e,t){let i=lv,a=!0;for(const c of Ju(r,e)){let f=lv,E=!0;switch(c.op){case"<":case"<=":f=NE(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,E=!1;break;case"!=":case"not-in":f=lv}kE({value:i,inclusive:a},{value:f,inclusive:E})<0&&(i=f,a=E)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];kE({value:i,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(i=f,a=t.inclusive);break}return{value:i,inclusive:a}}function og(r,e,t){let i=yc,a=!0;for(const c of Ju(r,e)){let f=yc,E=!0;switch(c.op){case">=":case">":f=hC(c.value),E=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,E=!1;break;case"!=":case"not-in":f=yc}LE({value:i,inclusive:a},{value:f,inclusive:E})>0&&(i=f,a=E)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const f=t.position[c];LE({value:i,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(i=f,a=t.inclusive);break}return{value:i,inclusive:a}}class ed{constructor(e,t=null,i=[],a=[],c=null,f="F",E=null,R=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=E,this.endAt=R,this.wt=null,this._t=null}}function zE(r,e,t,i,a,c,f,E){return new ed(r,e,t,i,a,c,f,E)}function ch(r){return new ed(r)}function C_(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function T_(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function gv(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function mv(r){return null!==r.collectionGroup}function td(r){const e=kn(r);if(null===e.wt){e.wt=[];const t=gv(e),i=T_(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Cf(t)),e.wt.push(new Cf(Os.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cf(Os.keyField(),c))}}}return e.wt}function vo(r){const e=kn(r);if(!e._t)if("F"===e.limitType)e._t=w_(e.path,e.collectionGroup,td(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of td(e))t.push(new Cf(c.field,"desc"===c.dir?"asc":"desc"));const i=e.endAt?new Ic(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ic(e.startAt.position,e.startAt.inclusive):null;e._t=w_(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function S_(r,e){e.getFirstInequalityField(),gv(r);const t=r.filters.concat([e]);return new ed(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ag(r,e,t){return new ed(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Sf(r,e){return sg(vo(r),vo(e))&&r.limitType===e.limitType}function GE(r){return`${Qu(vo(r))}|lt:${r.limitType}`}function A_(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>pC(i)).join(", ")}]`),_f(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Df(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Df(i)).join(",")),`Target(${t})`}(vo(r))}; limitType=${r.limitType})`}function tu(r,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Ln.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,i){for(const a of td(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(r,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(r,e)&&(i=e,!((t=r).startAt&&!function(a,c,f){const E=$E(a,c,f);return a.inclusive?E<=0:E<0}(t.startAt,td(t),i)||t.endAt&&!function(a,c,f){const E=$E(a,c,f);return a.inclusive?E>=0:E>0}(t.endAt,td(t),i)));var t,i}function WE(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(e,t)=>{let i=!1;for(const a of td(r)){const c=vC(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function vC(r,e,t){const i=r.field.isKeyField()?Ln.comparator(e.key,t.key):function(a,c,f){const E=c.data.field(a),R=f.data.field(a);return null!==E&&null!==R?Zu(E,R):Yn()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Yn()}}class nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ih(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}const yC=new Ki(Ln.comparator);function Pa(){return yC}const KE=new Ki(Ln.comparator);function lg(...r){let e=KE;for(const t of r)e=e.insert(t.key,t);return e}function M_(r){let e=KE;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _l(){return nd()}function YE(){return nd()}function nd(){return new nu(r=>r.toString(),(r,e)=>r.isEqual(e))}const _C=new Ki(Ln.comparator),IC=new as(Ln.comparator);function Hr(...r){let e=IC;for(const t of r)e=e.add(t);return e}const EC=new as(xr);function R_(){return EC}function ZE(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function XE(r){return{integerValue:""+r}}function x_(r,e){return d_(e)?XE(e):ZE(r,e)}class cg{constructor(){this._=void 0}}function bC(r,e,t){return r instanceof uh?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tg(a)&&(a=bf(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Af?ug(r,e):r instanceof dh?QE(r,e):function(i,a){const c=P_(i,a),f=JE(c)+JE(i.gt);return v_(c)&&v_(i.gt)?XE(f):ZE(i.serializer,f)}(r,e)}function OS(r,e,t){return r instanceof Af?ug(r,e):r instanceof dh?QE(r,e):t}function P_(r,e){return r instanceof rd?v_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class uh extends cg{}class Af extends cg{constructor(e){super(),this.elements=e}}function ug(r,e){const t=zl(e);for(const i of r.elements)t.some(a=>_c(a,i))||t.push(i);return{arrayValue:{values:t}}}class dh extends cg{constructor(e){super(),this.elements=e}}function QE(r,e){let t=zl(e);for(const i of r.elements)t=t.filter(a=>!_c(a,i));return{arrayValue:{values:t}}}class rd extends cg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function JE(r){return Is(r.integerValue||r.doubleValue)}function zl(r){return rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ru{constructor(e,t){this.field=e,this.transform=t}}class hh{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ca(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Mf{}function fh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new vh(r.key,Yi.none()):new Gl(r.key,r.data,Yi.none());{const t=r.data,i=So.empty();let a=new as(Os.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?i.delete(c):i.set(c,f),a=a.add(c)}return new Oa(r.key,i,new la(a.toArray()),Yi.none())}}function Rf(r,e,t){r instanceof Gl?function(i,a,c){const f=i.value.clone(),E=mh(i.fieldTransforms,a,c.transformResults);f.setAll(E),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Oa?function(i,a,c){if(!ca(i.precondition,a))return void a.convertToUnknownDocument(c.version);const f=mh(i.fieldTransforms,a,c.transformResults),E=a.data;E.setAll(gh(i)),E.setAll(f),a.convertToFoundDocument(c.version,E).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bc(r,e,t,i){return r instanceof Gl?function(a,c,f,E){if(!ca(a.precondition,c))return f;const R=a.value.clone(),U=O_(a.fieldTransforms,E,c);return R.setAll(U),c.convertToFoundDocument(c.version,R).setHasLocalMutations(),null}(r,e,t,i):r instanceof Oa?function(a,c,f,E){if(!ca(a.precondition,c))return f;const R=O_(a.fieldTransforms,E,c),U=c.data;return U.setAll(gh(a)),U.setAll(R),c.convertToFoundDocument(c.version,U).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(r,e,t,i):(f=t,ca(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function xf(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),c=P_(i.transform,a||null);null!=c&&(null===t&&(t=So.empty()),t.set(i.field,c))}return t||null}function ph(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===i||t&&i&&Jd(t,i,(a,c)=>function Zo(r,e){return r.field.isEqual(e.field)&&(i=e.transform,(t=r.transform)instanceof Af&&i instanceof Af||t instanceof dh&&i instanceof dh?Jd(t.elements,i.elements,_c):t instanceof rd&&i instanceof rd?_c(t.gt,i.gt):t instanceof uh&&i instanceof uh);var t,i}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,i}class Gl extends Mf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oa extends Mf{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function mh(r,e,t){const i=new Map;or(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,E=e.data.field(c.field);i.set(c.field,OS(f,E,t[a]))}return i}function O_(r,e,t){const i=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);i.set(a.field,bC(c,f,e))}return i}class vh extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vv extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yv{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Rf(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=YE();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let E=this.applyToLocalView(f,c.mutatedFields);E=t.has(a.key)?null:E;const R=fh(f,E);null!==R&&i.set(a.key,R),f.isValidDocument()||f.convertToNoDocument(ur.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hr())}isEqual(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,(t,i)=>ph(t,i))&&Jd(this.baseMutations,e.baseMutations,(t,i)=>ph(t,i))}}class _v{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){or(e.mutations.length===i.length);let a=_C;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,i[f].version);return new _v(e,t,i,a)}}class Iv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tb{constructor(e,t){this.count=e,this.unchangedNames=t}}var zs,li;function nb(r){switch(r){default:return Yn();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function wC(r){if(void 0===r)return Hs("GRPC error has no .code"),kt.UNKNOWN;switch(r){case zs.OK:return kt.OK;case zs.CANCELLED:return kt.CANCELLED;case zs.UNKNOWN:return kt.UNKNOWN;case zs.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case zs.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case zs.INTERNAL:return kt.INTERNAL;case zs.UNAVAILABLE:return kt.UNAVAILABLE;case zs.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case zs.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case zs.NOT_FOUND:return kt.NOT_FOUND;case zs.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case zs.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case zs.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case zs.ABORTED:return kt.ABORTED;case zs.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case zs.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case zs.DATA_LOSS:return kt.DATA_LOSS;default:return Yn()}}(li=zs||(zs={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class rb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ev}static getOrCreateInstance(){return null===Ev&&(Ev=new rb),Ev}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ev=null;function ib(){return new TextEncoder}const NS=new Qd([4294967295,4294967295],0);function sb(r){const e=ib().encode(r),t=new GD;return t.update(e),new Uint8Array(t.digest())}function DC(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qd([t,i],0),new Qd([a,c],0)]}class N_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dg(`Invalid padding: ${t}`);if(i<0)throw new dg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new dg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new dg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qd.fromNumber(this.It)}Et(e,t,i){let a=e.add(t.multiply(Qd.fromNumber(i)));return 1===a.compare(NS)&&(a=new Qd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sb(e),[i,a]=DC(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(i,a,c);if(!this.At(f))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new N_(c,a,t);return i.forEach(E=>f.insert(E)),f}insert(e){if(0===this.It)return;const t=sb(e),[i,a]=DC(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(i,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hg{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new hg(ur.min(),a,new Ki(xr),Pa(),Hr())}}class yh{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yh(i,t,Hr(),Hr(),Hr())}}class id{constructor(e,t,i,a){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=a}}class bv{constructor(e,t){this.targetId=e,this.Vt=t}}class fg{constructor(e,t,i=mo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class k_{constructor(){this.St=0,this.Dt=ob(),this.Ct=mo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Hr(),t=Hr(),i=Hr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Yn()}}),new yh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=ob()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pa(),this.zt=L_(),this.Wt=new Ki(xr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Yn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,a)=>{this.te(a)&&t(a)})}ne(e){var t;const i=e.targetId,a=e.Vt.count,c=this.se(i);if(c){const f=c.target;if(lh(f))if(0===a){const E=new Ln(f.path);this.Yt(i,E,ps.newNoDocument(E,ur.min()))}else or(1===a);else{const E=this.ie(i);if(E!==a){const R=this.re(e,E);0!==R&&(this.ee(i),this.Wt=this.Wt.insert(i,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=rb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,Q,ke){var bt,Ft,gn,$n,Vn,Lr;const ci={localCacheCount:Q,existenceFilterCount:ke.count},Pr=ke.unchangedNames;return Pr&&(ci.bloomFilter={applied:0===U,hashCount:null!==(bt=null==Pr?void 0:Pr.hashCount)&&void 0!==bt?bt:0,bitmapLength:null!==($n=null===(gn=null===(Ft=null==Pr?void 0:Pr.bits)||void 0===Ft?void 0:Ft.bitmap)||void 0===gn?void 0:gn.length)&&void 0!==$n?$n:0,padding:null!==(Lr=null===(Vn=null==Pr?void 0:Pr.bits)||void 0===Vn?void 0:Vn.padding)&&void 0!==Lr?Lr:0}),ci}(R,E,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:a}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:E=0}=i;let R,U;try{R=Ja(c).toUint8Array()}catch(Q){if(Q instanceof oh)return aa("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{U=new N_(R,f,E)}catch(Q){return aa(Q instanceof dg?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let a=0;return i.forEach(c=>{const f=this.Gt.ue(),E=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(E)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const E=this.se(f);if(E){if(c.current&&lh(E.target)){const R=new Ln(E.target.path);null!==this.jt.get(R)||this.ae(f,R)||this.Yt(f,R,ps.newNoDocument(R,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let i=Hr();this.zt.forEach((c,f)=>{let E=!0;f.forEachWhile(R=>{const U=this.se(R);return!U||"TargetPurposeLimboResolution"===U.purpose||(E=!1,!1)}),E&&(i=i.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new hg(e,t,this.Wt,this.jt,i);return this.jt=Pa(),this.zt=L_(),this.Wt=new Ki(xr),a}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new k_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new as(xr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||mn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new k_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function L_(){return new Ki(Ln.comparator)}function ob(){return new Ki(Ln.comparator)}const gg={asc:"ASCENDING",desc:"DESCENDING"},CC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TC={and:"AND",or:"OR"};class SC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F_(r,e){return r.useProto3Json||_f(e)?e:{value:e}}function sd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mg(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wv(r,e){return sd(r,e.toTimestamp())}function io(r){return or(!!r),ur.fromTimestamp(function(e){const t=Qa(e);return new os(t.seconds,t.nanos)}(r))}function $_(r,e){return(t=r,new fi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ab(r){const e=fi.fromString(r);return or(W_(e)),e}function _h(r,e){return $_(r.databaseId,e.path)}function wc(r,e){const t=ab(e);if(t.get(1)!==r.databaseId.projectId)throw new sn(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new sn(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ln(B_(t))}function Dv(r,e){return $_(r.databaseId,e)}function lb(r){const e=ab(r);return 4===e.length?fi.emptyPath():B_(e)}function vg(r){return new fi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B_(r){return or(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function U_(r,e,t){return{name:_h(r,e),fields:t.value.mapValue.fields}}function V_(r,e,t){const i=wc(r,e.name),a=io(e.updateTime),c=e.createTime?io(e.createTime):ur.min(),f=new So({mapValue:{fields:e.fields}}),E=ps.newFoundDocument(i,a,c,f);return t&&E.setHasCommittedMutations(),t?E.setHasCommittedMutations():E}function yg(r,e){let t;if(e instanceof Gl)t={update:U_(r,e.key,e.value)};else if(e instanceof vh)t={delete:_h(r,e.key)};else if(e instanceof Oa)t={update:U_(r,e.key,e.data),updateMask:G_(e.fieldMask)};else{if(!(e instanceof vv))return Yn();t={verify:_h(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const f=c.transform;if(f instanceof uh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Af)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rd)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Yn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:wv(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Yn()),t;var a}function j_(r,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Yi.updateTime(io(a.updateTime)):void 0!==a.exists?Yi.exists(a.exists):Yi.none():Yi.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(c,f){let E=null;"setToServerValue"in f?(or("REQUEST_TIME"===f.setToServerValue),E=new uh):"appendMissingElements"in f?E=new Af(f.appendMissingElements.values||[]):"removeAllFromArray"in f?E=new dh(f.removeAllFromArray.values||[]):"increment"in f?E=new rd(c,f.increment):Yn();const R=Os.fromServerFormat(f.fieldPath);return new ru(R,E)}(r,a)):[];var a;if(e.update){const a=wc(r,e.update.name),c=new So({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new la((e.updateMask.fieldPaths||[]).map(U=>Os.fromServerFormat(U)));return new Oa(a,c,f,t,i)}return new Gl(a,c,t,i)}if(e.delete){const a=wc(r,e.delete);return new vh(a,t)}if(e.verify){const a=wc(r,e.verify);return new vv(a,t)}return Yn()}function Cv(r,e){return{documents:[Dv(r,e.path)]}}function z_(r,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Dv(r,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dv(r,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(R){if(0!==R.length)return Av(Ni.create(R,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(R){if(0!==R.length)return R.map(U=>{return{field:od((Q=U).field),direction:cb(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=F_(r,e.limit);var E,R;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(R=e.endAt).inclusive,values:R.position}),t}function _g(r){let e=lb(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){or(1===i);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const ke=Sv(Q);return ke instanceof Ni&&y_(ke)?ke.getFilters():[ke]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new Cf(ad((ke=Q).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));let E=null;t.limit&&(E=function(Q){let ke;return ke="object"==typeof Q?Q.value:Q,_f(ke)?null:ke}(t.limit));let R=null;var Q;t.startAt&&(R=new Ic((Q=t.startAt).values||[],!!Q.before));let U=null;return t.endAt&&(U=function(Q){return new Ic(Q.values||[],!Q.before)}(t.endAt)),zE(e,a,f,c,E,"F",R,U)}function Sv(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ad(e.unaryFilter.field);return kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=ad(e.unaryFilter.field);return kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ad(e.unaryFilter.field);return kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ad(e.unaryFilter.field);return kr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Yn()}}(r):void 0!==r.fieldFilter?kr.create(ad((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ni.create(e.compositeFilter.filters.map(t=>Sv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Yn()}}(e.compositeFilter.op))}(r):Yn();var e}function cb(r){return gg[r]}function RC(r){return CC[r]}function xC(r){return TC[r]}function od(r){return{fieldPath:r.canonicalString()}}function ad(r){return Os.fromServerFormat(r.fieldPath)}function Av(r){return r instanceof kr?function(e){if("=="===e.op){if(OE(e.value))return{unaryFilter:{field:od(e.field),op:"IS_NAN"}};if(xa(e.value))return{unaryFilter:{field:od(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(OE(e.value))return{unaryFilter:{field:od(e.field),op:"IS_NOT_NAN"}};if(xa(e.value))return{unaryFilter:{field:od(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:od(e.field),op:RC(e.op),value:e.value}}}(r):r instanceof Ni?function(e){const t=e.getFilters().map(i=>Av(i));return 1===t.length?t[0]:{compositeFilter:{op:xC(e.op),filters:t}}}(r):Yn()}function G_(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function W_(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class iu{constructor(e,t,i,a,c=ur.min(),f=ur.min(),E=mo.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=E,this.expectedCount=R}withSequenceNumber(e){return new iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ub{constructor(e){this.fe=e}}function Mv(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ig(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:_h(a=r.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:sd(a,c.version.toTimestamp()),createTime:sd(a,c.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:su(e.version)};else{if(!e.isUnknownDocument())return Yn();i.unknownDocument={path:t.path.toArray(),version:su(e.version)}}var a,c;return i}function Ig(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function su(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ld(r){const e=new os(r.seconds,r.nanoseconds);return ur.fromTimestamp(e)}function Ih(r,e){const t=(e.baseMutations||[]).map(c=>j_(r.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>j_(r.fe,c)),a=os.fromMillis(e.localWriteTimeMs);return new yv(e.batchId,a,t,i)}function Pf(r){const e=ld(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?ld(r.lastLimboFreeSnapshotVersion):ur.min();let i;var a;return void 0!==r.query.documents?(or(1===(a=r.query).documents.length),i=vo(ch(lb(a.documents[0])))):i=vo(_g(r.query)),new iu(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,mo.fromBase64String(r.resumeToken))}function q_(r,e){const t=su(e.snapshotVersion),i=su(e.lastLimboFreeSnapshotVersion);let a;a=lh(e.target)?Cv(r.fe,e.target):z_(r.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Rv(r){const e=_g({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ag(e,e.limit,"L"):e}function xv(r,e){return new Iv(e.largestBatchId,j_(r.fe,e.overlayMutation))}function hb(r,e){const t=e.path.lastSegment();return[r,$o(e.path.popLast()),t]}function K_(r,e,t,i){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:su(i.readTime),documentKey:$o(i.documentKey.path),largestBatchId:i.largestBatchId}}class fb{getBundleMetadata(e,t){return Pv(e).get(t).next(i=>{if(i)return{id:(a=i).bundleId,createTime:ld(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Pv(e).put({bundleId:(i=t).id,createTime:su(io(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Ov(e).get(t).next(i=>{if(i)return{name:(a=i).name,query:Rv(a.bundledQuery),readTime:ld(a.readTime)};var a})}saveNamedQuery(e,t){return Ov(e).put({name:(i=t).name,readTime:su(io(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Pv(r){return Bo(r,"bundles")}function Ov(r){return Bo(r,"namedQueries")}class Eg{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Eg(e,t.uid||"")}getOverlay(e,t){return Of(e).get(hb(this.userId,t)).next(i=>i?xv(this.serializer,i):null)}getOverlays(e,t){const i=_l();return xt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((c,f)=>{const E=new Iv(t,f);a.push(this.we(e,E))}),xt.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(f=>a.add($o(f.getCollectionPath())));const c=[];return a.forEach(f=>{const E=IDBKeyRange.bound([this.userId,f,i],[this.userId,f,i+1],!1,!0);c.push(Of(e).J("collectionPathOverlayIndex",E))}),xt.waitFor(c)}getOverlaysForCollection(e,t,i){const a=_l(),c=$o(t),f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Of(e).j("collectionPathOverlayIndex",f).next(E=>{for(const R of E){const U=xv(this.serializer,R);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const c=_l();let f;const E=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Of(e).X({index:"collectionGroupOverlayIndex",range:E},(R,U,Q)=>{const ke=xv(this.serializer,U);c.size()<a||ke.largestBatchId===f?(c.set(ke.getKey(),ke),f=ke.largestBatchId):Q.done()}).next(()=>c)}we(e,t){return Of(e).put(function(i,a,c){const[f,E,R]=hb(a,c.mutation.key);return{userId:a,collectionPath:E,documentId:R,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:yg(i.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Of(r){return Bo(r,"documentOverlays")}class cd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Is(e.integerValue));else if("doubleValue"in e){const i=Is(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Jp(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ja(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?dv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Yn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const a of Object.keys(i))this.Te(a,t),this.me(i[a],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const a of i)this.me(a,t)}ve(e,t){this.ye(t,37),Ln.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function pb(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Y_(r){const e=64-function(t){let i=0;for(let a=0;a<8;++a){const c=pb(255&t[a]);if(i+=c,8!==c)break}return i}(r);return Math.ceil(e/8)}cd.Ve=new cd;class gb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),i=Y_(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),i=Y_(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class mb{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class vb{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ud{constructor(){this.je=new gb,this.ze=new mb(this.je),this.We=new vb(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Na{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Na(this.indexId,this.documentKey,this.arrayValue,i)}}function dd(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=yb(r.arrayValue,e.arrayValue),0!==t?t:(t=yb(r.directionalValue,e.directionalValue),0!==t?t:Ln.comparator(r.documentKey,e.documentKey)))}function yb(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(0!==i)return i}return r.length-e.length}class Z_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){or(e.collectionGroup===this.collectionId);const t=tv(e);if(void 0!==t&&!this.en(t))return!1;const i=th(e);let a=new Set,c=0,f=0;for(;c<i.length&&this.en(i[c]);++c)a=a.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const E=i[c];if(!this.nn(this.Ze,E)||!this.sn(this.Ye[f++],E))return!1}++c}for(;c<i.length;++c)if(f>=this.Ye.length||!this.sn(this.Ye[f++],i[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hd(r){var e,t;if(or(r instanceof kr||r instanceof Ni),r instanceof kr){if(r instanceof Ec){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>kr.create(r.field,"==",c)))||[];return Ni.create(a,"or")}return r}const i=r.filters.map(a=>hd(a));return Ni.create(i,r.op)}function X_(r){if(0===r.getFilters().length)return[];const e=_b(hd(r));return or(PC(e)),Q_(e)||bg(e)?[e]:e.getFilters()}function Q_(r){return r instanceof kr}function bg(r){return r instanceof Ni&&y_(r)}function PC(r){return Q_(r)||bg(r)||function(e){if(e instanceof Ni&&hv(e)){for(const t of e.getFilters())if(!Q_(t)&&!bg(t))return!1;return!0}return!1}(r)}function _b(r){if(or(r instanceof kr||r instanceof Ni),r instanceof kr)return r;if(1===r.filters.length)return _b(r.filters[0]);const e=r.filters.map(i=>_b(i));let t=Ni.create(e,r.op);return t=wg(t),PC(t)?t:(or(t instanceof Ni),or(Tf(t)),or(t.filters.length>1),t.filters.reduce((i,a)=>J_(i,a)))}function J_(r,e){let t;return or(r instanceof kr||r instanceof Ni),or(e instanceof kr||e instanceof Ni),t=r instanceof kr?e instanceof kr?Ni.create([r,e],"and"):Ib(r,e):e instanceof kr?Ib(e,r):function(i,a){if(or(i.filters.length>0&&a.filters.length>0),Tf(i)&&Tf(a))return pv(i,a.getFilters());const c=hv(i)?i:a,f=hv(i)?a:i,E=c.filters.map(R=>J_(R,f));return Ni.create(E,"or")}(r,e),wg(t)}function Ib(r,e){if(Tf(e))return pv(e,r.getFilters());{const t=e.filters.map(i=>J_(r,i));return Ni.create(t,"or")}}function wg(r){if(or(r instanceof kr||r instanceof Ni),r instanceof kr)return r;const e=r.getFilters();if(1===e.length)return wg(e[0]);if(__(r))return r;const t=e.map(a=>wg(a)),i=[];return t.forEach(a=>{a instanceof kr?i.push(a):a instanceof Ni&&(a.op===r.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:Ni.create(i,r.op)}class OC{constructor(){this.rn=new Gs}addToCollectionParentIndex(e,t){return this.rn.add(t),xt.resolve()}getCollectionParents(e,t){return xt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return xt.resolve()}deleteFieldIndex(e,t){return xt.resolve()}getDocumentsMatchingTarget(e,t){return xt.resolve(null)}getIndexType(e,t){return xt.resolve(0)}getFieldIndexes(e,t){return xt.resolve([])}getNextCollectionGroupToUpdate(e){return xt.resolve(null)}getMinOffset(e,t){return xt.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,t){return xt.resolve(yl.min())}updateCollectionGroup(e,t,i){return xt.resolve()}updateIndexEntries(e,t){return xt.resolve()}}class Gs{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new as(fi.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new as(fi.comparator)).toArray()}}const Dg=new Uint8Array(0);class NC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Gs,this.un=new nu(i=>Qu(i),(i,a)=>sg(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:i,parent:$o(a)};return Eb(e).put(c)}return xt.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[o_(t),""],!1,!0);return Eb(e).j(a).next(c=>{for(const f of c){if(f.collectionId!==t)break;i.push(mc(f.parent))}return i})}addFieldIndex(e,t){const i=Nv(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(E=>[E.fieldPath.canonicalString(),E.kind])};var f;delete a.indexId;const c=i.add(a);if(t.indexState){const f=kf(e);return c.next(E=>{f.put(K_(E,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=Nv(e),a=kf(e),c=Nf(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Nf(e);let a=!0;const c=new Map;return xt.forEach(this.cn(t),f=>this.an(e,f).next(E=>{a&&(a=!!E),c.set(f,E)})).next(()=>{if(a){let f=Hr();const E=[];return xt.forEach(c,(R,U)=>{var Q;mn("IndexedDbIndexManager",`Using index ${Q=R,`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(Pr=>`${Pr.fieldPath}:${Pr.kind}`).join(",")}`} to execute ${Qu(t)}`);const ke=function(Pr,Es){const Xi=tv(Es);if(void 0===Xi)return null;for(const Hi of Ju(Pr,Xi.fieldPath))switch(Hi.op){case"array-contains-any":return Hi.value.arrayValue.values||[];case"array-contains":return[Hi.value]}return null}(U,R),bt=function(Pr,Es){const Xi=new Map;for(const Hi of th(Es))for(const Uo of Ju(Pr,Hi.fieldPath))switch(Uo.op){case"==":case"in":Xi.set(Hi.fieldPath.canonicalString(),Uo.value);break;case"not-in":case"!=":return Xi.set(Hi.fieldPath.canonicalString(),Uo.value),Array.from(Xi.values())}return null}(U,R),Ft=function(Pr,Es){const Xi=[];let Hi=!0;for(const Uo of th(Es)){const Nh=0===Uo.kind?D_(Pr,Uo.fieldPath,Pr.startAt):og(Pr,Uo.fieldPath,Pr.startAt);Xi.push(Nh.value),Hi&&(Hi=Nh.inclusive)}return new Ic(Xi,Hi)}(U,R),gn=function(Pr,Es){const Xi=[];let Hi=!0;for(const Uo of th(Es)){const Nh=0===Uo.kind?og(Pr,Uo.fieldPath,Pr.endAt):D_(Pr,Uo.fieldPath,Pr.endAt);Xi.push(Nh.value),Hi&&(Hi=Nh.inclusive)}return new Ic(Xi,Hi)}(U,R),$n=this.hn(R,U,Ft),Vn=this.hn(R,U,gn),Lr=this.ln(R,U,bt),ci=this.fn(R.indexId,ke,$n,Ft.inclusive,Vn,gn.inclusive,Lr);return xt.forEach(ci,Pr=>i.H(Pr,t.limit).next(Es=>{Es.forEach(Xi=>{const Hi=Ln.fromSegments(Xi.documentKey);f.has(Hi)||(f=f.add(Hi),E.push(Hi))})}))}).next(()=>E)}return xt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:X_(Ni.create(e.filters,"and")).map(i=>w_(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,a,c,f,E){const R=(null!=t?t.length:1)*Math.max(i.length,c.length),U=R/(null!=t?t.length:1),Q=[];for(let ke=0;ke<R;++ke){const bt=t?this.dn(t[ke/U]):Dg,Ft=this.wn(e,bt,i[ke%U],a),gn=this._n(e,bt,c[ke%U],f),$n=E.map(Vn=>this.wn(e,bt,Vn,!0));Q.push(...this.createRange(Ft,gn,$n))}return Q}wn(e,t,i,a){const c=new Na(e,Ln.empty(),t,i);return a?c:c.Je()}_n(e,t,i,a){const c=new Na(e,Ln.empty(),t,i);return a?c.Je():c}an(e,t){const i=new Z_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let f=null;for(const E of c)i.tn(E)&&(!f||E.fields.length>f.fields.length)&&(f=E);return f})}getIndexType(e,t){let i=2;const a=this.cn(t);return xt.forEach(a,c=>this.an(e,c).next(f=>{f?0!==i&&f.fields.length<function(E){let R=new as(Os.comparator),U=!1;for(const Q of E.filters)for(const ke of Q.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?U=!0:R=R.add(ke.field));for(const Q of E.orderBy)Q.field.isKeyField()||(R=R.add(Q.field));return R.size+(U?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}mn(e,t){const i=new ud;for(const a of th(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const f=i.He(a.kind);cd.Ve._e(c,f)}return i.Qe()}dn(e){const t=new ud;return cd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new ud;return cd.Ve._e(Xu(this.databaseId,t),i.He(function(a){const c=th(a);return 0===c.length?0:c[c.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let a=[];a.push(new ud);let c=0;for(const f of th(e)){const E=i[c++];for(const R of a)if(this.yn(t,f.fieldPath)&&rg(E))a=this.pn(a,f,E);else{const U=R.He(f.kind);cd.Ve._e(E,U)}}return this.In(a)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const a=[...e],c=[];for(const f of i.arrayValue.values||[])for(const E of a){const R=new ud;R.seed(E.Qe()),cd.Ve._e(f,R.He(t.kind)),c.push(R)}return c}yn(e,t){return!!e.filters.find(i=>i instanceof kr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Nv(e),a=kf(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(c=>{const f=[];return xt.forEach(c,E=>a.get([E.indexId,this.uid]).next(R=>{f.push(function(U,Q){const ke=Q?new vf(Q.sequenceNumber,new yl(ld(Q.readTime),new Ln(mc(Q.documentKey)),Q.largestBatchId)):vf.empty(),bt=U.fields.map(([Ft,gn])=>new a_(Os.fromServerFormat(Ft),gn));return new ev(U.indexId,U.collectionGroup,bt,ke)}(E,R))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const c=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:xr(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=Nv(e),c=kf(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(E=>xt.forEach(E,R=>c.put(K_(R.indexId,this.user,f,i)))))}updateIndexEntries(e,t){const i=new Map;return xt.forEach(t,(a,c)=>{const f=i.get(a.collectionGroup);return(f?xt.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(E=>(i.set(a.collectionGroup,E),xt.forEach(E,R=>this.En(e,a,R).next(U=>{const Q=this.An(c,R);return U.isEqual(Q)?xt.resolve():this.vn(e,c,R,U,Q)}))))})}Rn(e,t,i,a){return Nf(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,a){return Nf(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const a=Nf(e);let c=new as(dd);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(f,E)=>{c=c.add(new Na(i.indexId,t,E.arrayValue,E.directionalValue))}).next(()=>c)}An(e,t){let i=new as(dd);const a=this.mn(t,e);if(null==a)return i;const c=tv(t);if(null!=c){const f=e.data.field(c.fieldPath);if(rg(f))for(const E of f.arrayValue.values||[])i=i.add(new Na(t.indexId,e.key,this.dn(E),a))}else i=i.add(new Na(t.indexId,e.key,Dg,a));return i}vn(e,t,i,a,c){mn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(E,R,U,Q,ke){const bt=E.getIterator(),Ft=R.getIterator();let gn=sh(bt),$n=sh(Ft);for(;gn||$n;){let Vn=!1,Lr=!1;if(gn&&$n){const ci=U(gn,$n);ci<0?Lr=!0:ci>0&&(Vn=!0)}else null!=gn?Lr=!0:Vn=!0;Vn?(Q($n),$n=sh(Ft)):Lr?(ke(gn),gn=sh(bt)):(gn=sh(bt),$n=sh(Ft))}}(a,c,dd,E=>{f.push(this.Rn(e,t,i,E))},E=>{f.push(this.Pn(e,t,i,E))}),xt.waitFor(f)}Tn(e){let t=1;return kf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((f,E)=>dd(f,E)).filter((f,E,R)=>!E||0!==dd(f,R[E-1]));const a=[];a.push(e);for(const f of i){const E=dd(f,e),R=dd(f,t);if(0===E)a[0]=e.Je();else if(E>0&&R<0)a.push(f),a.push(f.Je());else if(R>0)break}a.push(t);const c=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];c.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,Dg,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,Dg,[]]))}return c}bn(e,t){return dd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(e0)}getMinOffset(e,t){return xt.mapArray(this.cn(t),i=>this.an(e,i).next(a=>a||Yn())).next(e0)}}function Eb(r){return Bo(r,"collectionParents")}function Nf(r){return Bo(r,"indexEntries")}function Nv(r){return Bo(r,"indexConfiguration")}function kf(r){return Bo(r,"indexState")}function e0(r){or(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;Xp(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new yl(e.readTime,e.documentKey,t)}const Eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bb(r,e,t){const i=r.store("mutations"),a=r.store("documentMutations"),c=[],f=IDBKeyRange.only(t.batchId);let E=0;const R=i.X({range:f},(Q,ke,bt)=>(E++,bt.delete()));c.push(R.next(()=>{or(1===E)}));const U=[];for(const Q of t.mutations){const ke=vc(e,Q.key.path,t.batchId);c.push(a.delete(ke)),U.push(Q.key)}return xt.waitFor(c).next(()=>U)}function Cg(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Yn();e=r.noDocument}return JSON.stringify(e).length}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class kv{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Vn={}}static de(e,t,i,a){or(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new kv(c,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).X({index:"userMutationsIndex",range:i},(a,c,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const c=wh(e),f=bh(e);return f.add({}).next(E=>{or("number"==typeof E);const R=new yv(E,t,i,a),U=function(bt,Ft,gn){const $n=gn.baseMutations.map(Lr=>yg(bt.fe,Lr)),Vn=gn.mutations.map(Lr=>yg(bt.fe,Lr));return{userId:Ft,batchId:gn.batchId,localWriteTimeMs:gn.localWriteTime.toMillis(),baseMutations:$n,mutations:Vn}}(this.serializer,this.userId,R),Q=[];let ke=new as((bt,Ft)=>xr(bt.canonicalString(),Ft.canonicalString()));for(const bt of a){const Ft=vc(this.userId,bt.key.path,E);ke=ke.add(bt.key.path.popLast()),Q.push(f.put(U)),Q.push(c.put(Ft,If))}return ke.forEach(bt=>{Q.push(this.indexManager.addToCollectionParentIndex(e,bt))}),e.addOnCommittedListener(()=>{this.Vn[E]=R.keys()}),xt.waitFor(Q).next(()=>R)})}lookupMutationBatch(e,t){return bh(e).get(t).next(i=>i?(or(i.userId===this.userId),Ih(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?xt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return bh(e).X({index:"userMutationsIndex",range:a},(f,E,R)=>{E.userId===this.userId&&(or(E.batchId>=i),c=Ih(this.serializer,E)),R.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,f)=>{i=c.batchId,f.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bh(e).j("userMutationsIndex",t).next(i=>i.map(a=>Ih(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Jc(this.userId,t.path),a=IDBKeyRange.lowerBound(i),c=[];return wh(e).X({range:a},(f,E,R)=>{const[U,Q,ke]=f,bt=mc(Q);if(U===this.userId&&t.path.isEqual(bt))return bh(e).get(ke).next(Ft=>{if(!Ft)throw Yn();or(Ft.userId===this.userId),c.push(Ih(this.serializer,Ft))});R.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new as(xr);const a=[];return t.forEach(c=>{const f=Jc(this.userId,c.path),E=IDBKeyRange.lowerBound(f),R=wh(e).X({range:E},(U,Q,ke)=>{const[bt,Ft,gn]=U,$n=mc(Ft);bt===this.userId&&c.path.isEqual($n)?i=i.add(gn):ke.done()});a.push(R)}),xt.waitFor(a).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,c=Jc(this.userId,i),f=IDBKeyRange.lowerBound(c);let E=new as(xr);return wh(e).X({range:f},(R,U,Q)=>{const[ke,bt,Ft]=R,gn=mc(bt);ke===this.userId&&i.isPrefixOf(gn)?gn.length===a&&(E=E.add(Ft)):Q.done()}).next(()=>this.Dn(e,E))}Dn(e,t){const i=[],a=[];return t.forEach(c=>{a.push(bh(e).get(c).next(f=>{if(null===f)throw Yn();or(f.userId===this.userId),i.push(Ih(this.serializer,f))}))}),xt.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return bb(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),xt.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return xt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),a=[];return wh(e).X({range:i},(c,f,E)=>{if(c[0]===this.userId){const R=mc(c[1]);a.push(R)}else E.done()}).next(()=>{or(0===a.length)})})}containsKey(e,t){return t0(e,this.userId,t)}xn(e){return Lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function t0(r,e,t){const i=Jc(e,t.path),a=i[1],c=IDBKeyRange.lowerBound(i);let f=!1;return wh(r).X({range:c,Y:!0},(E,R,U)=>{const[Q,ke,bt]=E;Q===e&&ke===a&&(f=!0),U.done()}).next(()=>f)}function bh(r){return Bo(r,"mutations")}function wh(r){return Bo(r,"documentMutations")}function Lv(r){return Bo(r,"mutationQueues")}class Qo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qo(0)}static Mn(){return new Qo(-1)}}class kC{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Qo(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ur.fromTimestamp(new os(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lf(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(or(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let a=0;const c=[];return Lf(e).X((f,E)=>{const R=Pf(E);R.sequenceNumber<=t&&null===i.get(R.targetId)&&(a++,c.push(this.removeTargetData(e,R)))}).next(()=>xt.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Lf(e).X((i,a)=>{const c=Pf(a);t(c)})}$n(e){return Wl(e).get("targetGlobalKey").next(t=>(or(null!==t),t))}On(e,t){return Wl(e).put("targetGlobalKey",t)}Fn(e,t){return Lf(e).put(q_(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qu(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return Lf(e).X({range:a,index:"queryTargetsIndex"},(f,E,R)=>{const U=Pf(E);sg(t,U.target)&&(c=U,R.done())}).next(()=>c)}addMatchingKeys(e,t,i){const a=[],c=Ao(e);return t.forEach(f=>{const E=$o(f.path);a.push(c.put({targetId:i,path:E})),a.push(this.referenceDelegate.addReference(e,i,f))}),xt.waitFor(a)}removeMatchingKeys(e,t,i){const a=Ao(e);return xt.forEach(t,c=>{const f=$o(c.path);return xt.waitFor([a.delete([i,f]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=Ao(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ao(e);let c=Hr();return a.X({range:i,Y:!0},(f,E,R)=>{const U=mc(f[1]),Q=new Ln(U);c=c.add(Q)}).next(()=>c)}containsKey(e,t){const i=$o(t.path),a=IDBKeyRange.bound([i],[o_(i)],!1,!0);let c=0;return Ao(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,E],R,U)=>{0!==f&&(c++,U.done())}).next(()=>c>0)}le(e,t){return Lf(e).get(t).next(i=>i?Pf(i):null)}}function Lf(r){return Bo(r,"targets")}function Wl(r){return Bo(r,"targetGlobal")}function Ao(r){return Bo(r,"targetDocuments")}function Il([r,e],[t,i]){const a=xr(r,t);return 0===a?xr(e,i):a}class wb{constructor(e){this.Ln=e,this.buffer=new as(Il),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Il(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;mn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){nh(i)?mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ku(i)}yield t.Qn(3e5)}))}}class LC{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return xt.resolve(Ra.ct);const i=new wb(t);return this.jn.forEachTarget(e,a=>i.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>i.Kn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(Eh)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eh):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,a,c,f,E,R,U;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),a=this.params.maximumSequenceNumbersToCollect):a=ke,f=Date.now(),this.nthSequenceNumber(e,a))).next(ke=>(i=ke,E=Date.now(),this.removeTargets(e,i,t))).next(ke=>(c=ke,R=Date.now(),this.removeOrphanedDocuments(e,i))).next(ke=>(U=Date.now(),r_()<=re.in.DEBUG&&mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Q}ms\n\tDetermined least recently used ${a} in `+(E-f)+`ms\n\tRemoved ${c} targets in `+(R-E)+`ms\n\tRemoved ${ke} documents in `+(U-R)+`ms\nTotal Duration: ${U-Q}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:ke})))}}class FC{constructor(e,t){this.db=e,this.garbageCollector=function Db(r,e){return new LC(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,a)=>t(a))}addReference(e,t,i){return Fv(e,i)}removeReference(e,t,i){return Fv(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Fv(e,t)}Xn(e,t){return function(i,a){let c=!1;return Lv(i).Z(f=>t0(i,f,a).next(E=>(E&&(c=!0),xt.resolve(!E)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(f,E)=>{if(E<=t){const R=this.Xn(e,f).next(U=>{if(!U)return c++,i.getEntry(e,f).next(()=>(i.removeEntry(f,ur.min()),Ao(e).delete([0,$o(f.path)])))});a.push(R)}}).next(()=>xt.waitFor(a)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Fv(e,t)}Yn(e,t){const i=Ao(e);let a,c=Ra.ct;return i.X({index:"documentTargetsIndex"},([f,E],{path:R,sequenceNumber:U})=>{0===f?(c!==Ra.ct&&t(new Ln(mc(a)),c),c=U,a=R):c=Ra.ct}).next(()=>{c!==Ra.ct&&t(new Ln(mc(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fv(r,e){return Ao(r).put((i=r.currentSequenceNumber,{targetId:0,path:$o(e.path),sequenceNumber:i}));var i}class $v{constructor(){this.changes=new nu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ps.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?xt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Dh(e).put(i)}removeEntry(e,t,i){return Dh(e).delete(function(a,c){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Ig(c),f[f.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ps.newInvalidDocument(t);return Dh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(t))},(a,c)=>{i=this.ts(t,c)}).next(()=>i)}es(e,t){let i={size:0,document:ps.newInvalidDocument(t)};return Dh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ff(t))},(a,c)=>{i={document:this.ts(t,c),size:Cg(c)}}).next(()=>i)}getEntries(e,t){let i=Pa();return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);i=i.insert(a,f)}).next(()=>i)}ss(e,t){let i=Pa(),a=new Ki(Ln.comparator);return this.ns(e,t,(c,f)=>{const E=this.ts(c,f);i=i.insert(c,E),a=a.insert(c,Cg(f))}).next(()=>({documents:i,rs:a}))}ns(e,t,i){if(t.isEmpty())return xt.resolve();let a=new as(Sg);t.forEach(R=>a=a.add(R));const c=IDBKeyRange.bound(Ff(a.first()),Ff(a.last())),f=a.getIterator();let E=f.getNext();return Dh(e).X({index:"documentKeyIndex",range:c},(R,U,Q)=>{const ke=Ln.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;E&&Sg(E,ke)<0;)i(E,null),E=f.getNext();E&&E.isEqual(ke)&&(i(E,U),E=f.hasNext()?f.getNext():null),E?Q.G(Ff(E)):Q.done()}).next(()=>{for(;E;)i(E,null),E=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,i,a){const c=t.path,f=[c.popLast().toArray(),c.lastSegment(),Ig(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],E=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dh(e).j(IDBKeyRange.bound(f,E,!0)).next(R=>{let U=Pa();for(const Q of R){const ke=this.ts(Ln.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);ke.isFoundDocument()&&(tu(t,ke)||a.has(ke.key))&&(U=U.insert(ke.key,ke))}return U})}getAllFromCollectionGroup(e,t,i,a){let c=Pa();const f=r0(t,i),E=r0(t,yl.max());return Dh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,E,!0)},(R,U,Q)=>{const ke=this.ts(Ln.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);c=c.insert(ke.key,ke),c.size===a&&Q.done()}).next(()=>c)}newChangeBuffer(e){return new Tb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Sb(e).get("remoteDocumentGlobalKey").next(t=>(or(!!t),t))}Zn(e,t){return Sb(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function db(r,e){let t;if(e.document)t=V_(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ln.fromSegments(e.noDocument.path),a=ld(e.noDocument.readTime);t=ps.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Yn();{const i=Ln.fromSegments(e.unknownDocument.path),a=ld(e.unknownDocument.version);t=ps.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(i){const a=new os(i[0],i[1]);return ur.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ur.min()))return i}return ps.newInvalidDocument(e)}}function Cb(r){return new Tg(r)}class Tb extends $v{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new nu(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new as((c,f)=>xr(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const E=this.us.get(c);if(t.push(this.os.removeEntry(e,c,E.readTime)),f.isValidDocument()){const R=Mv(this.os.serializer,f);a=a.add(c.path.popLast());const U=Cg(R);i+=U-E.size,t.push(this.os.addEntry(e,c,R))}else if(i-=E.size,this.trackRemovals){const R=Mv(this.os.serializer,f.convertToNoDocument(ur.min()));t.push(this.os.addEntry(e,c,R))}}),a.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,i)),xt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:a})=>(a.forEach((c,f)=>{this.us.set(c,{size:f,readTime:i.get(c).readTime})}),i))}}function Sb(r){return Bo(r,"remoteDocumentGlobal")}function Dh(r){return Bo(r,"remoteDocumentsV14")}function Ff(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r0(r,e){const t=e.documentKey.path.toArray();return[r,Ig(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Sg(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(a=xr(t[c],i[c]),a)return a;return a=xr(t.length,i.length),a||(a=xr(t[t.length-2],i[i.length-2]),a||xr(t[t.length-1],i[i.length-1]))}class $C{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s0{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&bc(i.mutation,a,la.empty(),os.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Hr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Hr()){const a=_l();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let f=lg();return c.forEach((E,R)=>{f=f.insert(E,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const i=_l();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Hr()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,E)=>{t.set(f,E)})})}computeViews(e,t,i,a){let c=Pa();const f=nd(),E=nd();return t.forEach((R,U)=>{const Q=i.get(U.key);a.has(U.key)&&(void 0===Q||Q.mutation instanceof Oa)?c=c.insert(U.key,U):void 0!==Q?(f.set(U.key,Q.mutation.getFieldMask()),bc(Q.mutation,U,Q.mutation.getFieldMask(),os.now())):f.set(U.key,la.empty())}),this.recalculateAndSaveOverlays(e,c).next(R=>(R.forEach((U,Q)=>f.set(U,Q)),t.forEach((U,Q)=>{var ke;return E.set(U,new $C(Q,null!==(ke=f.get(U))&&void 0!==ke?ke:null))}),E))}recalculateAndSaveOverlays(e,t){const i=nd();let a=new Ki((f,E)=>f-E),c=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const E of f)E.keys().forEach(R=>{const U=t.get(R);if(null===U)return;let Q=i.get(R)||la.empty();Q=E.applyToLocalView(U,Q),i.set(R,Q);const ke=(a.get(E.batchId)||Hr()).add(R);a=a.insert(E.batchId,ke)})}).next(()=>{const f=[],E=a.getReverseIterator();for(;E.hasNext();){const R=E.getNext(),U=R.key,Q=R.value,ke=YE();Q.forEach(bt=>{if(!c.has(bt)){const Ft=fh(t.get(bt),i.get(bt));null!==Ft&&ke.set(bt,Ft),c=c.add(bt)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,ke))}return xt.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ln.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):mv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):xt.resolve(_l());let E=-1,R=c;return f.next(U=>xt.forEach(U,(Q,ke)=>(E<ke.largestBatchId&&(E=ke.largestBatchId),c.get(Q)?xt.resolve():this.remoteDocumentCache.getEntry(e,Q).next(bt=>{R=R.insert(Q,bt)}))).next(()=>this.populateOverlays(e,U,c)).next(()=>this.computeViews(e,R,U,Hr())).next(Q=>({batchId:E,changes:M_(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ln(t)).next(i=>{let a=lg();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let c=lg();return this.indexManager.getCollectionParents(e,a).next(f=>xt.forEach(f,E=>{const R=(U=t,Q=E.child(a),new ed(Q,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,Q;return this.getDocumentsMatchingCollectionQuery(e,R,i).next(U=>{U.forEach((Q,ke)=>{c=c.insert(Q,ke)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a))).next(c=>{a.forEach((E,R)=>{const U=R.getKey();null===c.get(U)&&(c=c.insert(U,ps.newInvalidDocument(U)))});let f=lg();return c.forEach((E,R)=>{const U=a.get(E);void 0!==U&&bc(U.mutation,R,la.empty(),os.now()),tu(t,R)&&(f=f.insert(E,R))}),f})}}class Ab{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return xt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:io(i.createTime)}),xt.resolve()}getNamedQuery(e,t){return xt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Rv(i.bundledQuery),readTime:io(i.readTime)}),xt.resolve();var i}}class Mb{constructor(){this.overlays=new Ki(Ln.comparator),this.ls=new Map}getOverlay(e,t){return xt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_l();return xt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.we(e,t,c)}),xt.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.ls.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(i)),xt.resolve()}getOverlaysForCollection(e,t,i){const a=_l(),c=t.length+1,f=new Ln(t.child("")),E=this.overlays.getIteratorFrom(f);for(;E.hasNext();){const R=E.getNext().value,U=R.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===c&&R.largestBatchId>i&&a.set(R.getKey(),R)}return xt.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new Ki((U,Q)=>U-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>i){let Q=c.get(U.largestBatchId);null===Q&&(Q=_l(),c=c.insert(U.largestBatchId,Q)),Q.set(U.getKey(),U)}}const E=_l(),R=c.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((U,Q)=>E.set(U,Q)),!(E.size()>=a)););return xt.resolve(E)}we(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(i.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new Iv(t,i));let c=this.ls.get(t);void 0===c&&(c=Hr(),this.ls.set(t,c)),this.ls.set(t,c.add(i.key))}}class o0{constructor(){this.fs=new as(Mo.ds),this.ws=new as(Mo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Mo(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Mo(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Ln(new fi([])),i=new Mo(t,e),a=new Mo(t,e+1),c=[];return this.ws.forEachInRange([i,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ln(new fi([])),i=new Mo(t,e),a=new Mo(t,e+1);let c=Hr();return this.ws.forEachInRange([i,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Mo(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Mo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ln.comparator(e.key,t.key)||xr(e.As,t.As)}static _s(e,t){return xr(e.As,t.As)||Ln.comparator(e.key,t.key)}}class a0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new as(Mo.ds)}checkEmpty(e){return xt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.vs;this.vs++;const f=new yv(c,t,i,a);this.mutationQueue.push(f);for(const E of a)this.Rs=this.Rs.add(new Mo(E.key,c)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return xt.resolve(f)}lookupMutationBatch(e,t){return xt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return xt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mo(t,0),a=new Mo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([i,a],f=>{const E=this.Ps(f.As);c.push(E)}),xt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new as(xr);return t.forEach(a=>{const c=new Mo(a,0),f=new Mo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],E=>{i=i.add(E.As)})}),xt.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;Ln.isDocumentKey(c)||(c=c.child(""));const f=new Mo(new Ln(c),0);let E=new as(xr);return this.Rs.forEachWhile(R=>{const U=R.key.path;return!!i.isPrefixOf(U)&&(U.length===a&&(E=E.add(R.As)),!0)},f),xt.resolve(this.Vs(E))}Vs(e){const t=[];return e.forEach(i=>{const a=this.Ps(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){or(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return xt.forEach(t.mutations,a=>{const c=new Mo(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Mo(t,0),a=this.Rs.firstAfterOrEqual(i);return xt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return xt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bv{constructor(e){this.Ds=e,this.docs=new Ki(Ln.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return xt.resolve(i?i.document.mutableCopy():ps.newInvalidDocument(t))}getEntries(e,t){let i=Pa();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():ps.newInvalidDocument(a))}),xt.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=Pa();const f=t.path,E=new Ln(f.child("")),R=this.docs.getIteratorFrom(E);for(;R.hasNext();){const{key:U,value:{document:Q}}=R.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||Xp(l_(Q),i)<=0||(a.has(Q.key)||tu(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return xt.resolve(c)}getAllFromCollectionGroup(e,t,i,a){Yn()}Cs(e,t){return xt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Rb(this)}getSize(e){return xt.resolve(this.size)}}class Rb extends $v{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(i)}),xt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class xb{constructor(e){this.persistence=e,this.xs=new nu(t=>Qu(t),sg),this.lastRemoteSnapshotVersion=ur.min(),this.highestTargetId=0,this.Ns=0,this.ks=new o0,this.targetCount=0,this.Ms=Qo.kn()}forEachTarget(e,t){return this.xs.forEach((i,a)=>t(a)),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),xt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,xt.resolve()}updateTargetData(e,t){return this.Fn(t),xt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.xs.forEach((f,E)=>{E.sequenceNumber<=t&&null===i.get(E.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,E.targetId)),a++)}),xt.waitFor(c).next(()=>a)}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return xt.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),xt.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),xt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),xt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return xt.resolve(i)}containsKey(e,t){return xt.resolve(this.ks.containsKey(t))}}class Uv{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ra(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new xb(this),this.indexManager=new OC,this.remoteDocumentCache=new Bv(i=>this.referenceDelegate.Ls(i)),this.serializer=new ub(t),this.qs=new Ab(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new a0(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){mn("MemoryPersistence","Starting transaction:",e);const a=new Pb(this.Os.next());return this.referenceDelegate.Us(),i(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return xt.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Pb extends nv{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Qs=new o0,this.js=null}static zs(e){return new Ag(e)}get Ws(){if(this.js)return this.js;throw Yn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),xt.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),xt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),xt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.Ws,i=>{const a=Ln.fromPath(i);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,ur.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return xt.or([()=>xt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ob{constructor(e){this.serializer=e}O(e,t,i,a){const c=new yf("createOrUpgrade",t);var E;i<1&&a>=1&&(e.createObjectStore("owner"),(E=e).createObjectStore("mutationQueues",{keyPath:"userId"}),E.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h_,{unique:!0}),E.createObjectStore("documentMutations"),l0(e),function(E){E.createObjectStore("remoteDocuments")}(e));let f=xt.resolve();return i<3&&a>=3&&(0!==i&&(function(E){E.deleteObjectStore("targetDocuments"),E.deleteObjectStore("targets"),E.deleteObjectStore("targetGlobal")}(e),l0(e)),f=f.next(()=>function(E){const R=E.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ur.min().toTimestamp(),targetCount:0};return R.put("targetGlobalKey",U)}(c))),i<4&&a>=4&&(0!==i&&(f=f.next(()=>function(E,R){return R.store("mutations").j().next(U=>{E.deleteObjectStore("mutations"),E.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h_,{unique:!0});const Q=R.store("mutations"),ke=U.map(bt=>Q.put(bt));return xt.waitFor(ke)})}(e,c))),f=f.next(()=>{!function(E){E.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(f=f.next(()=>this.Ys(c))),i<6&&a>=6&&(f=f.next(()=>(function(E){E.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),i<7&&a>=7&&(f=f.next(()=>this.Zs(c))),i<8&&a>=8&&(f=f.next(()=>this.ti(e,c))),i<9&&a>=9&&(f=f.next(()=>{!function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(f=f.next(()=>this.ei(c))),i<11&&a>=11&&(f=f.next(()=>{(function(E){E.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(E){E.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(f=f.next(()=>{!function(E){const R=E.createObjectStore("documentOverlays",{keyPath:oC});R.createIndex("collectionPathOverlayIndex",aC,{unique:!1}),R.createIndex("collectionGroupOverlayIndex",ME,{unique:!1})}(e)})),i<13&&a>=13&&(f=f.next(()=>function(E){const R=E.createObjectStore("remoteDocumentsV14",{keyPath:nC});R.createIndex("documentKeyIndex",rC),R.createIndex("collectionGroupIndex",CE)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(f=f.next(()=>this.si(e,c))),i<15&&a>=15&&(f=f.next(()=>function(E){E.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),E.createObjectStore("indexState",{keyPath:SE}).createIndex("sequenceNumberIndex",AE,{unique:!1}),E.createObjectStore("indexEntries",{keyPath:iC}).createIndex("documentKeyIndex",sC,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((i,a)=>{t+=Cg(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(a=>xt.forEach(a,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",f).next(E=>xt.forEach(E,R=>{or(R.userId===c.userId);const U=Ih(this.serializer,R);return bb(e,c.userId,U).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return i.X((f,E)=>{const R=new fi(f),U=[0,$o(R)];c.push(t.get(U).next(Q=>Q?xt.resolve():t.put({targetId:0,path:$o(R),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>xt.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:iv});const i=t.store("collectionParents"),a=new Gs,c=f=>{if(a.add(f)){const E=f.lastSegment(),R=f.popLast();return i.put({collectionId:E,parent:$o(R)})}};return t.store("remoteDocuments").X({Y:!0},(f,E)=>{const R=new fi(f);return c(R.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,E,R],U)=>{const Q=mc(E);return c(Q.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,a)=>{const c=Pf(a),f=q_(this.serializer,c);return t.put(f)})}ni(e,t){const i=t.store("remoteDocuments"),a=[];return i.X((c,f)=>{const E=t.store("remoteDocumentsV14"),R=(U=f,U.document?new Ln(fi.fromString(U.document.name).popFirst(5)):U.noDocument?Ln.fromSegments(U.noDocument.path):U.unknownDocument?Ln.fromSegments(U.unknownDocument.path):Yn()).path.toArray();var U;const Q={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(E.put(Q))}).next(()=>xt.waitFor(a))}si(e,t){const i=t.store("mutations"),a=Cb(this.serializer),c=new Uv(Ag.zs,this.serializer.fe);return i.j().next(f=>{const E=new Map;return f.forEach(R=>{var U;let Q=null!==(U=E.get(R.userId))&&void 0!==U?U:Hr();Ih(this.serializer,R).keys().forEach(ke=>Q=Q.add(ke)),E.set(R.userId,Q)}),xt.forEach(E,(R,U)=>{const Q=new Do(U),ke=Eg.de(this.serializer,Q),bt=c.getIndexManager(Q),Ft=kv.de(Q,this.serializer,bt,c.referenceDelegate);return new s0(a,Ft,ke,bt).recalculateAndSaveOverlaysForDocumentKeys(new sv(t,Ra.ct),R).next()})})}}function l0(r){r.createObjectStore("targetDocuments",{keyPath:f_}).createIndex("documentTargetsIndex",eg,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TE,{unique:!0}),r.createObjectStore("targetGlobal")}const c0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class u0{constructor(e,t,i,a,c,f,E,R,U,Q,ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=c,this.window=f,this.document=E,this.ri=U,this.oi=Q,this.ui=ke,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=bt=>Promise.resolve(),!u0.D())throw new sn(kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FC(this,a),this.di=t+"main",this.serializer=new ub(R),this.wi=new ro(this.di,this.ui,new Ob(this.serializer)),this.Bs=new kC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cb(this.serializer),this.qs=new fb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Q&&Hs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sn(kt.FAILED_PRECONDITION,c0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ra(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,d.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,d.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(nh(e))return mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Rg(e).get("owner").next(t=>xt.resolve(this.Ri(t)))}Pi(e){return Vv(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=Bo(i,"clientMetadata");return a.j().next(c=>{const f=e.Si(c,18e5),E=c.filter(R=>-1===f.indexOf(R));return xt.forEach(E,R=>a.delete(R.clientId)).next(()=>E)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?xt.resolve(!0):Rg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new sn(kt.FAILED_PRECONDITION,c0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vv(e).j().next(i=>void 0===this.Si(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&mn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new sv(t,Ra.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Vv(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return kv.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Eg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){mn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(f=this.ui)?RE:14===f?dC:13===f?uC:12===f?cC:11===f?lC:void Yn();var f;let E;return this.wi.runTransaction(e,a,c,R=>(E=new sv(R,this.Os?this.Os.next():Ra.ct),"readwrite-primary"===t?this.Ti(E).next(U=>!!U||this.Ei(E)).next(U=>{if(!U)throw Hs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new sn(kt.FAILED_PRECONDITION,Qc);return i(E)}).next(U=>this.vi(E).next(()=>U)):this.Oi(E).next(()=>i(E)))).then(R=>(E.raiseOnCommittedEvent(),R))}Oi(e){return Rg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new sn(kt.FAILED_PRECONDITION,c0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rg(e).put("owner",t)}static D(){return ro.D()}Ai(e){const t=Rg(e);return t.get("owner").next(i=>this.Ri(i)?(mn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):xt.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Hs(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,g.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return mn("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hs("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Hs("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rg(r){return Bo(r,"owner")}function Vv(r){return Bo(r,"clientMetadata")}function d0(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class h0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=a}static Li(e,t){let i=Hr(),a=Hr();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new h0(e,t.fromCache,i,a)}}class Nb{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,i)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(C_(t))return xt.resolve(null);let i=vo(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ag(t,null,"F"),i=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const f=Hr(...c);return this.Ui.getDocuments(e,f).next(E=>this.indexManager.getMinOffset(e,i).next(R=>{const U=this.ji(t,E);return this.zi(t,U,f,R.readTime)?this.Ki(e,ag(t,null,"F")):this.Wi(e,U,t,R)}))})))}Gi(e,t,i,a){return C_(t)||a.isEqual(ur.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(c=>{const f=this.ji(t,c);return this.zi(t,f,i,a)?this.Qi(e,t):(r_()<=re.in.DEBUG&&mn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),A_(t)),this.Wi(e,f,t,vl(a,-1)))})}ji(e,t){let i=new as(qE(e));return t.forEach((a,c)=>{tu(e,c)&&(i=i.add(c))}),i}zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return r_()<=re.in.DEBUG&&mn("QueryEngine","Using full collection scan to execute query:",A_(t)),this.Ui.getDocumentsMatchingQuery(e,t,yl.min())}Wi(e,t,i,a){return this.Ui.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class BC{constructor(e,t,i,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Ki(xr),this.Yi=new nu(c=>Qu(c),sg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s0(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kb(r,e,t,i){return new BC(r,e,t,i)}function Lb(r,e){return f0.apply(this,arguments)}function f0(){return f0=(0,d.Z)(function*(r,e){const t=kn(r);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const f=[],E=[];let R=Hr();for(const U of a){f.push(U.batchId);for(const Q of U.mutations)R=R.add(Q.key)}for(const U of c){E.push(U.batchId);for(const Q of U.mutations)R=R.add(Q.key)}return t.localDocuments.getDocuments(i,R).next(U=>({er:U,removedBatchIds:f,addedBatchIds:E}))})})}),f0.apply(this,arguments)}function Fb(r){const e=kn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $b(r,e,t){let i=Hr(),a=Hr();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let f=Pa();return t.forEach((E,R)=>{const U=c.get(E);R.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(E)),R.isNoDocument()&&R.version.isEqual(ur.min())?(e.removeEntry(E,R.readTime),f=f.insert(E,R)):!U.isValidDocument()||R.version.compareTo(U.version)>0||0===R.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(R),f=f.insert(E,R)):mn("LocalStore","Ignoring outdated watch update for ",E,". Current version:",U.version," Watch version:",R.version)}),{nr:f,sr:a}})}function jC(r,e){const t=kn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $f(r,e){const t=kn(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Bs.getTargetData(i,e).next(c=>c?(a=c,xt.resolve(a)):t.Bs.allocateTargetId(i).next(f=>(a=new iu(e,f,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ji.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Bf(r,e,t){return jv.apply(this,arguments)}function jv(){return jv=(0,d.Z)(function*(r,e,t){const i=kn(r),a=i.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,f=>i.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!nh(f))throw f;mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(a.target)}),jv.apply(this,arguments)}function xg(r,e,t){const i=kn(r);let a=ur.min(),c=Hr();return i.persistence.runTransaction("Execute query","readonly",f=>function(E,R,U){const Q=kn(E),ke=Q.Yi.get(U);return void 0!==ke?xt.resolve(Q.Ji.get(ke)):Q.Bs.getTargetData(R,U)}(i,f,vo(e)).next(E=>{if(E)return a=E.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(f,E.targetId).next(R=>{c=R})}).next(()=>i.Hi.getDocumentsMatchingQuery(f,e,t?a:ur.min(),t?c:Hr())).next(E=>(m0(i,WE(e),E),{documents:E,ir:c})))}function p0(r,e){const t=kn(r),i=kn(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>i.le(c,e).next(f=>f?f.target:null))}function g0(r,e){const t=kn(r),i=t.Xi.get(e)||ur.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,vl(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(m0(t,e,a),a))}function m0(r,e,t){let i=r.Xi.get(e)||ur.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.Xi.set(e,i)}function Hv(){return Hv=(0,d.Z)(function*(r,e,t,i){const a=kn(r);let c=Hr(),f=Pa();for(const U of t){const Q=e.rr(U.metadata.name);U.document&&(c=c.add(Q));const ke=e.ur(U);ke.setReadTime(e.cr(U.metadata.readTime)),f=f.insert(Q,ke)}const E=a.Zi.newChangeBuffer({trackRemovals:!0}),R=yield $f(a,(U=i,vo(ch(fi.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>$b(U,E,f).next(Q=>(E.apply(U),Q)).next(Q=>a.Bs.removeMatchingKeysForTargetId(U,R.targetId).next(()=>a.Bs.addMatchingKeys(U,c,R.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,Q.nr,Q.sr)).next(()=>Q.nr)))}),Hv.apply(this,arguments)}function Ub(r,e){return zv.apply(this,arguments)}function zv(){return zv=(0,d.Z)(function*(r,e,t=Hr()){const i=yield $f(r,vo(Rv(e.bundledQuery))),a=kn(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const f=io(e.readTime);if(i.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(c,e);const E=i.withResumeToken(mo.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(E.targetId,E),a.Bs.updateTargetData(c,E).next(()=>a.Bs.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>a.Bs.addMatchingKeys(c,t,i.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),zv.apply(this,arguments)}function v0(r,e){return`firestore_clients_${r}_${e}`}function y0(r,e,t){let i=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ou(r,e){return`firestore_targets_${r}_${e}`}class Gv{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static ar(e,t,i){const a=JSON.parse(i);let c,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(c=new sn(a.error.code,a.error.message))),f?new Gv(e,t,a.state,c):(Hs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let a,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new sn(i.error.code,i.error.message))),c?new Pg(e,i.state,a):(Hs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class au{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,c=R_();for(let f=0;a&&f<i.activeTargetIds.length;++f)a=d_(i.activeTargetIds[f]),c=c.add(i.activeTargetIds[f]);return a?new au(e,c):(Hs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Vb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Vb(t.clientId,t.onlineState):(Hs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Og{constructor(){this.activeTargetIds=R_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jb{constructor(e,t,i,a,c){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ki(xr),this.started=!1,this.yr=[];const f=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=v0(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Og),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(E){return`firestore_bundle_loaded_v2_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const c=e.getItem(v0(e.persistenceKey,a));if(c){const f=au.ar(a,c);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const a=e.br(i);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ou(this.persistenceKey,e));if(i){const a=Pg.ar(e,i);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ou(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mn("SharedClientState","READ",e,t),t}setItem(e,t){mn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(mn("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Hs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const a=t.Or(i.key);return t.Fr(a,null)}{const a=t.Br(i.key,i.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const a=t.Lr(i.key,i.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const a=t.Ur(i.key,i.newValue);if(a)return t.Kr(a)}}else if(i.key===t.vr){if(null!==i.newValue){const a=t.br(i.newValue);if(a)return t.Vr(a)}}else if(i.key===t.Ir){const a=function(c){let f=Ra.ct;if(null!=c)try{const E=JSON.parse(c);or("number"==typeof E),f=E}catch(E){Hs("SharedClientState","Failed to read sequence number from WebStorage",E)}return f}(i.newValue);a!==Ra.ct&&t.sequenceNumberHandler(a)}else if(i.key===t.Rr){const a=t.Gr(i.newValue);yield Promise.all(a.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const a=new Gv(this.currentUser,e,t,i),c=y0(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const t=y0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const a=ou(this.persistenceKey,e),c=new Pg(e,t,i);this.setItem(a,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return au.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),a=Number(i[1]);return Gv.ar(new Do(void 0!==i[2]?i[2]:null),a,t)}Ur(e,t){const i=this.Ar.exec(e),a=Number(i[1]);return Pg.ar(a,t)}br(e){return Vb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,d.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(i),f=[],E=[];return c.forEach(R=>{a.has(R)||f.push(R)}),a.forEach(R=>{c.has(R)||E.push(R)}),this.syncEngine.Wr(f,E).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=R_();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class _0{constructor(){this.Hr=new Og,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Og,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hb{Yr(e){}shutdown(){}}class HC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lu=null;function I0(){return null===lu?lu=268435456+Math.round(2147483648*Math.random()):lu++,"0x"+lu.toString(16)}const zC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ws="WebChannelConnection";class WC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,a,c){const f=I0(),E=this.To(e,t);mn("RestConnection",`Sending RPC '${e}' ${f}:`,E,i);const R={};return this.Eo(R,a,c),this.Ao(e,E,R,i).then(U=>(mn("RestConnection",`Received RPC '${e}' ${f}: `,U),U),U=>{throw aa("RestConnection",`RPC '${e}' ${f} failed with error: `,U,"url: ",E,"request:",i),U})}vo(e,t,i,a,c,f){return this.Io(e,t,i,a,c)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${zC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,a){const c=I0();return new Promise((f,E)=>{const R=new Yp;R.setWithCredentials(!0),R.listenOnce(n_.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Wu.NO_ERROR:const Q=R.getResponseJson();mn(Ws,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case Wu.TIMEOUT:mn(Ws,`RPC '${e}' ${c} timed out`),E(new sn(kt.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const ke=R.getStatus();if(mn(Ws,`RPC '${e}' ${c} failed with status:`,ke,"response text:",R.getResponseText()),ke>0){let bt=R.getResponseJson();Array.isArray(bt)&&(bt=bt[0]);const Ft=null==bt?void 0:bt.error;if(Ft&&Ft.status&&Ft.message){const gn=function($n){const Vn=$n.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(Vn)>=0?Vn:kt.UNKNOWN}(Ft.status);E(new sn(gn,Ft.message))}else E(new sn(kt.UNKNOWN,"Server responded with status "+R.getStatus()))}else E(new sn(kt.UNAVAILABLE,"Connection failed."));break;default:Yn()}}finally{mn(Ws,`RPC '${e}' ${c} completed.`)}});const U=JSON.stringify(a);mn(Ws,`RPC '${e}' ${c} sending request:`,a),R.send(t,"POST",U,i,15)})}Ro(e,t,i){const a=I0(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=hf(),E=Kp(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(R.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(R.xmlHttpFactory=new xS({})),this.Eo(R.initMessageHeaders,t,i),R.encodeInitMessageHeaders=!0;const Q=c.join("");mn(Ws,`Creating RPC '${e}' stream ${a}: ${Q}`,R);const ke=f.createWebChannel(Q,R);let bt=!1,Ft=!1;const gn=new GC({ro:Vn=>{Ft?mn(Ws,`Not sending because RPC '${e}' stream ${a} is closed:`,Vn):(bt||(mn(Ws,`Opening RPC '${e}' stream ${a} transport.`),ke.open(),bt=!0),mn(Ws,`RPC '${e}' stream ${a} sending:`,Vn),ke.send(Vn))},oo:()=>ke.close()}),$n=(Vn,Lr,ci)=>{Vn.listen(Lr,Pr=>{try{ci(Pr)}catch(Es){setTimeout(()=>{throw Es},0)}})};return $n(ke,pf.EventType.OPEN,()=>{Ft||mn(Ws,`RPC '${e}' stream ${a} transport opened.`)}),$n(ke,pf.EventType.CLOSE,()=>{Ft||(Ft=!0,mn(Ws,`RPC '${e}' stream ${a} transport closed`),gn.wo())}),$n(ke,pf.EventType.ERROR,Vn=>{Ft||(Ft=!0,aa(Ws,`RPC '${e}' stream ${a} transport errored:`,Vn),gn.wo(new sn(kt.UNAVAILABLE,"The operation could not be completed")))}),$n(ke,pf.EventType.MESSAGE,Vn=>{var Lr;if(!Ft){const ci=Vn.data[0];or(!!ci);const Es=ci.error||(null===(Lr=ci[0])||void 0===Lr?void 0:Lr.error);if(Es){mn(Ws,`RPC '${e}' stream ${a} received error:`,Es);const Xi=Es.status;let Hi=function(Nh){const Ay=zs[Nh];if(void 0!==Ay)return wC(Ay)}(Xi),Uo=Es.message;void 0===Hi&&(Hi=kt.INTERNAL,Uo="Unknown error status: "+Xi+" with message "+Es.message),Ft=!0,gn.wo(new sn(Hi,Uo)),ke.close()}else mn(Ws,`RPC '${e}' stream ${a} received:`,ci),gn._o(ci)}}),$n(E,Qm.STAT_EVENT,Vn=>{Vn.stat===ff.PROXY?mn(Ws,`RPC '${e}' stream ${a} detected buffering proxy`):Vn.stat===ff.NOPROXY&&mn(Ws,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{gn.fo()},0),gn}}function Ng(){return typeof window<"u"?window:null}function Ch(){return typeof document<"u"?document:null}function Ro(r){return new SC(r,!0)}class zb{constructor(e,t,i=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-i);a>0&&mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class E0{constructor(e,t,i,a,c,f,E,R){this.ii=e,this.$o=i,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=E,this.listener=R,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,d.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===kt.RESOURCE_EXHAUSTED?(Hs(t.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===kt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Fo===t&&this.Zo(i,a)},i=>{e(()=>{const a=new sn(kt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(a)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{i(()=>this.tu(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gb extends E0{constructor(e,t,i,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function MC(r,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(R=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===R?1:"REMOVE"===R?2:"CURRENT"===R?3:"RESET"===R?4:Yn(),a=e.targetChange.targetIds||[],c=function(R,U){return R.useProto3Json?(or(void 0===U||"string"==typeof U),mo.fromBase64String(U||"")):(or(void 0===U||U instanceof Uint8Array),mo.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,E=f&&function(R){const U=void 0===R.code?kt.UNKNOWN:wC(R.code);return new sn(U,R.message||"")}(f);t=new fg(i,a,c,E||null)}else if("documentChange"in e){const i=e.documentChange,a=wc(r,i.document.name),c=io(i.document.updateTime),f=i.document.createTime?io(i.document.createTime):ur.min(),E=new So({mapValue:{fields:i.document.fields}}),R=ps.newFoundDocument(a,c,f,E);t=new id(i.targetIds||[],i.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const i=e.documentDelete,a=wc(r,i.document),c=i.readTime?io(i.readTime):ur.min(),f=ps.newNoDocument(a,c);t=new id([],i.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const i=e.documentRemove,a=wc(r,i.document);t=new id([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Yn();{const i=e.filter,{count:a=0,unchangedNames:c}=i,f=new tb(a,c);t=new bv(i.targetId,f)}}var R;return t}(this.serializer,e),i=function(a){if(!("targetChange"in a))return ur.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ur.min():c.readTime?io(c.readTime):ur.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=vg(this.serializer),t.addTarget=function(a,c){let f;const E=c.target;if(f=lh(E)?{documents:Cv(a,E)}:{query:z_(a,E)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=mg(a,c.resumeToken);const R=F_(a,c.expectedCount);null!==R&&(f.expectedCount=R)}else if(c.snapshotVersion.compareTo(ur.min())>0){f.readTime=sd(a,c.snapshotVersion.toTimestamp());const R=F_(a,c.expectedCount);null!==R&&(f.expectedCount=R)}return f}(this.serializer,e);const i=function Tv(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=vg(this.serializer),t.removeTarget=e,this.Wo(t)}}class qC extends E0{constructor(e,t,i,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(or(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function H_(r,e){return r&&r.length>0?(or(void 0!==e),r.map(t=>function(i,a){let c=io(i.updateTime?i.updateTime:a);return c.isEqual(ur.min())&&(c=io(a)),new hh(c,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=io(e.commitTime);return this.listener.cu(i,t)}return or(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>yg(this.serializer,i))};this.Wo(t)}}class Wb extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new sn(kt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,i,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new sn(kt.UNKNOWN,a.toString())})}vo(e,t,i,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,i,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new sn(kt.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class Kb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Hs(t),this.mu=!1):mn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class KC{constructor(e,t,i,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(E=>{i.enqueueAndForget((0,d.Z)(function*(){var R;fd(f)&&(mn("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,d.Z)(function*(U){const Q=kn(U);Q.vu.add(4),yield Dc(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield kg(Q)}),function(U){return R.apply(this,arguments)})(f))}))}),this.bu=new Kb(i,a)}}function kg(r){return b0.apply(this,arguments)}function b0(){return b0=(0,d.Z)(function*(r){if(fd(r))for(const e of r.Ru)yield e(!0)}),b0.apply(this,arguments)}function Dc(r){return w0.apply(this,arguments)}function w0(){return w0=(0,d.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),w0.apply(this,arguments)}function qv(r,e){const t=kn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yv(t)?Kv(t):Sh(t).Ko()&&Uf(t,e))}function Lg(r,e){const t=kn(r),i=Sh(t);t.Au.delete(e),i.Ko()&&D0(t,e),0===t.Au.size&&(i.Ko()?i.jo():fd(t)&&t.bu.set("Unknown"))}function Uf(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ur.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sh(r).su(e)}function D0(r,e){r.Vu.qt(e),Sh(r).iu(e)}function Kv(r){r.Vu=new pg({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Sh(r).start(),r.bu.gu()}function Yv(r){return fd(r)&&!Sh(r).Uo()&&r.Au.size>0}function fd(r){return 0===kn(r).vu.size}function Vf(r){r.Vu=void 0}function Fg(r){return C0.apply(this,arguments)}function C0(){return C0=(0,d.Z)(function*(r){r.Au.forEach((e,t)=>{Uf(r,e)})}),C0.apply(this,arguments)}function YC(r,e){return T0.apply(this,arguments)}function T0(){return T0=(0,d.Z)(function*(r,e){Vf(r),Yv(r)?(r.bu.Iu(e),Kv(r)):r.bu.set("Unknown")}),T0.apply(this,arguments)}function Yb(r,e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,d.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof fg&&2===e.state&&e.cause)try{yield(i=(0,d.Z)(function*(a,c){const f=c.cause;for(const E of c.targetIds)a.Au.has(E)&&(yield a.remoteSyncer.rejectListen(E,f),a.Au.delete(E),a.Vu.removeTarget(E))}),function(a,c){return i.apply(this,arguments)})(r,e)}catch(i){mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield $g(r,i)}else if(e instanceof id?r.Vu.Ht(e):e instanceof bv?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(ur.min()))try{const i=yield Fb(r.localStore);t.compareTo(i)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((E,R)=>{if(E.resumeToken.approximateByteSize()>0){const U=a.Au.get(R);U&&a.Au.set(R,U.withResumeToken(E.resumeToken,c))}}),f.targetMismatches.forEach((E,R)=>{const U=a.Au.get(E);if(!U)return;a.Au.set(E,U.withResumeToken(mo.EMPTY_BYTE_STRING,U.snapshotVersion)),D0(a,E);const Q=new iu(U.target,E,R,U.sequenceNumber);Uf(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(i){mn("RemoteStore","Failed to raise snapshot:",i),yield $g(r,i)}var i}),Zv.apply(this,arguments)}function $g(r,e,t){return S0.apply(this,arguments)}function S0(){return S0=(0,d.Z)(function*(r,e,t){if(!nh(e))throw e;r.vu.add(1),yield Dc(r),r.bu.set("Offline"),t||(t=()=>Fb(r.localStore)),r.asyncQueue.enqueueRetryable((0,d.Z)(function*(){mn("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield kg(r)}))}),S0.apply(this,arguments)}function A0(r,e){return e().catch(t=>$g(r,t,e))}function jf(r){return M0.apply(this,arguments)}function M0(){return M0=(0,d.Z)(function*(r){const e=kn(r),t=pd(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;kS(e);)try{const a=yield jC(e.localStore,i);if(null===a){0===e.Eu.length&&t.jo();break}i=a.batchId,LS(e,a)}catch(a){yield $g(e,a)}ZC(e)&&XC(e)}),M0.apply(this,arguments)}function kS(r){return fd(r)&&r.Eu.length<10}function LS(r,e){r.Eu.push(e);const t=pd(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function ZC(r){return fd(r)&&!pd(r).Uo()&&r.Eu.length>0}function XC(r){pd(r).start()}function Zb(r){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,d.Z)(function*(r){pd(r).hu()}),Hf.apply(this,arguments)}function QC(r){return R0.apply(this,arguments)}function R0(){return R0=(0,d.Z)(function*(r){const e=pd(r);for(const t of r.Eu)e.uu(t.mutations)}),R0.apply(this,arguments)}function Xb(r,e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,d.Z)(function*(r,e,t){const i=r.Eu.shift(),a=_v.from(i,e,t);yield A0(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield jf(r)}),Th.apply(this,arguments)}function JC(r,e){return x0.apply(this,arguments)}function x0(){return x0=(0,d.Z)(function*(r,e){var t;e&&pd(r).ou&&(yield(t=(0,d.Z)(function*(i,a){if(nb(c=a.code)&&c!==kt.ABORTED){const f=i.Eu.shift();pd(i).Qo(),yield A0(i,()=>i.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield jf(i)}var c}),function(i,a){return t.apply(this,arguments)})(r,e)),ZC(r)&&XC(r)}),x0.apply(this,arguments)}function Qb(r,e){return P0.apply(this,arguments)}function P0(){return P0=(0,d.Z)(function*(r,e){const t=kn(r);t.asyncQueue.verifyOperationInProgress(),mn("RemoteStore","RemoteStore received new credentials");const i=fd(t);t.vu.add(3),yield Dc(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kg(t)}),P0.apply(this,arguments)}function Jb(r,e){return O0.apply(this,arguments)}function O0(){return O0=(0,d.Z)(function*(r,e){const t=kn(r);e?(t.vu.delete(2),yield kg(t)):e||(t.vu.add(2),yield Dc(t),t.bu.set("Unknown"))}),O0.apply(this,arguments)}function Sh(r){return r.Su||(r.Su=function(e,t,i){const a=kn(e);return a.fu(),new Gb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{uo:Fg.bind(null,r),ao:YC.bind(null,r),nu:Yb.bind(null,r)}),r.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(r.Su.Qo(),Yv(r)?Kv(r):r.bu.set("Unknown")):(yield r.Su.stop(),Vf(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function pd(r){return r.Du||(r.Du=function(e,t,i){const a=kn(e);return a.fu(),new qC(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{uo:Zb.bind(null,r),ao:JC.bind(null,r),au:QC.bind(null,r),cu:Xb.bind(null,r)}),r.Ru.push(function(){var e=(0,d.Z)(function*(t){t?(r.Du.Qo(),yield jf(r)):(yield r.Du.stop(),r.Eu.length>0&&(mn("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class N0{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,i,a,c){const f=Date.now()+i,E=new N0(e,t,f,a,c);return E.start(i),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(r,e){if(Hs("AsyncQueue",`${e}: ${r}`),nh(r))return new sn(kt.UNAVAILABLE,`${e}: ${r}`);throw r}class zf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ln.comparator(t.key,i.key):(t,i)=>Ln.comparator(t.key,i.key),this.keyedMap=lg(),this.sortedSet=new Ki(this.comparator)}static emptySet(e){return new zf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new zf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class k0{constructor(){this.Cu=new Ki(Ln.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Yn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gf{constructor(e,t,i,a,c,f,E,R,U){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=E,this.excludesMetadataChanges=R,this.hasCachedResults=U}static fromInitialDocuments(e,t,i,a,c){const f=[];return t.forEach(E=>{f.push({type:0,doc:E})}),new Gf(e,t,zf.emptySet(t),f,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class ew{constructor(){this.Nu=void 0,this.listeners=[]}}class eT{constructor(){this.queries=new nu(e=>GE(e),Sf),this.onlineState="Unknown",this.ku=new Set}}function Xv(r,e){return L0.apply(this,arguments)}function L0(){return L0=(0,d.Z)(function*(r,e){const t=kn(r),i=e.query;let a=!1,c=t.queries.get(i);if(c||(a=!0,c=new ew),a)try{c.Nu=yield t.onListen(i)}catch(f){const E=Cc(f,`Initialization of query '${A_(e.query)}' failed`);return void e.onError(E)}t.queries.set(i,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&$0(t)}),L0.apply(this,arguments)}function Bg(r,e){return F0.apply(this,arguments)}function F0(){return F0=(0,d.Z)(function*(r,e){const t=kn(r),i=e.query;let a=!1;const c=t.queries.get(i);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),F0.apply(this,arguments)}function tw(r,e){const t=kn(r);let i=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const E of f.listeners)E.$u(a)&&(i=!0);f.Nu=a}}i&&$0(t)}function nw(r,e,t){const i=kn(r),a=i.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);i.queries.delete(e)}function $0(r){r.ku.forEach(e=>{e.next()})}class B0{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Gf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class tT{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Qv{constructor(e){this.serializer=e}rr(e){return wc(this.serializer,e)}ur(e){return e.metadata.exists?V_(this.serializer,e.document,!1):ps.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return io(e)}}class nT{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=U0(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=fi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new Qv(this.serializer);for(const a of e)if(a.metadata.queries){const c=i.rr(a.metadata.name);for(const f of a.metadata.queries){const E=(t.get(f)||Hr()).add(c);t.set(f,E)}}return t}complete(){var e=this;return(0,d.Z)(function*(){const t=yield function Bb(r,e,t,i){return Hv.apply(this,arguments)}(e.localStore,new Qv(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const a of e.queries)yield Ub(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function U0(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class rw{constructor(e){this.key=e}}class iw{constructor(e){this.key=e}}class sw{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hr(),this.mutatedKeys=Hr(),this.tc=qE(e),this.ec=new zf(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new k0,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,E=!1;const R="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,ke)=>{const bt=a.get(Q),Ft=tu(this.query,ke)?ke:null,gn=!!bt&&this.mutatedKeys.has(bt.key),$n=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Vn=!1;bt&&Ft?bt.data.isEqual(Ft.data)?gn!==$n&&(i.track({type:3,doc:Ft}),Vn=!0):this.rc(bt,Ft)||(i.track({type:2,doc:Ft}),Vn=!0,(R&&this.tc(Ft,R)>0||U&&this.tc(Ft,U)<0)&&(E=!0)):!bt&&Ft?(i.track({type:0,doc:Ft}),Vn=!0):bt&&!Ft&&(i.track({type:1,doc:bt}),Vn=!0,(R||U)&&(E=!0)),Vn&&(Ft?(f=f.add(Ft),c=$n?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),i.track({type:1,doc:Q})}return{ec:f,ic:i,zi:E,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((U,Q)=>function(ke,bt){const Ft=gn=>{switch(gn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yn()}};return Ft(ke)-Ft(bt)}(U.type,Q.type)||this.tc(U.doc,Q.doc)),this.oc(i);const f=t?this.uc():[],E=0===this.Zu.size&&this.current?1:0,R=E!==this.Xu;return this.Xu=E,0!==c.length||R?{snapshot:new Gf(this.query,e.ec,a,c,e.mutatedKeys,0===E,R,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new k0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Hr(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new iw(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new rw(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Hr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Gf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rT{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iT{constructor(e){this.key=e,this.fc=!1}}class sT{constructor(e,t,i,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new nu(E=>GE(E),Sf),this._c=new Map,this.mc=new Set,this.gc=new Ki(Ln.comparator),this.yc=new Map,this.Ic=new o0,this.Tc={},this.Ec=new Map,this.Ac=Qo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function oT(r,e){return V0.apply(this,arguments)}function V0(){return V0=(0,d.Z)(function*(r,e){const t=nI(r);let i,a;const c=t.wc.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),a=c.view.lc();else{const f=yield $f(t.localStore,vo(e)),E=t.sharedClientState.addLocalQueryTarget(f.targetId);i=f.targetId,a=yield Jv(t,e,i,"current"===E,f.resumeToken),t.isPrimaryClient&&qv(t.remoteStore,f)}return a}),V0.apply(this,arguments)}function Jv(r,e,t,i,a){return ey.apply(this,arguments)}function ey(){return ey=(0,d.Z)(function*(r,e,t,i,a){r.Rc=(ke,bt,Ft)=>{return(gn=(0,d.Z)(function*($n,Vn,Lr,ci){let Pr=Vn.view.sc(Lr);Pr.zi&&(Pr=yield xg($n.localStore,Vn.query,!1).then(({documents:Hi})=>Vn.view.sc(Hi,Pr)));const Es=ci&&ci.targetChanges.get(Vn.targetId),Xi=Vn.view.applyChanges(Pr,$n.isPrimaryClient,Es);return dw($n,Vn.targetId,Xi.cc),Xi.snapshot}),function($n,Vn,Lr,ci){return gn.apply(this,arguments)})(r,ke,bt,Ft);var gn};const c=yield xg(r.localStore,e,!0),f=new sw(e,c.ir),E=f.sc(c.documents),R=yh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==r.onlineState,a),U=f.applyChanges(E,r.isPrimaryClient,R);dw(r,t,U.cc);const Q=new rT(e,t,f);return r.wc.set(e,Q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),U.snapshot}),ey.apply(this,arguments)}function aT(r,e){return j0.apply(this,arguments)}function j0(){return j0=(0,d.Z)(function*(r,e){const t=kn(r),i=t.wc.get(e),a=t._c.get(i.targetId);if(a.length>1)return t._c.set(i.targetId,a.filter(c=>!Sf(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Lg(t.remoteStore,i.targetId),Ah(t,i.targetId)}).catch(Ku))):(Ah(t,i.targetId),yield Bf(t.localStore,i.targetId,!0))}),j0.apply(this,arguments)}function H0(){return H0=(0,d.Z)(function*(r,e,t){const i=rI(r);try{const a=yield function(c,f){const E=kn(c),R=os.now(),U=f.reduce((bt,Ft)=>bt.add(Ft.key),Hr());let Q,ke;return E.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let Ft=Pa(),gn=Hr();return E.Zi.getEntries(bt,U).next($n=>{Ft=$n,Ft.forEach((Vn,Lr)=>{Lr.isValidDocument()||(gn=gn.add(Vn))})}).next(()=>E.localDocuments.getOverlayedDocuments(bt,Ft)).next($n=>{Q=$n;const Vn=[];for(const Lr of f){const ci=xf(Lr,Q.get(Lr.key).overlayedDocument);null!=ci&&Vn.push(new Oa(Lr.key,ci,FE(ci.value.mapValue),Yi.exists(!0)))}return E.mutationQueue.addMutationBatch(bt,R,Vn,f)}).next($n=>{ke=$n;const Vn=$n.applyToLocalDocumentSet(Q,gn);return E.documentOverlayCache.saveOverlays(bt,$n.batchId,Vn)})}).then(()=>({batchId:ke.batchId,changes:M_(Q)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,E){let R=c.Tc[c.currentUser.toKey()];R||(R=new Ki(xr)),R=R.insert(f,E),c.Tc[c.currentUser.toKey()]=R}(i,a.batchId,t),yield uu(i,a.changes),yield jf(i.remoteStore)}catch(a){const c=Cc(a,"Failed to persist write");t.reject(c)}}),H0.apply(this,arguments)}function aw(r,e){return z0.apply(this,arguments)}function z0(){return z0=(0,d.Z)(function*(r,e){const t=kn(r);try{const i=yield function VC(r,e){const t=kn(r),i=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const E=[];e.targetChanges.forEach((Q,ke)=>{const bt=a.get(ke);if(!bt)return;E.push(t.Bs.removeMatchingKeys(c,Q.removedDocuments,ke).next(()=>t.Bs.addMatchingKeys(c,Q.addedDocuments,ke)));let Ft=bt.withSequenceNumber(c.currentSequenceNumber);var gn,$n,Vn;null!==e.targetMismatches.get(ke)?Ft=Ft.withResumeToken(mo.EMPTY_BYTE_STRING,ur.min()).withLastLimboFreeSnapshotVersion(ur.min()):Q.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(Q.resumeToken,i)),a=a.insert(ke,Ft),$n=Ft,Vn=Q,(0===(gn=bt).resumeToken.approximateByteSize()||$n.snapshotVersion.toMicroseconds()-gn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&E.push(t.Bs.updateTargetData(c,Ft))});let R=Pa(),U=Hr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),E.push($b(c,f,e.documentUpdates).next(Q=>{R=Q.nr,U=Q.sr})),!i.isEqual(ur.min())){const Q=t.Bs.getLastRemoteSnapshotVersion(c).next(ke=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,i));E.push(Q)}return xt.waitFor(E).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,R,U)).next(()=>R)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(or(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?or(f.fc):a.removedDocuments.size>0&&(or(f.fc),f.fc=!1))}),yield uu(t,i,e)}catch(i){yield Ku(i)}}),z0.apply(this,arguments)}function lw(r,e,t){const i=kn(r);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.wc.forEach((c,f)=>{const E=f.view.Mu(e);E.snapshot&&a.push(E.snapshot)}),function(c,f){const E=kn(c);E.onlineState=f;let R=!1;E.queries.forEach((U,Q)=>{for(const ke of Q.listeners)ke.Mu(f)&&(R=!0)}),R&&$0(E)}(i.eventManager,e),a.length&&i.dc.nu(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function G0(r,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,d.Z)(function*(r,e,t){const i=kn(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.yc.get(e),c=a&&a.key;if(c){let f=new Ki(Ln.comparator);f=f.insert(c,ps.newNoDocument(c,ur.min()));const E=Hr().add(c),R=new hg(ur.min(),new Map,new Ki(xr),f,E);yield aw(i,R),i.gc=i.gc.remove(c),i.yc.delete(e),jg(i)}else yield Bf(i.localStore,e,!1).then(()=>Ah(i,e,t)).catch(Ku)}),Ug.apply(this,arguments)}function cw(r,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,d.Z)(function*(r,e){const t=kn(r),i=e.batch.batchId;try{const a=yield function UC(r,e){const t=kn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,E,R,U){const Q=R.batch,ke=Q.keys();let bt=xt.resolve();return ke.forEach(Ft=>{bt=bt.next(()=>U.getEntry(E,Ft)).next(gn=>{const $n=R.docVersions.get(Ft);or(null!==$n),gn.version.compareTo($n)<0&&(Q.applyToRemoteDocument(gn,R),gn.isValidDocument()&&(gn.setReadTime(R.commitVersion),U.addEntry(gn)))})}),bt.next(()=>f.mutationQueue.removeMutationBatch(E,Q))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let E=Hr();for(let R=0;R<f.mutationResults.length;++R)f.mutationResults[R].transformResults.length>0&&(E=E.add(f.batch.mutations[R].key));return E}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);cu(t,i,null),ty(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield uu(t,a)}catch(a){yield Ku(a)}}),Vg.apply(this,arguments)}function lT(r,e,t){return W0.apply(this,arguments)}function W0(){return W0=(0,d.Z)(function*(r,e,t){const i=kn(r);try{const a=yield function(c,f){const E=kn(c);return E.persistence.runTransaction("Reject batch","readwrite-primary",R=>{let U;return E.mutationQueue.lookupMutationBatch(R,f).next(Q=>(or(null!==Q),U=Q.keys(),E.mutationQueue.removeMutationBatch(R,Q))).next(()=>E.mutationQueue.performConsistencyCheck(R)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(R,U,f)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(R,U)).next(()=>E.localDocuments.getDocuments(R,U))})}(i.localStore,e);cu(i,e,t),ty(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield uu(i,a)}catch(a){yield Ku(a)}}),W0.apply(this,arguments)}function K0(){return K0=(0,d.Z)(function*(r,e){const t=kn(r);fd(t.remoteStore)||mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(c){const f=kn(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>f.mutationQueue.getHighestUnacknowledgedBatchId(E))}(t.localStore);if(-1===i)return void e.resolve();const a=t.Ec.get(i)||[];a.push(e),t.Ec.set(i,a)}catch(i){const a=Cc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),K0.apply(this,arguments)}function ty(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function cu(r,e,t){const i=kn(r);let a=i.Tc[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Tc[i.currentUser.toKey()]=a}}function Ah(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r._c.get(e))r.wc.delete(i),t&&r.dc.Pc(i,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(i=>{r.Ic.containsKey(i)||uw(r,i)})}function uw(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Lg(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),jg(r))}function dw(r,e,t){for(const i of t)i instanceof rw?(r.Ic.addReference(i.key,e),Y0(r,i)):i instanceof iw?(mn("SyncEngine","Document no longer in limbo: "+i.key),r.Ic.removeReference(i.key,e),r.Ic.containsKey(i.key)||uw(r,i.key)):Yn()}function Y0(r,e){const t=e.key,i=t.path.canonicalString();r.gc.get(t)||r.mc.has(i)||(mn("SyncEngine","New document in limbo: "+t),r.mc.add(i),jg(r))}function jg(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Ln(fi.fromString(e)),i=r.Ac.next();r.yc.set(i,new iT(t)),r.gc=r.gc.insert(t,i),qv(r.remoteStore,new iu(vo(ch(t.path)),i,"TargetPurposeLimboResolution",Ra.ct))}}function uu(r,e,t){return ny.apply(this,arguments)}function ny(){return ny=(0,d.Z)(function*(r,e,t){const i=kn(r),a=[],c=[],f=[];var E;i.wc.isEmpty()||(i.wc.forEach((E,R)=>{f.push(i.Rc(R,e,t).then(U=>{if((U||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(R.targetId,null!=U&&U.fromCache?"not-current":"current"),U){a.push(U);const Q=h0.Li(R.targetId,U);c.push(Q)}}))}),yield Promise.all(f),i.dc.nu(a),yield(E=(0,d.Z)(function*(R,U){const Q=kn(R);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>xt.forEach(U,bt=>xt.forEach(bt.Fi,Ft=>Q.persistence.referenceDelegate.addReference(ke,bt.targetId,Ft)).next(()=>xt.forEach(bt.Bi,Ft=>Q.persistence.referenceDelegate.removeReference(ke,bt.targetId,Ft)))))}catch(ke){if(!nh(ke))throw ke;mn("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of U){const bt=ke.targetId;if(!ke.fromCache){const Ft=Q.Ji.get(bt),$n=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);Q.Ji=Q.Ji.insert(bt,$n)}}}),function(R,U){return E.apply(this,arguments)})(i.localStore,c))}),ny.apply(this,arguments)}function hw(r,e){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,d.Z)(function*(r,e){const t=kn(r);if(!t.currentUser.isEqual(e)){mn("SyncEngine","User change. New user:",e.toKey());const i=yield Lb(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(E=>{E.reject(new sn(kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield uu(t,i.er)}var a}),Z0.apply(this,arguments)}function fw(r,e){const t=kn(r),i=t.yc.get(e);if(i&&i.fc)return Hr().add(i.key);{let a=Hr();const c=t._c.get(e);if(!c)return a;for(const f of c){const E=t.wc.get(f);a=a.unionWith(E.view.nc)}return a}}function X0(r,e){return ry.apply(this,arguments)}function ry(){return ry=(0,d.Z)(function*(r,e){const t=kn(r),i=yield xg(t.localStore,e.query,!0),a=e.view.hc(i);return t.isPrimaryClient&&dw(t,e.targetId,a.cc),a}),ry.apply(this,arguments)}function pw(r,e){return iy.apply(this,arguments)}function iy(){return iy=(0,d.Z)(function*(r,e){const t=kn(r);return g0(t.localStore,e).then(i=>uu(t,i))}),iy.apply(this,arguments)}function gw(r,e,t,i){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,d.Z)(function*(r,e,t,i){const a=kn(r),c=yield function(f,E){const R=kn(f),U=kn(R.mutationQueue);return R.persistence.runTransaction("Lookup mutation documents","readonly",Q=>U.Sn(Q,E).next(ke=>ke?R.localDocuments.getDocuments(Q,ke):xt.resolve(null)))}(a.localStore,e);var E;null!==c?("pending"===t?yield jf(a.remoteStore):"acknowledged"===t||"rejected"===t?(cu(a,e,i||null),ty(a,e),E=e,kn(kn(a.localStore).mutationQueue).Cn(E)):Yn(),yield uu(a,c)):mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Q0.apply(this,arguments)}function J0(){return J0=(0,d.Z)(function*(r,e){const t=kn(r);if(nI(t),rI(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield mw(t,i.toArray());t.vc=!0,yield Jb(t.remoteStore,!0);for(const c of a)qv(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const i=[];let a=Promise.resolve();t._c.forEach((c,f)=>{t.sharedClientState.isLocalQueryTarget(f)?i.push(f):a=a.then(()=>(Ah(t,f),Bf(t.localStore,f,!0))),Lg(t.remoteStore,f)}),yield a,yield mw(t,i),function(c){const f=kn(c);f.yc.forEach((E,R)=>{Lg(f.remoteStore,R)}),f.Ic.Ts(),f.yc=new Map,f.gc=new Ki(Ln.comparator)}(t),t.vc=!1,yield Jb(t.remoteStore,!1)}}),J0.apply(this,arguments)}function mw(r,e,t){return sy.apply(this,arguments)}function sy(){return sy=(0,d.Z)(function*(r,e,t){const i=kn(r),a=[],c=[];for(const f of e){let E;const R=i._c.get(f);if(R&&0!==R.length){E=yield $f(i.localStore,vo(R[0]));for(const U of R){const Q=i.wc.get(U),ke=yield X0(i,Q);ke.snapshot&&c.push(ke.snapshot)}}else{const U=yield p0(i.localStore,f);E=yield $f(i.localStore,U),yield Jv(i,uT(U),f,!1,E.resumeToken)}a.push(E)}return i.dc.nu(c),a}),sy.apply(this,arguments)}function uT(r){return zE(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function vw(r){const e=kn(r);return kn(kn(e.localStore).persistence).$i()}function dT(r,e,t,i){return eI.apply(this,arguments)}function eI(){return eI=(0,d.Z)(function*(r,e,t,i){const a=kn(r);if(a.vc)return void mn("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const f=yield g0(a.localStore,WE(c[0])),E=hg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,mo.EMPTY_BYTE_STRING);yield uu(a,f,E);break}case"rejected":yield Bf(a.localStore,e,!0),Ah(a,e,i);break;default:Yn()}}),eI.apply(this,arguments)}function FS(r,e,t){return tI.apply(this,arguments)}function tI(){return tI=(0,d.Z)(function*(r,e,t){const i=nI(r);if(i.vc){for(const a of e){if(i._c.has(a)){mn("SyncEngine","Adding an already active target "+a);continue}const c=yield p0(i.localStore,a),f=yield $f(i.localStore,c);yield Jv(i,uT(c),f.targetId,!1,f.resumeToken),qv(i.remoteStore,f)}for(const a of t)i._c.has(a)&&(yield Bf(i.localStore,a,!1).then(()=>{Lg(i.remoteStore,a),Ah(i,a)}).catch(Ku))}}),tI.apply(this,arguments)}function nI(r){const e=kn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G0.bind(null,e),e.dc.nu=tw.bind(null,e.eventManager),e.dc.Pc=nw.bind(null,e.eventManager),e}function rI(r){const e=kn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lT.bind(null,e),e}class Hg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.serializer=Ro(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kb(this.persistence,new Nb,e.initialUser,this.serializer)}createPersistence(e){return new Uv(Ag.zs,this.serializer)}createSharedClientState(e){return new _0}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iI extends Hg{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,d.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield rI(i.Vc.syncEngine),yield jf(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kb(this.persistence,new Nb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new n0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new u_(t,this.persistence);return new eC(e.asyncQueue,i)}createPersistence(e){const t=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new u0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Ng(),Ch(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _0}}class yw extends iI{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,d.Z)(function*(){yield t().call(i,e);const a=i.Vc.syncEngine;i.sharedClientState instanceof jb&&(i.sharedClientState.syncEngine={jr:gw.bind(null,a),zr:dT.bind(null,a),Wr:FS.bind(null,a),$i:vw.bind(null,a),Qr:pw.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var c=(0,d.Z)(function*(f){yield function cT(r,e){return J0.apply(this,arguments)}(i.Vc.syncEngine,f),i.gcScheduler&&(f&&!i.gcScheduler.started?i.gcScheduler.start():f||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(f&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():f||i.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Ng();if(!jb.D(t))throw new sn(kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Wf{initialize(e,t){var i=this;return(0,d.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>lw(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=hw.bind(null,i.syncEngine),yield Jb(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eT}createDatastore(e){const t=Ro(e.databaseInfo.databaseId),i=new WC(e.databaseInfo);return new Wb(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,c=E=>lw(this.syncEngine,E,0),f=HC.D()?new HC:new Hb,new KC(t,i,a,c,f);var t,i,a,c,f}createSyncEngine(e,t){return function(i,a,c,f,E,R,U){const Q=new sT(i,a,c,f,E,R);return U&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const i=kn(t);mn("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Dc(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _w(r,e=10240){let t=0;return{read:()=>(0,d.Z)(function*(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class pT{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new go,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),a=Number(i);isNaN(a)&&e.Mc(`length string (${i}) is not valid number`);const c=yield e.$c(a);return new tT(JSON.parse(c),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,d.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class zg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,d.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new sn(kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,d.Z)(function*(c,f){const E=kn(c),R=vg(E.serializer)+"/documents",U={documents:f.map(Ft=>_h(E.serializer,Ft))},Q=yield E.vo("BatchGetDocuments",R,U,f.length),ke=new Map;Q.forEach(Ft=>{const gn=function AC(r,e){return"found"in e?function(t,i){or(!!i.found);const a=wc(t,i.found.name),c=io(i.found.updateTime),f=i.found.createTime?io(i.found.createTime):ur.min(),E=new So({mapValue:{fields:i.found.fields}});return ps.newFoundDocument(a,c,f,E)}(r,e):"missing"in e?function(t,i){or(!!i.missing),or(!!i.readTime);const a=wc(t,i.missing),c=io(i.readTime);return ps.newNoDocument(a,c)}(r,e):Yn()}(E.serializer,Ft);ke.set(gn.key.toString(),gn)});const bt=[];return f.forEach(Ft=>{const gn=ke.get(Ft.toString());or(!!gn),bt.push(gn)}),bt}),function(c,f){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const c=Ln.fromPath(a);e.mutations.push(new vv(c,e.precondition(c)))}),yield(i=(0,d.Z)(function*(a,c){const f=kn(a),E=vg(f.serializer)+"/documents",R={writes:c.map(U=>yg(f.serializer,U))};yield f.Io("Commit",E,R)}),function(a,c){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yn();t=ur.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new sn(kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ur.min())?Yi.exists(!1):Yi.updateTime(t):Yi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ur.min()))throw new sn(kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yi.updateTime(t)}return Yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Iw{constructor(e,t,i,a,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=c,this.Bc=i.maxAttempts,this.qo=new zb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const t=new zg(e.datastore),i=e.qc(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!_f(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!nb(t)}return!1}}class Ew{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Do.UNAUTHENTICATED,this.clientId=IE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var f=(0,d.Z)(function*(E){mn("FirestoreClient","Received user=",E.uid),yield c.authCredentialListener(E),c.user=E});return function(E){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(i,f=>(mn("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Cc(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Gg(r,e){return ay.apply(this,arguments)}function ay(){return ay=(0,d.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),mn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,d.Z)(function*(c){i.isEqual(c)||(yield Lb(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),ay.apply(this,arguments)}function ly(r,e){return sI.apply(this,arguments)}function sI(){return sI=(0,d.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield ww(r);mn("FirestoreClient","Initializing OnlineComponentProvider");const i=yield r.getConfiguration();yield e.initialize(t,i),r.setCredentialChangeListener(a=>Qb(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>Qb(e.remoteStore,c)),r._onlineComponents=e}),sI.apply(this,arguments)}function bw(r){return"FirebaseError"===r.name?r.code===kt.FAILED_PRECONDITION||r.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function ww(r){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,d.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!bw(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),yield Gg(r,new Hg)}}else mn("FirestoreClient","Using default OfflineComponentProvider"),yield Gg(r,new Hg);return r._offlineComponents}),Dw.apply(this,arguments)}function cy(r){return oI.apply(this,arguments)}function oI(){return oI=(0,d.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mn("FirestoreClient","Using user provided OnlineComponentProvider"),yield ly(r,r._uninitializedComponentsProvider._online)):(mn("FirestoreClient","Using default OnlineComponentProvider"),yield ly(r,new Wf))),r._onlineComponents}),oI.apply(this,arguments)}function Cw(r){return ww(r).then(e=>e.persistence)}function uy(r){return ww(r).then(e=>e.localStore)}function Tw(r){return cy(r).then(e=>e.remoteStore)}function Mh(r){return cy(r).then(e=>e.syncEngine)}function gd(r){return aI.apply(this,arguments)}function aI(){return aI=(0,d.Z)(function*(r){const e=yield cy(r),t=e.eventManager;return t.onListen=oT.bind(null,e.syncEngine),t.onUnlisten=aT.bind(null,e.syncEngine),t}),aI.apply(this,arguments)}function qf(r,e,t={}){const i=new go;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,f,E,R){const U=new oy({next:ke=>{c.enqueueAndForget(()=>Bg(a,Q));const bt=ke.docs.has(f);!bt&&ke.fromCache?R.reject(new sn(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&ke.fromCache&&E&&"server"===E.source?R.reject(new sn(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):R.resolve(ke)},error:ke=>R.reject(ke)}),Q=new B0(ch(f.path),U,{includeMetadataChanges:!0,Ku:!0});return Xv(a,Q)}(yield gd(r),r.asyncQueue,e,t,i)})),i.promise}function Aw(r,e,t={}){const i=new go;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(a,c,f,E,R){const U=new oy({next:ke=>{c.enqueueAndForget(()=>Bg(a,Q)),ke.fromCache&&"server"===E.source?R.reject(new sn(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):R.resolve(ke)},error:ke=>R.reject(ke)}),Q=new B0(f,U,{includeMetadataChanges:!0,Ku:!0});return Xv(a,Q)}(yield gd(r),r.asyncQueue,e,t,i)})),i.promise}function lI(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Wg=new Map;function cI(r,e,t){if(!t)throw new sn(kt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Rw(r,e,t,i){if(!0===e&&!0===i)throw new sn(kt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function uI(r){if(!Ln.isDocumentKey(r))throw new sn(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xw(r){if(Ln.isDocumentKey(r))throw new sn(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hy(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Yn()}function si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new sn(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hy(r);throw new sn(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function qg(r,e){if(e<=0)throw new sn(kt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Pw{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lI(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new sn(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new sn(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new sn(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kg{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sn(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PS;switch(t.type){case"firstParty":return new gf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new sn(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wg.get(e);t&&(mn("ComponentProvider","Removing Datastore"),Wg.delete(e),t.terminate())}(this),Promise.resolve()}}function dI(r,e,t,i={}){var a;const c=(r=si(r,Kg))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),i.mockUserToken){let E,R;if("string"==typeof i.mockUserToken)E=i.mockUserToken,R=Do.MOCK_USER;else{E=(0,g.Sg)(i.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=i.mockUserToken.sub||i.mockUserToken.user_id;if(!U)throw new sn(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Do(U)}r._authCredentials=new qD(new s_(E,R))}}class ls{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ls(this.firestore,e,this._key)}}class yo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class ql extends yo{constructor(e,t,i){super(e,t,ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ls(this.firestore,null,new Ln(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function Ow(r,e,...t){if(r=(0,g.m9)(r),cI("collection","path",e),r instanceof Kg){const i=fi.fromString(e,...t);return xw(i),new ql(r,null,i)}{if(!(r instanceof ls||r instanceof ql))throw new sn(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(fi.fromString(e,...t));return xw(i),new ql(r.firestore,null,i)}}function Kf(r,e,...t){if(r=(0,g.m9)(r),1===arguments.length&&(e=IE.A()),cI("doc","path",e),r instanceof Kg){const i=fi.fromString(e,...t);return uI(i),new ls(r,null,new Ln(i))}{if(!(r instanceof ls||r instanceof ql))throw new sn(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(fi.fromString(e,...t));return uI(i),new ls(r.firestore,r instanceof ql?r.converter:null,new Ln(i))}}function kw(r,e){return r=(0,g.m9)(r),e=(0,g.m9)(e),(r instanceof ls||r instanceof ql)&&(e instanceof ls||e instanceof ql)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function hI(r,e){return r=(0,g.m9)(r),e=(0,g.m9)(e),r instanceof yo&&e instanceof yo&&r.firestore===e.firestore&&Sf(r._query,e._query)&&r.converter===e.converter}class fI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zb(this,"async_queue_retry"),this.Xc=()=>{const t=Ch();t&&mn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new go;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!nh(t))throw t;mn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Hs("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=N0.createAndSchedule(this,e,t,i,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Yn()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Yg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(r)}class Lw{constructor(){this._progressObserver={},this._taskCompletionResolver=new go,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zi extends Kg{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new fI,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fw(this),this._firestoreClient.terminate()}}function _T(r,e){const t="object"==typeof r?r:(0,Uc.getApp)(),i="string"==typeof r?r:e||"(default)",a=(0,Uc._getProvider)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=(0,g.P0)("firestore");c&&dI(a,...c)}return a}function qs(r){return r._firestoreClient||Fw(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Fw(r){var e,t,i;const a=r._freezeSettings(),c=(E=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new g_(r._databaseId,E,r._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,lI(U.experimentalLongPollingOptions),U.useFetchStreams));var E,U;r._firestoreClient=new Ew(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.cache)&&void 0!==i&&i._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function mI(r,e,t){const i=new go;return r.asyncQueue.enqueue((0,d.Z)(function*(){try{yield Gg(r,t),yield ly(r,e),i.resolve()}catch(a){const c=a;if(!bw(c))throw c;aa("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function vI(r){if(r._initialized||r._terminated)throw new sn(kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(mo.fromBase64String(e))}catch(t){throw new sn(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sn(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._methodName=e}}class yI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sn(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sn(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xr(this._lat,e._lat)||xr(this._long,e._long)}}const Hw=/^__.*__$/;class _I{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class wT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yn()}}class II{constructor(e,t,i,a,c,f){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new II(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.fa(e),a}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return em(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(DT(this.ca)&&Hw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Xg{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ro(e)}ya(e,t,i,a=!1){return new II({ca:e,methodName:t,ga:i,path:Os.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(r){const e=r._freezeSettings(),t=Ro(r._databaseId);return new Xg(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Zf(r,e,t,i,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);TI("Data must be an object, but it was:",f,i);const E=ST(i,f);let R,U;if(c.merge)R=new la(f.fieldMask),U=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const ke of c.mergeFields){const bt=Xf(e,ke,t);if(!f.contains(bt))throw new sn(kt.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);gy(Q,bt)||Q.push(bt)}R=new la(Q),U=f.fieldTransforms.filter(ke=>R.covers(ke.field))}else R=null,U=f.fieldTransforms;return new _I(new So(E),R,U)}class Qg extends Yf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qg}}function EI(r,e,t){return new II({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bI extends Yf{_toFieldTransform(e){return new ru(e.path,new uh)}isEqual(e){return e instanceof bI}}class CT extends Yf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EI(this,e,!0),i=this.pa.map(c=>hu(c,t)),a=new Af(i);return new ru(e.path,a)}isEqual(e){return this===e}}class TT extends Yf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EI(this,e,!0),i=this.pa.map(c=>hu(c,t)),a=new dh(i);return new ru(e.path,a)}isEqual(e){return this===e}}class wI extends Yf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new rd(e.serializer,x_(e.serializer,this.Ia));return new ru(e.path,t)}isEqual(e){return this===e}}function fy(r,e,t,i){const a=r.ya(1,e,t);TI("Data must be an object, but it was:",a,i);const c=[],f=So.empty();ih(i,(R,U)=>{const Q=py(e,R,t);U=(0,g.m9)(U);const ke=a.da(Q);if(U instanceof Qg)c.push(Q);else{const bt=hu(U,ke);null!=bt&&(c.push(Q),f.set(Q,bt))}});const E=new la(c);return new wT(f,E,a.fieldTransforms)}function DI(r,e,t,i,a,c){const f=r.ya(1,e,t),E=[Xf(e,i,t)],R=[a];if(c.length%2!=0)throw new sn(kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<c.length;bt+=2)E.push(Xf(e,c[bt])),R.push(c[bt+1]);const U=[],Q=So.empty();for(let bt=E.length-1;bt>=0;--bt)if(!gy(U,E[bt])){const Ft=E[bt];let gn=R[bt];gn=(0,g.m9)(gn);const $n=f.da(Ft);if(gn instanceof Qg)U.push(Ft);else{const Vn=hu(gn,$n);null!=Vn&&(U.push(Ft),Q.set(Ft,Vn))}}const ke=new la(U);return new wT(Q,ke,f.fieldTransforms)}function Jg(r,e,t,i=!1){return hu(t,r.ya(i?4:3,e))}function hu(r,e){if(CI(r=(0,g.m9)(r)))return TI("Unsupported field value:",e,r),ST(r,e);if(r instanceof Yf)return function(t,i){if(!DT(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const a=[];let c=0;for(const f of t){let E=hu(f,i.wa(c));null==E&&(E={nullValue:"NULL_VALUE"}),a.push(E),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,i){if(null===(t=(0,g.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x_(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=os.fromDate(t);return{timestampValue:sd(i.serializer,a)}}if(t instanceof os){const a=new os(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sd(i.serializer,a)}}if(t instanceof yI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof da)return{bytesValue:mg(i.serializer,t._byteString)};if(t instanceof ls){const a=i.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw i._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${hy(t)}`)}(r,e)}function ST(r,e){const t={};return p_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ih(r,(i,a)=>{const c=hu(a,e.ha(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function CI(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof os||r instanceof yI||r instanceof da||r instanceof ls||r instanceof Yf)}function TI(r,e,t){if(!CI(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=hy(t);throw e._a("an object"===i?r+" a custom object":r+" "+i)}var i}function Xf(r,e,t){if((e=(0,g.m9)(e))instanceof du)return e._internalPath;if("string"==typeof e)return py(r,e);throw em("Field path arguments must be of type string or ",r,!1,void 0,t)}const Qf=new RegExp("[~\\*/\\[\\]]");function py(r,e,t){if(e.search(Qf)>=0)throw em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch{throw em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function em(r,e,t,i,a){const c=i&&!i.isEmpty(),f=void 0!==a;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let R="";return(c||f)&&(R+=" (found",c&&(R+=` in field ${i}`),f&&(R+=` in document ${a}`),R+=")"),new sn(kt.INVALID_ARGUMENT,E+r+R)}function gy(r,e){return r.some(t=>t.isEqual(e))}class my{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AT extends my{data(){return super.data()}}function SI(r,e){return"string"==typeof e?py(r,e):e instanceof du?e._internalPath:e._delegate._internalPath}function zw(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new sn(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AI{}class tm extends AI{}function fu(r,e,...t){let i=[];e instanceof AI&&i.push(e),i=i.concat(t),function(a){const c=a.filter(E=>E instanceof xh).length,f=a.filter(E=>E instanceof Jf).length;if(c>1||c>0&&f>0)throw new sn(kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)r=a._apply(r);return r}class Jf extends tm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Jf(e,t,i)}_apply(e){const t=this._parse(e);return kT(e._query,t),new yo(e.firestore,e.converter,S_(e._query,t))}_parse(e){const t=Rh(e.firestore);return function(a,c,f,E,R,U,Q){let ke;if(R.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new sn(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){NT(Q,U);const bt=[];for(const Ft of Q)bt.push(OT(E,a,Ft));ke={arrayValue:{values:bt}}}else ke=OT(E,a,Q)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||NT(Q,U),ke=Jg(f,"where",Q,"in"===U||"not-in"===U);return kr.create(R,U,ke)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class xh extends AI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let c=i;const f=a.getFlattenedFilters();for(const E of f)kT(c,E),c=S_(c,E)}(e._query,t),new yo(e.firestore,e.converter,S_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class MI extends tm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new MI(e,t)}_apply(e){const t=function(i,a,c){if(null!==i.startAt)throw new sn(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new sn(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Cf(a,c);return function(E,R){if(null===T_(E)){const U=gv(E);null!==U&&LT(0,U,R.field)}}(i,f),f}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(i,a){const c=i.explicitOrderBy.concat([a]);return new ed(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class vy extends tm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new vy(e,t,i)}_apply(e){return new yo(e.firestore,e.converter,ag(e._query,this._limit,this._limitType))}}class nm extends tm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new nm(e,t,i)}_apply(e){const t=PT(e,this.type,this._docOrFields,this._inclusive);return new yo(e.firestore,e.converter,(a=t,new ed((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class yy extends tm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new yy(e,t,i)}_apply(e){const t=PT(e,this.type,this._docOrFields,this._inclusive);return new yo(e.firestore,e.converter,(a=t,new ed((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function PT(r,e,t,i){if(t[0]=(0,g.m9)(t[0]),t[0]instanceof my)return function(a,c,f,E,R){if(!E)throw new sn(kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const U=[];for(const Q of td(a))if(Q.field.isKeyField())U.push(Xu(c,E.key));else{const ke=E.data.field(Q.field);if(tg(ke))throw new sn(kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Q.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const bt=Q.field.canonicalString();throw new sn(kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}U.push(ke)}return new Ic(U,R)}(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=Rh(r.firestore);return function(c,f,E,R,U,Q){const ke=c.explicitOrderBy;if(U.length>ke.length)throw new sn(kt.INVALID_ARGUMENT,`Too many arguments provided to ${R}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Ft=0;Ft<U.length;Ft++){const gn=U[Ft];if(ke[Ft].field.isKeyField()){if("string"!=typeof gn)throw new sn(kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${R}(), but got a ${typeof gn}`);if(!mv(c)&&-1!==gn.indexOf("/"))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${R}() must be a plain document ID, but '${gn}' contains a slash.`);const $n=c.path.child(fi.fromString(gn));if(!Ln.isDocumentKey($n))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${R}() must result in a valid document path, but '${$n}' is not because it contains an odd number of segments.`);const Vn=new Ln($n);bt.push(Xu(f,Vn))}else{const $n=Jg(E,R,gn);bt.push($n)}}return new Ic(bt,Q)}(r._query,r.firestore._databaseId,a,e,t,i)}}function OT(r,e,t){if("string"==typeof(t=(0,g.m9)(t))){if(""===t)throw new sn(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mv(e)&&-1!==t.indexOf("/"))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(fi.fromString(t));if(!Ln.isDocumentKey(i))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xu(r,new Ln(i))}if(t instanceof ls)return Xu(r,t._key);throw new sn(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hy(t)}.`)}function NT(r,e){if(!Array.isArray(r)||0===r.length)throw new sn(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kT(r,e){if(e.isInequality()){const i=gv(r),a=e.field;if(null!==i&&!i.isEqual(a))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const c=T_(r);null!==c&&LT(0,a,c)}const t=function(i,a){for(const c of i)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new sn(kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function LT(r,e,t){if(!t.isEqual(e))throw new sn(kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Zw{convertValue(e,t="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ih(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new yI(Is(e.latitude),Is(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bf(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new os(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=fi.fromString(e);or(W_(i));const a=new eu(i.get(1),i.get(3)),c=new Ln(i.popFirst(5));return a.isEqual(t)||Hs(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function RI(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class zS extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ls(this.firestore,null,t)}}class Ph{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class md extends my{constructor(e,t,i,a,c,f){super(e,t,i,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _y extends md{data(e={}){return super.data(e)}}class vd{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ph(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _y(this._firestore,this._userDataWriter,i.key,i,new Ph(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sn(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(f=>({type:"added",doc:new _y(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Ph(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const E=new _y(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Ph(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let R=-1,U=-1;return 0!==f.type&&(R=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),U=c.indexOf(f.doc.key)),{type:Jw(f.type),doc:E,oldIndex:R,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yn()}}function eD(r,e){return r instanceof md&&e instanceof md?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof vd&&e instanceof vd&&r._firestore===e._firestore&&hI(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function tD(r){r=si(r,ls);const e=si(r.firestore,Zi);return qf(qs(e),r._key).then(t=>NI(e,r,t))}class yd extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ls(this.firestore,null,t)}}function PI(r,e,t){r=si(r,ls);const i=si(r.firestore,Zi),a=RI(r.converter,e,t);return ep(i,[Zf(Rh(i),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Yi.none())])}function nD(r,e,t,...i){r=si(r,ls);const a=si(r.firestore,Zi),c=Rh(a);let f;return f="string"==typeof(e=(0,g.m9)(e))||e instanceof du?DI(c,"updateDoc",r._key,e,t,i):fy(c,"updateDoc",r._key,e),ep(a,[f.toMutation(r._key,Yi.exists(!0))])}function rD(r,...e){var t,i,a;r=(0,g.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Yg(e[f])||(c=e[f],f++);const E={includeMetadataChanges:c.includeMetadataChanges};if(Yg(e[f])){const ke=e[f];e[f]=null===(t=ke.next)||void 0===t?void 0:t.bind(ke),e[f+1]=null===(i=ke.error)||void 0===i?void 0:i.bind(ke),e[f+2]=null===(a=ke.complete)||void 0===a?void 0:a.bind(ke)}let R,U,Q;if(r instanceof ls)U=si(r.firestore,Zi),Q=ch(r._key.path),R={next:ke=>{e[f]&&e[f](NI(U,r,ke))},error:e[f+1],complete:e[f+2]};else{const ke=si(r,yo);U=si(ke.firestore,Zi),Q=ke._query;const bt=new yd(U);R={next:Ft=>{e[f]&&e[f](new vd(U,bt,ke,Ft))},error:e[f+1],complete:e[f+2]},zw(r._query)}return function(ke,bt,Ft,gn){const $n=new oy(gn),Vn=new B0(bt,$n,Ft);return ke.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Xv(yield gd(ke),Vn)})),()=>{$n.Dc(),ke.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Bg(yield gd(ke),Vn)}))}}(qs(U),Q,E,R)}function ep(r,e){return function(t,i){const a=new go;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function ow(r,e,t){return H0.apply(this,arguments)}(yield Mh(t),i,a)})),a.promise}(qs(r),e)}function NI(r,e,t){const i=t.docs.get(e._key),a=new yd(r);return new md(r,a,e._key,i,new Ph(t.hasPendingWrites,t.fromCache),e.converter)}const ka={maxAttempts:5};class kI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rh(e)}set(e,t,i){this._verifyNotCommitted();const a=pu(e,this._firestore),c=RI(a.converter,t,i),f=Zf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,i);return this._mutations.push(f.toMutation(a._key,Yi.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const c=pu(e,this._firestore);let f;return f="string"==typeof(t=(0,g.m9)(t))||t instanceof du?DI(this._dataReader,"WriteBatch.update",c._key,t,i,a):fy(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(f.toMutation(c._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pu(e,this._firestore);return this._mutations=this._mutations.concat(new vh(t._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sn(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(r,e){if((r=(0,g.m9)(r)).firestore!==e)throw new sn(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ZT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rh(e)}get(e){const t=pu(e,this._firestore),i=new zS(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Yn();const c=a[0];if(c.isFoundDocument())return new my(this._firestore,i,c.key,c,t.converter);if(c.isNoDocument())return new my(this._firestore,i,t._key,null,t.converter);throw Yn()})}set(e,t,i){const a=pu(e,this._firestore),c=RI(a.converter,t,i),f=Zf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,i);return this._transaction.set(a._key,f),this}update(e,t,i,...a){const c=pu(e,this._firestore);let f;return f="string"==typeof(t=(0,g.m9)(t))||t instanceof du?DI(this._dataReader,"Transaction.update",c._key,t,i,a):fy(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,f),this}delete(e){const t=pu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pu(e,this._firestore),i=new yd(this._firestore);return super.get(e).then(a=>new md(this._firestore,i,t._key,a._document,new Ph(!1,!1),t.converter))}}!function(r,e=!0){qu=Uc.SDK_VERSION,(0,Uc._registerComponent)(new De.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Zi(new Jm(t.getProvider("auth-internal")),new YD(t.getProvider("app-check-internal")),function(E,R){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new sn(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(E.options.projectId,R)}(c,i),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Uc.registerVersion)(_E,"3.13.0",r),(0,Uc.registerVersion)(_E,"3.13.0","esm2017")}();const UI=(0,eo.u3)(Kf,!0),cA=(0,eo.u3)(tD,!0),jI=(0,eo.u3)(_T,!0),uS=(0,eo.u3)(PI,!0);var Tc=x(6796),zI=x(6321),gS=x(5592),by=x(2459),mS=x(2096),_D=x(7921),vS=x(9360),yS=x(8251);function GI(){return(0,vS.e)((r,e)=>{let t,i=!1;r.subscribe((0,yS.x)(e,a=>{const c=t;t=a,i&&e.next([c,a]),i=!0}))})}var Sc=x(7398),wy=x(6699),ID=x(3997),ED=x(2181),sm=x(6304),bD=x(6814),_S=(x(8977),x(3399));function Dy(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sn("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function DD(){if(typeof Uint8Array>"u")throw new sn("unimplemented","Uint8Arrays are not available in this environment.")}function om(){if(!function xE(){return typeof atob<"u"}())throw new sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class am{constructor(e){this._delegate=e}static fromBase64String(e){return om(),new am(da.fromBase64String(e))}static fromUint8Array(e){return DD(),new am(da.fromUint8Array(e))}toBase64(){return om(),this._delegate.toBase64()}toUint8Array(){return DD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qI(r){return function CD(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(r,["next","error","complete"])}class TD{enableIndexedDbPersistence(e,t){return function $w(r,e){vI(r=si(r,Zi));const t=qs(r);if(t._uninitializedComponentsProvider)throw new sn(kt.FAILED_PRECONDITION,"SDK cache is already specified.");aa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=r._freezeSettings(),a=new Wf;return mI(t,a,new iI(a,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gI(r){vI(r=si(r,Zi));const e=qs(r);if(e._uninitializedComponentsProvider)throw new sn(kt.FAILED_PRECONDITION,"SDK cache is already specified.");aa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),i=new Wf;return mI(e,i,new yw(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bw(r){if(r._initialized&&!r._terminated)throw new sn(kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new go;return r._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(t=(0,d.Z)(function*(i){if(!ro.D())return Promise.resolve();const a=i+"main";yield ro.delete(a)}),function(i){return t.apply(this,arguments)})(d0(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class IS{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof eu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&aa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){dI(this._delegate,e,t,i)}enableNetwork(){return function Vw(r){return function $S(r){return r.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Cw(r),t=yield Tw(r);return e.setNetworkEnabled(!0),function(i){const a=kn(i);return a.vu.delete(0),kg(a)}(t)}))}(qs(r=si(r,Zi)))}(this._delegate)}disableNetwork(){return function IT(r){return function gT(r){return r.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield Cw(r),t=yield Tw(r);return e.setNetworkEnabled(!1),(i=(0,d.Z)(function*(a){const c=kn(a);c.vu.add(0),yield Dc(c),c.bu.set("Offline")}),function(a){return i.apply(this,arguments)})(t);var i}))}(qs(r=si(r,Zi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Rw("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Uw(r){return function(e){const t=new go;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function q0(r,e){return K0.apply(this,arguments)}(yield Mh(e),t)})),t.promise}(qs(r=si(r,Zi)))}(this._delegate)}onSnapshotsInSync(e){return function OI(r,e){return function vT(r,e){const t=new oy(e);return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return i=yield gd(r),a=t,kn(i).ku.add(a),void a.next();var i,a})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return i=yield gd(r),a=t,void kn(i).ku.delete(a);var i,a}))}}(qs(r=si(r,Zi)),Yg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lm(this,Ow(this._delegate,e))}catch(t){throw ha(t,"collection()","Firestore.collection()")}}doc(e){try{return new El(this,Kf(this._delegate,e))}catch(t){throw ha(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new La(this,function Nw(r,e){if(r=si(r,Kg),cI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sn(kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yo(r,null,(t=e,new ed(fi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ha(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function aD(r,e,t){r=si(r,Zi);const i=Object.assign(Object.assign({},ka),t);return function(a){if(a.maxAttempts<1)throw new sn(kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(a,c,f){const E=new go;return a.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const R=yield function Sw(r){return cy(r).then(e=>e.datastore)}(a);new Iw(a.asyncQueue,R,f,c,E).run()})),E.promise}(qs(r),a=>e(new ZT(r,a)),i)}(this._delegate,t=>e(new SD(this,t)))}batch(){return qs(this._delegate),new ES(new kI(this._delegate,e=>ep(this._delegate,e)))}loadBundle(e){return function jw(r,e){const t=qs(r=si(r,Zi)),i=new Lw;return function dy(r,e,t,i){const a=function(c,f){let E;return E="string"==typeof c?ib().encode(c):c,R=function(R,U){if(R instanceof Uint8Array)return _w(R,U);if(R instanceof ArrayBuffer)return _w(new Uint8Array(R),U);if(R instanceof ReadableStream)return R.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new pT(R,f);var R}(t,Ro(e));r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function hT(r,e,t){const i=kn(r);var a;(a=(0,d.Z)(function*(c,f,E){try{const R=yield f.getMetadata();if(yield function(bt,Ft){const gn=kn(bt),$n=io(Ft.createTime);return gn.persistence.runTransaction("hasNewerBundle","readonly",Vn=>gn.qs.getBundleMetadata(Vn,Ft.id)).then(Vn=>!!Vn&&Vn.createTime.compareTo($n)>=0)}(c.localStore,R))return yield f.close(),E._completeWith({taskState:"Success",documentsLoaded:(bt=R).totalDocuments,bytesLoaded:bt.totalBytes,totalDocuments:bt.totalDocuments,totalBytes:bt.totalBytes}),Promise.resolve(new Set);E._updateProgress(U0(R));const U=new nT(R,c.localStore,f.serializer);let Q=yield f.bc();for(;Q;){const bt=yield U.zu(Q);bt&&E._updateProgress(bt),Q=yield f.bc()}const ke=yield U.complete();return yield uu(c,ke.Ju,void 0),yield function(bt,Ft){const gn=kn(bt);return gn.persistence.runTransaction("Save bundle","readwrite",$n=>gn.qs.saveBundleMetadata($n,Ft))}(c.localStore,R),E._completeWith(ke.progress),Promise.resolve(ke.Hu)}catch(R){return aa("SyncEngine",`Loading bundle failed with ${R}`),E._failWith(R),Promise.resolve(new Set)}var bt}),function(c,f,E){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield Mh(r),a,i)}))}(t,r._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function bT(r,e){return function Mw(r,e){return r.asyncQueue.enqueue((0,d.Z)(function*(){return function(t,i){const a=kn(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,i))}(yield uy(r),e)}))}(qs(r=si(r,Zi)),e).then(t=>t?new yo(r,null,t.query):null)}(this._delegate,e).then(t=>t?new La(this,t):null)}}class Cy extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new am(new da(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return El.forKey(t,this.firestore,null)}}class SD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}get(e){const t=rp(e);return this._delegate.get(t).then(i=>new Ty(this._firestore,new md(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=rp(e);return i?(Dy("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=rp(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=rp(e);return this._delegate.delete(t),this}}class ES{constructor(e){this._delegate=e}set(e,t,i){const a=rp(e);return i?(Dy("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=rp(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=rp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class np{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new _y(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sy(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=np.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let c=a.get(t);return c||(c=new np(e,new Cy(e),t),a.set(t,c)),c}}np.INSTANCES=new WeakMap;class El{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}static forPath(e,t,i){if(e.length%2!=0)throw new sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new El(t,new ls(t._delegate,i,new Ln(e)))}static forKey(e,t,i){return new El(t,new ls(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new lm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lm(this.firestore,Ow(this._delegate,e))}catch(t){throw ha(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,g.m9)(e))instanceof ls&&kw(this._delegate,e)}set(e,t){t=Dy("DocumentReference.set",t);try{return t?PI(this._delegate,e,t):PI(this._delegate,e)}catch(i){throw ha(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?nD(this._delegate,e):nD(this._delegate,e,t,...i)}catch(a){throw ha(a,"updateDoc()","DocumentReference.update()")}}delete(){return function VT(r){return ep(si(r.firestore,Zi),[new vh(r._key,Yi.none())])}(this._delegate)}onSnapshot(...e){const t=bS(e),i=wS(e,a=>new Ty(this.firestore,new md(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return rD(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function WS(r){r=si(r,ls);const e=si(r.firestore,Zi),t=qs(e),i=new yd(e);return function BS(r,e){const t=new go;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(i=(0,d.Z)(function*(a,c,f){try{const E=yield function(R,U){const Q=kn(R);return Q.persistence.runTransaction("read document","readonly",ke=>Q.localDocuments.getDocument(ke,U))}(a,c);E.isFoundDocument()?f.resolve(E):E.isNoDocument()?f.resolve(null):f.reject(new sn(kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const R=Cc(E,`Failed to get document '${c} from cache`);f.reject(R)}}),function(a,c,f){return i.apply(this,arguments)})(yield uy(r),e,t);var i})),t.promise}(t,r._key).then(a=>new md(e,i,r._key,a,new Ph(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function BT(r){r=si(r,ls);const e=si(r.firestore,Zi);return qf(qs(e),r._key,{source:"server"}).then(t=>NI(e,r,t))}(this._delegate):tD(this._delegate),t.then(i=>new Ty(this.firestore,new md(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new El(this.firestore,this._delegate.withConverter(e?np.getInstance(this.firestore,e):null))}}function ha(r,e,t){return r.message=r.message.replace(e,t),r}function bS(r){for(const e of r)if("object"==typeof e&&!qI(e))return e;return{}}function wS(r,e){var t,i;let a;return a=qI(r[0])?r[0]:qI(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class Ty{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new El(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eD(this._delegate,e._delegate)}}class Sy extends Ty{data(e){const t=this._delegate.data(e);return function i_(r,e){r||Yn()}(void 0!==t),t}}class La{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}where(e,t,i){try{return new La(this.firestore,fu(this._delegate,function MT(r,e,t){const i=e,a=SI("where",r);return Jf._create(a,i,t)}(e,t,i)))}catch(a){throw ha(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new La(this.firestore,fu(this._delegate,function Gw(r,e="asc"){const t=e,i=SI("orderBy",r);return MI._create(i,t)}(e,t)))}catch(i){throw ha(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new La(this.firestore,fu(this._delegate,function Ww(r){return qg("limit",r),vy._create("limit",r,"F")}(e)))}catch(t){throw ha(t,"limit()","Query.limit()")}}limitToLast(e){try{return new La(this.firestore,fu(this._delegate,function qw(r){return qg("limitToLast",r),vy._create("limitToLast",r,"L")}(e)))}catch(t){throw ha(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new La(this.firestore,fu(this._delegate,function Kw(...r){return nm._create("startAt",r,!0)}(...e)))}catch(t){throw ha(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new La(this.firestore,fu(this._delegate,function xT(...r){return nm._create("startAfter",r,!1)}(...e)))}catch(t){throw ha(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new La(this.firestore,fu(this._delegate,function HS(...r){return yy._create("endBefore",r,!1)}(...e)))}catch(t){throw ha(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new La(this.firestore,fu(this._delegate,function Yw(...r){return yy._create("endAt",r,!0)}(...e)))}catch(t){throw ha(t,"endAt()","Query.endAt()")}}isEqual(e){return hI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Iy(r){r=si(r,yo);const e=si(r.firestore,Zi),t=qs(e),i=new yd(e);return function mT(r,e){const t=new go;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(i=(0,d.Z)(function*(a,c,f){try{const E=yield xg(a,c,!0),R=new sw(c,E.ir),U=R.sc(E.documents),Q=R.applyChanges(U,!1);f.resolve(Q.snapshot)}catch(E){const R=Cc(E,`Failed to execute query '${c} against cache`);f.reject(R)}}),function(a,c,f){return i.apply(this,arguments)})(yield uy(r),e,t);var i})),t.promise}(t,r._query).then(a=>new vd(e,i,r,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function UT(r){r=si(r,yo);const e=si(r.firestore,Zi),t=qs(e),i=new yd(e);return Aw(t,r._query,{source:"server"}).then(a=>new vd(e,i,r,a))}(this._delegate):function rm(r){r=si(r,yo);const e=si(r.firestore,Zi),t=qs(e),i=new yd(e);return zw(r._query),Aw(t,r._query).then(a=>new vd(e,i,r,a))}(this._delegate),t.then(i=>new AD(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=bS(e),i=wS(e,a=>new AD(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return rD(this._delegate,t,i)}withConverter(e){return new La(this.firestore,this._delegate.withConverter(e?np.getInstance(this.firestore,e):null))}}class DS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new La(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DS(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Sy(this._firestore,i))})}isEqual(e){return eD(this._delegate,e._delegate)}}class lm extends La{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new El(this.firestore,e):null}doc(e){try{return new El(this.firestore,void 0===e?Kf(this._delegate):Kf(this._delegate,e))}catch(t){throw ha(t,"doc()","CollectionReference.doc()")}}add(e){return function jT(r,e){const t=si(r.firestore,Zi),i=Kf(r),a=RI(r.converter,e);return ep(t,[Zf(Rh(r.firestore),"addDoc",i._key,a,null!==r.converter,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new El(this.firestore,t))}isEqual(e){return kw(this._delegate,e._delegate)}withConverter(e){return new lm(this.firestore,this._delegate.withConverter(e?np.getInstance(this.firestore,e):null))}}function rp(r){return si(r,ls)}class MD{constructor(...e){this._delegate=new du(...e)}static documentId(){return new MD(Os.keyField().canonicalString())}isEqual(e){return(e=(0,g.m9)(e))instanceof du&&this._delegate._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function LI(){return new bI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Oh(e)}static delete(){const e=function XT(){return new Qg("deleteField")}();return e._methodName="FieldValue.delete",new Oh(e)}static arrayUnion(...e){const t=function _d(...r){return new CT("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Oh(t)}static arrayRemove(...e){const t=function lD(...r){return new TT("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Oh(t)}static increment(e){const t=function FI(r){return new wI("increment",r)}(e);return t._methodName="FieldValue.increment",new Oh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CS={Firestore:IS,GeoPoint:yI,Timestamp:os,Blob:am,Transaction:SD,WriteBatch:ES,DocumentReference:El,DocumentSnapshot:Ty,Query:La,QueryDocumentSnapshot:Sy,QuerySnapshot:AD,CollectionReference:lm,FieldPath:MD,FieldValue:Oh,setLogLevel:function _A(r){!function WD(r){Xc.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function n(r){(function IA(r,e){r.INTERNAL.registerComponent(new De.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},CS)))})(r,(e,t)=>new IS(e,t,new TD)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(_S.Z);var s=x(2194);function u(r,e){return function l(r,e=zI.z){return new gS.y(t=>{let i;return null!=e?e.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},t)}):i=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(r,e)}function v(r,e){return u(r,e).pipe((0,Sc.U)(t=>({payload:t,type:"query"})))}function D(r,e){return v(r,e).pipe((0,_D.O)(void 0),GI(),(0,Sc.U)(([t,i])=>{const a=i.payload.docChanges(),c=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((f,E)=>{const R=a.find(Q=>Q.doc.ref.isEqual(f.ref)),U=null==t?void 0:t.payload.docs.find(Q=>Q.ref.isEqual(f.ref));R&&JSON.stringify(R.doc.metadata)===JSON.stringify(f.metadata)||!R&&U&&JSON.stringify(U.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:f}})}),c}))}function M(r,e,t){return D(r,t).pipe((0,wy.R)((i,a)=>function H(r,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(r=function ce(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Z(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Z(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Z(r,e.oldIndex,1)}return r}(r,i))}),r}(i,a.map(c=>c.payload),e),[]),(0,ID.x)(),(0,Sc.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function Z(r,e,t,...i){const a=r.slice();return a.splice(e,t,...i),a}function ze(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}x(120);class ht{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=D(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Sc.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,_D.O)(void 0),GI(),(0,ED.h)(([i,a])=>a.length>0||!i),(0,Sc.U)(([i,a])=>a),eo.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,wy.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ze(e);return M(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return v(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sc.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),eo.iC)}get(e){return(0,by.D)(this.query.get(e)).pipe(eo.iC)}add(e){return this.ref.add(e)}doc(e){return new zt(this.ref.doc(e),this.afs)}}class zt{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:c}=Zr(i,t);return new ht(a,c,this.afs)}snapshotChanges(){return function p(r,e){return u(r,e).pipe((0,_D.O)(void 0),GI(),(0,Sc.U)(([t,i])=>i.exists?null!=t&&t.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Sc.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,by.D)(this.ref.get(e)).pipe(eo.iC)}}class un{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?D(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sc.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,ED.h)(t=>t.length>0),eo.iC):D(this.query,this.afs.schedulers.outsideAngular).pipe(eo.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,wy.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=ze(e);return M(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return v(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sc.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),eo.iC)}get(e){return(0,by.D)(this.query.get(e)).pipe(eo.iC)}}const Rn=new vi.OlP("angularfire2.enableFirestorePersistence"),nr=new vi.OlP("angularfire2.firestore.persistenceSettings"),nn=new vi.OlP("angularfire2.firestore.settings"),Sr=new vi.OlP("angularfire2.firestore.use-emulator");function Zr(r,e=(t=>t)){return{query:e(r),ref:r}}let yi=(()=>{class r{constructor(t,i,a,c,f,E,R,U,Q,ke,bt,Ft,gn,$n,Vn,Lr,ci){this.schedulers=R;const Pr=(0,sm.on)(t,E,i),Es=Q;ke&&(0,Tc.nw)(Pr,E,bt,gn,$n,Vn,Ft,Lr),[this.firestore,this.persistenceEnabled$]=(0,sm.cc)(`${Pr.name}.firestore`,"AngularFirestore",Pr.name,()=>{const Xi=E.runOutsideAngular(()=>Pr.firestore());if(c&&Xi.settings(c),Es&&Xi.useEmulator(...Es),a&&!(0,bD.PM)(f)){const Hi=()=>{try{return(0,by.D)(Xi.enablePersistence(U||void 0).then(()=>!0,()=>!1))}catch(Uo){return typeof console<"u"&&console.warn(Uo),(0,mS.of)(!1)}};return[Xi,E.runOutsideAngular(Hi)]}return[Xi,(0,mS.of)(!1)]},[c,Es,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:f}=Zr(a,i),E=this.schedulers.ngZone.run(()=>c);return new ht(E,f,this)}collectionGroup(t,i){const a=i||(f=>f),c=this.firestore.collectionGroup(t);return new un(a(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new zt(a,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(vi.LFG(sm.Dh),vi.LFG(sm.xv,8),vi.LFG(Rn,8),vi.LFG(nn,8),vi.LFG(vi.Lbi),vi.LFG(vi.R0b),vi.LFG(eo.HU),vi.LFG(nr,8),vi.LFG(Sr,8),vi.LFG(Tc.zQ,8),vi.LFG(Tc.Qv,8),vi.LFG(Tc.L6,8),vi.LFG(Tc._Q,8),vi.LFG(Tc.rT,8),vi.LFG(Tc.lh,8),vi.LFG(Tc.f7,8),vi.LFG(s.nm,8))},r.\u0275prov=vi.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var cm=x(5386);let Id=(()=>{var r;class e{constructor(i,a,c){this.auth=i,this.firestore=a,this.utilsSvc=c}getAuth(){return Bc()}signIn(i){var a=this;return(0,d.Z)(function*(){return yield a.auth.signInWithEmailAndPassword(i.email,i.password)})()}signUp(i){var a=this;return(0,d.Z)(function*(){return yield a.auth.createUserWithEmailAndPassword(i.email,i.password)})()}updateUser(i){return(0,d.Z)(function*(){return yield function ya(r,e){return ta.apply(this,arguments)}(Bc().currentUser,{displayName:i})})()}sendRecoveryEmail(i){var a=this;return(0,d.Z)(function*(){return yield a.auth.sendPasswordResetEmail(i)})()}signOut(){this.auth.signOut(),localStorage.removeItem("user"),this.utilsSvc.routerLink("/auth")}setDocument(i,a){return uS(UI(jI(),i),a)}getDocument(i){return(0,d.Z)(function*(){return(yield cA(UI(jI(),i))).data()})()}}return(r=e).\u0275fac=function(i){return new(i||r)(vi.LFG(Tc.zQ),vi.LFG(yi),vi.LFG(cm.F))},r.\u0275prov=vi.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})()},5386:(rn,it,x)=>{"use strict";x.d(it,{F:()=>je});var d=x(5861),g=x(5879),X=x(2692),re=x(6761),we=x(2726),De=x(5961);const fe=(0,we.fo)("Camera",{web:()=>x.e(6468).then(x.bind(x,6468)).then(Fe=>new Fe.CameraWeb)});let je=(()=>{var Fe;class ue{takePicture(ye){return(0,d.Z)(function*(){return yield fe.getPhoto({quality:90,allowEditing:!0,resultType:De.dk.DataUrl,source:De.oK.Prompt,promptLabelHeader:ye,promptLabelPhoto:"Selecciona una imagen",promptLabelPicture:"Toma una foto"})})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(ye){var me=this;return(0,d.Z)(function*(){(yield me.toastCtrl.create(ye)).present()})()}routerLink(ye){return this.router.navigateByUrl(ye)}saveInLocalStorage(ye,me){return localStorage.setItem(ye,JSON.stringify(me))}getFromLocalStorage(ye){return JSON.parse(localStorage.getItem(ye))}presentModal(ye){var me=this;return(0,d.Z)(function*(){const Ne=yield me.modalCtrl.create(ye);yield Ne.present();const{data:Xe}=yield Ne.onWillDismiss();if(Xe)return Xe})()}dismissModal(ye){return this.modalCtrl.dismiss(ye)}constructor(){this.loadingCtrl=(0,g.f3M)(re.HT),this.toastCtrl=(0,g.f3M)(re.yF),this.modalCtrl=(0,g.f3M)(re.IN),this.router=(0,g.f3M)(X.F0)}}return(Fe=ue).\u0275fac=function(ye){return new(ye||Fe)},Fe.\u0275prov=g.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),ue})()},4410:(rn,it,x)=>{"use strict";var d=x(6593),g=x(5879),X=x(2692),re=x(6761);let we=(()=>{var We;class Ce{constructor(){}}return(We=Ce).\u0275fac=function(_e){return new(_e||We)},We.\u0275cmp=g.Xpm({type:We,selectors:[["app-root"]],decls:2,vars:0,template:function(_e,He){1&_e&&(g.TgZ(0,"ion-app"),g._UZ(1,"ion-router-outlet"),g.qZA())},dependencies:[re.dr,re.jP]}),Ce})();var De=x(3126),fe=x(5386);const ue=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([x.e(8592),x.e(5607)]).then(x.bind(x,5607)).then(We=>We.AuthPageModule),canActivate:[(()=>{var We;class Ce{constructor(){this.firebaseSvc=(0,g.f3M)(De.O),this.utilsSvc=(0,g.f3M)(fe.F)}canActivate(_e,He){return!localStorage.getItem("ingresado")}}return(We=Ce).\u0275fac=function(_e){return new(_e||We)},We.\u0275prov=g.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),Ce})()]},{path:"main",loadChildren:()=>x.e(9476).then(x.bind(x,9476)).then(We=>We.MainPageModule),canActivate:[(()=>{var We;class Ce{constructor(){this.firebaseSvc=(0,g.f3M)(De.O),this.utilsSvc=(0,g.f3M)(fe.F)}canActivate(_e,He){return!!localStorage.getItem("ingresado")}}return(We=Ce).\u0275fac=function(_e){return new(_e||We)},We.\u0275prov=g.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),Ce})()]}];let de=(()=>{var We;class Ce{}return(We=Ce).\u0275fac=function(_e){return new(_e||We)},We.\u0275mod=g.oAB({type:We}),We.\u0275inj=g.cJS({imports:[X.Bz.forRoot(ue,{preloadingStrategy:X.wm}),X.Bz]}),Ce})();var ye=x(6304);const me_firebaseConfig={apiKey:"AIzaSyB5qZipBkgZv2qV6OdMidd3DDs0dwLENrQ",authDomain:"mura-s-store.firebaseapp.com",projectId:"mura-s-store",storageBucket:"mura-s-store.appspot.com",messagingSenderId:"177735307655",appId:"1:177735307655:web:38331c2367be80a488c322"};var Ne=x(6796),Xe=x(9862);let et=(()=>{var We;class Ce{}return(We=Ce).\u0275fac=function(_e){return new(_e||We)},We.\u0275mod=g.oAB({type:We,bootstrap:[we]}),We.\u0275inj=g.cJS({providers:[{provide:X.wN,useClass:re.r4}],imports:[d.b2,re.Pc.forRoot({mode:"md"}),de,ye.hO.initializeApp(me_firebaseConfig),Ne.ww,Xe.JF]}),Ce})();var Ue=x(3404);(0,g.G48)(),d.q6().bootstrapModule(et).catch(We=>console.log(We)),window,typeof window>"u"?Promise.resolve():(0,Ue.p)().then(()=>(0,Ue.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},5619:(rn,it,x)=>{"use strict";x.d(it,{X:()=>g});var d=x(8645);class g extends d.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const we=super._subscribe(re);return!we.closed&&re.next(this._value),we}getValue(){const{hasError:re,thrownError:we,_value:De}=this;if(re)throw we;return this._throwIfClosed(),De}next(re){super.next(this._value=re)}}},5592:(rn,it,x)=>{"use strict";x.d(it,{y:()=>je});var d=x(305),g=x(7394),X=x(4850),re=x(8407),we=x(2653),De=x(4674),fe=x(1441);let je=(()=>{class ye{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Xe=new ye;return Xe.source=this,Xe.operator=Ne,Xe}subscribe(Ne,Xe,et){const Ue=function de(ye){return ye&&ye instanceof d.Lv||function ue(ye){return ye&&(0,De.m)(ye.next)&&(0,De.m)(ye.error)&&(0,De.m)(ye.complete)}(ye)&&(0,g.Nn)(ye)}(Ne)?Ne:new d.Hp(Ne,Xe,et);return(0,fe.x)(()=>{const{operator:Se,source:ct}=this;Ue.add(Se?Se.call(Ue,ct):ct?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Xe){Ne.error(Xe)}}forEach(Ne,Xe){return new(Xe=Fe(Xe))((et,Ue)=>{const Se=new d.Hp({next:ct=>{try{Ne(ct)}catch(We){Ue(We),Se.unsubscribe()}},error:Ue,complete:et});this.subscribe(Se)})}_subscribe(Ne){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ne)}[X.L](){return this}pipe(...Ne){return(0,re.U)(Ne)(this)}toPromise(Ne){return new(Ne=Fe(Ne))((Xe,et)=>{let Ue;this.subscribe(Se=>Ue=Se,Se=>et(Se),()=>Xe(Ue))})}}return ye.create=me=>new ye(me),ye})();function Fe(ye){var me;return null!==(me=null!=ye?ye:we.config.Promise)&&void 0!==me?me:Promise}},8645:(rn,it,x)=>{"use strict";x.d(it,{x:()=>fe});var d=x(5592),g=x(7394);const re=(0,x(2306).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=x(9039),De=x(1441);let fe=(()=>{class Fe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const ye=new je(this,this);return ye.operator=de,ye}_throwIfClosed(){if(this.closed)throw new re}next(de){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(de)}})}error(de){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:ye}=this;for(;ye.length;)ye.shift().error(de)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:ye,isStopped:me,observers:Ne}=this;return ye||me?g.Lc:(this.currentObservers=null,Ne.push(de),new g.w0(()=>{this.currentObservers=null,(0,we.P)(Ne,de)}))}_checkFinalizedStatuses(de){const{hasError:ye,thrownError:me,isStopped:Ne}=this;ye?de.error(me):Ne&&de.complete()}asObservable(){const de=new d.y;return de.source=this,de}}return Fe.create=(ue,de)=>new je(ue,de),Fe})();class je extends fe{constructor(ue,de){super(),this.destination=ue,this.source=de}next(ue){var de,ye;null===(ye=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===ye||ye.call(de,ue)}error(ue){var de,ye;null===(ye=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===ye||ye.call(de,ue)}complete(){var ue,de;null===(de=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===de||de.call(ue)}_subscribe(ue){var de,ye;return null!==(ye=null===(de=this.source)||void 0===de?void 0:de.subscribe(ue))&&void 0!==ye?ye:g.Lc}}},305:(rn,it,x)=>{"use strict";x.d(it,{Hp:()=>et,Lv:()=>ye});var d=x(4674),g=x(7394),X=x(2653),re=x(3894),we=x(2420);const De=Fe("C",void 0,void 0);function Fe(Ce,Ve,_e){return{kind:Ce,value:Ve,error:_e}}var ue=x(7599),de=x(1441);class ye extends g.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,g.Nn)(Ve)&&Ve.add(this)):this.destination=We}static create(Ve,_e,He){return new et(Ve,_e,He)}next(Ve){this.isStopped?ct(function je(Ce){return Fe("N",Ce,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?ct(function fe(Ce){return Fe("E",void 0,Ce)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?ct(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const me=Function.prototype.bind;function Ne(Ce,Ve){return me.call(Ce,Ve)}class Xe{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:_e}=this;if(_e.next)try{_e.next(Ve)}catch(He){Ue(He)}}error(Ve){const{partialObserver:_e}=this;if(_e.error)try{_e.error(Ve)}catch(He){Ue(He)}else Ue(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(_e){Ue(_e)}}}class et extends ye{constructor(Ve,_e,He){let Re;if(super(),(0,d.m)(Ve)||!Ve)Re={next:null!=Ve?Ve:void 0,error:null!=_e?_e:void 0,complete:null!=He?He:void 0};else{let Oe;this&&X.config.useDeprecatedNextContext?(Oe=Object.create(Ve),Oe.unsubscribe=()=>this.unsubscribe(),Re={next:Ve.next&&Ne(Ve.next,Oe),error:Ve.error&&Ne(Ve.error,Oe),complete:Ve.complete&&Ne(Ve.complete,Oe)}):Re=Ve}this.destination=new Xe(Re)}}function Ue(Ce){X.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(Ce):(0,re.h)(Ce)}function ct(Ce,Ve){const{onStoppedNotification:_e}=X.config;_e&&ue.z.setTimeout(()=>_e(Ce,Ve))}const We={closed:!0,next:we.Z,error:function Se(Ce){throw Ce},complete:we.Z}},7394:(rn,it,x)=>{"use strict";x.d(it,{Lc:()=>De,w0:()=>we,Nn:()=>fe});var d=x(4674);const X=(0,x(2306).d)(Fe=>function(de){Fe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((ye,me)=>`${me+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var re=x(9039);class we{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ne of de)Ne.remove(this);else de.remove(this);const{initialTeardown:ye}=this;if((0,d.m)(ye))try{ye()}catch(Ne){ue=Ne instanceof X?Ne.errors:[Ne]}const{_finalizers:me}=this;if(me){this._finalizers=null;for(const Ne of me)try{je(Ne)}catch(Xe){ue=null!=ue?ue:[],Xe instanceof X?ue=[...ue,...Xe.errors]:ue.push(Xe)}}if(ue)throw new X(ue)}}add(ue){var de;if(ue&&ue!==this)if(this.closed)je(ue);else{if(ue instanceof we){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ue)}}_hasParent(ue){const{_parentage:de}=this;return de===ue||Array.isArray(de)&&de.includes(ue)}_addParent(ue){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ue),de):de?[de,ue]:ue}_removeParent(ue){const{_parentage:de}=this;de===ue?this._parentage=null:Array.isArray(de)&&(0,re.P)(de,ue)}remove(ue){const{_finalizers:de}=this;de&&(0,re.P)(de,ue),ue instanceof we&&ue._removeParent(this)}}we.EMPTY=(()=>{const Fe=new we;return Fe.closed=!0,Fe})();const De=we.EMPTY;function fe(Fe){return Fe instanceof we||Fe&&"closed"in Fe&&(0,d.m)(Fe.remove)&&(0,d.m)(Fe.add)&&(0,d.m)(Fe.unsubscribe)}function je(Fe){(0,d.m)(Fe)?Fe():Fe.unsubscribe()}},2653:(rn,it,x)=>{"use strict";x.d(it,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(rn,it,x)=>{"use strict";x.d(it,{a:()=>ue});var d=x(5592),g=x(7453),X=x(2459),re=x(2737),we=x(7400),De=x(4564),fe=x(2714),je=x(8251),Fe=x(7103);function ue(...me){const Ne=(0,De.yG)(me),Xe=(0,De.jO)(me),{args:et,keys:Ue}=(0,g.D)(me);if(0===et.length)return(0,X.D)([],Ne);const Se=new d.y(function de(me,Ne,Xe=re.y){return et=>{ye(Ne,()=>{const{length:Ue}=me,Se=new Array(Ue);let ct=Ue,We=Ue;for(let Ce=0;Ce<Ue;Ce++)ye(Ne,()=>{const Ve=(0,X.D)(me[Ce],Ne);let _e=!1;Ve.subscribe((0,je.x)(et,He=>{Se[Ce]=He,_e||(_e=!0,We--),We||et.next(Xe(Se.slice()))},()=>{--ct||et.complete()}))},et)},et)}}(et,Ne,Ue?ct=>(0,fe.n)(Ue,ct):re.y));return Xe?Se.pipe((0,we.Z)(Xe)):Se}function ye(me,Ne,Xe){me?(0,Fe.f)(Xe,me,Ne):Ne()}},5211:(rn,it,x)=>{"use strict";x.d(it,{z:()=>we});var d=x(7537),X=x(4564),re=x(2459);function we(...De){return function g(){return(0,d.J)(1)}()((0,re.D)(De,(0,X.yG)(De)))}},6232:(rn,it,x)=>{"use strict";x.d(it,{E:()=>g});const g=new(x(5592).y)(we=>we.complete())},2459:(rn,it,x)=>{"use strict";x.d(it,{D:()=>Ve});var d=x(4829),g=x(3093),X=x(5137),De=x(5592),je=x(4971),Fe=x(4674),ue=x(7103);function ye(_e,He){if(!_e)throw new Error("Iterable cannot be null");return new De.y(Re=>{(0,ue.f)(Re,He,()=>{const Oe=_e[Symbol.asyncIterator]();(0,ue.f)(Re,He,()=>{Oe.next().then(Ee=>{Ee.done?Re.complete():Re.next(Ee.value)})},0,!0)})})}var me=x(8382),Ne=x(4026),Xe=x(4266),et=x(3664),Ue=x(5726),Se=x(9853),ct=x(541);function Ve(_e,He){return He?function Ce(_e,He){if(null!=_e){if((0,me.c)(_e))return function re(_e,He){return(0,d.Xf)(_e).pipe((0,X.R)(He),(0,g.Q)(He))}(_e,He);if((0,Xe.z)(_e))return function fe(_e,He){return new De.y(Re=>{let Oe=0;return He.schedule(function(){Oe===_e.length?Re.complete():(Re.next(_e[Oe++]),Re.closed||this.schedule())})})}(_e,He);if((0,Ne.t)(_e))return function we(_e,He){return(0,d.Xf)(_e).pipe((0,X.R)(He),(0,g.Q)(He))}(_e,He);if((0,Ue.D)(_e))return ye(_e,He);if((0,et.T)(_e))return function de(_e,He){return new De.y(Re=>{let Oe;return(0,ue.f)(Re,He,()=>{Oe=_e[je.h](),(0,ue.f)(Re,He,()=>{let Ee,Ye;try{({value:Ee,done:Ye}=Oe.next())}catch(pe){return void Re.error(pe)}Ye?Re.complete():Re.next(Ee)},0,!0)}),()=>(0,Fe.m)(null==Oe?void 0:Oe.return)&&Oe.return()})}(_e,He);if((0,ct.L)(_e))return function We(_e,He){return ye((0,ct.Q)(_e),He)}(_e,He)}throw(0,Se.z)(_e)}(_e,He):(0,d.Xf)(_e)}},4829:(rn,it,x)=>{"use strict";x.d(it,{Xf:()=>me});var d=x(7582),g=x(4266),X=x(4026),re=x(5592),we=x(8382),De=x(5726),fe=x(9853),je=x(3664),Fe=x(541),ue=x(4674),de=x(3894),ye=x(4850);function me(Ce){if(Ce instanceof re.y)return Ce;if(null!=Ce){if((0,we.c)(Ce))return function Ne(Ce){return new re.y(Ve=>{const _e=Ce[ye.L]();if((0,ue.m)(_e.subscribe))return _e.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,g.z)(Ce))return function Xe(Ce){return new re.y(Ve=>{for(let _e=0;_e<Ce.length&&!Ve.closed;_e++)Ve.next(Ce[_e]);Ve.complete()})}(Ce);if((0,X.t)(Ce))return function et(Ce){return new re.y(Ve=>{Ce.then(_e=>{Ve.closed||(Ve.next(_e),Ve.complete())},_e=>Ve.error(_e)).then(null,de.h)})}(Ce);if((0,De.D)(Ce))return Se(Ce);if((0,je.T)(Ce))return function Ue(Ce){return new re.y(Ve=>{for(const _e of Ce)if(Ve.next(_e),Ve.closed)return;Ve.complete()})}(Ce);if((0,Fe.L)(Ce))return function ct(Ce){return Se((0,Fe.Q)(Ce))}(Ce)}throw(0,fe.z)(Ce)}function Se(Ce){return new re.y(Ve=>{(function We(Ce,Ve){var _e,He,Re,Oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(_e=(0,d.KL)(Ce);!(He=yield _e.next()).done;)if(Ve.next(He.value),Ve.closed)return}catch(Ee){Re={error:Ee}}finally{try{He&&!He.done&&(Oe=_e.return)&&(yield Oe.call(_e))}finally{if(Re)throw Re.error}}Ve.complete()})})(Ce,Ve).catch(_e=>Ve.error(_e))})}},3019:(rn,it,x)=>{"use strict";x.d(it,{T:()=>De});var d=x(7537),g=x(4829),X=x(6232),re=x(4564),we=x(2459);function De(...fe){const je=(0,re.yG)(fe),Fe=(0,re._6)(fe,1/0),ue=fe;return ue.length?1===ue.length?(0,g.Xf)(ue[0]):(0,d.J)(Fe)((0,we.D)(ue,je)):X.E}},2096:(rn,it,x)=>{"use strict";x.d(it,{of:()=>X});var d=x(4564),g=x(2459);function X(...re){const we=(0,d.yG)(re);return(0,g.D)(re,we)}},8251:(rn,it,x)=>{"use strict";x.d(it,{x:()=>g});var d=x(305);function g(re,we,De,fe,je){return new X(re,we,De,fe,je)}class X extends d.Lv{constructor(we,De,fe,je,Fe,ue){super(we),this.onFinalize=Fe,this.shouldUnsubscribe=ue,this._next=De?function(de){try{De(de)}catch(ye){we.error(ye)}}:super._next,this._error=je?function(de){try{je(de)}catch(ye){we.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(de){we.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},6328:(rn,it,x)=>{"use strict";x.d(it,{b:()=>X});var d=x(1631),g=x(4674);function X(re,we){return(0,g.m)(we)?(0,d.z)(re,we,1):(0,d.z)(re,1)}},3572:(rn,it,x)=>{"use strict";x.d(it,{d:()=>X});var d=x(9360),g=x(8251);function X(re){return(0,d.e)((we,De)=>{let fe=!1;we.subscribe((0,g.x)(De,je=>{fe=!0,De.next(je)},()=>{fe||De.next(re),De.complete()}))})}},3997:(rn,it,x)=>{"use strict";x.d(it,{x:()=>re});var d=x(2737),g=x(9360),X=x(8251);function re(De,fe=d.y){return De=null!=De?De:we,(0,g.e)((je,Fe)=>{let ue,de=!0;je.subscribe((0,X.x)(Fe,ye=>{const me=fe(ye);(de||!De(ue,me))&&(de=!1,ue=me,Fe.next(ye))}))})}function we(De,fe){return De===fe}},2181:(rn,it,x)=>{"use strict";x.d(it,{h:()=>X});var d=x(9360),g=x(8251);function X(re,we){return(0,d.e)((De,fe)=>{let je=0;De.subscribe((0,g.x)(fe,Fe=>re.call(we,Fe,je++)&&fe.next(Fe)))})}},4716:(rn,it,x)=>{"use strict";x.d(it,{x:()=>g});var d=x(9360);function g(X){return(0,d.e)((re,we)=>{try{re.subscribe(we)}finally{we.add(X)}})}},1374:(rn,it,x)=>{"use strict";x.d(it,{P:()=>fe});var d=x(6973),g=x(2181),X=x(8180),re=x(3572),we=x(3026),De=x(2737);function fe(je,Fe){const ue=arguments.length>=2;return de=>de.pipe(je?(0,g.h)((ye,me)=>je(ye,me,de)):De.y,(0,X.q)(1),ue?(0,re.d)(Fe):(0,we.T)(()=>new d.K))}},7398:(rn,it,x)=>{"use strict";x.d(it,{U:()=>X});var d=x(9360),g=x(8251);function X(re,we){return(0,d.e)((De,fe)=>{let je=0;De.subscribe((0,g.x)(fe,Fe=>{fe.next(re.call(we,Fe,je++))}))})}},7537:(rn,it,x)=>{"use strict";x.d(it,{J:()=>X});var d=x(1631),g=x(2737);function X(re=1/0){return(0,d.z)(g.y,re)}},1631:(rn,it,x)=>{"use strict";x.d(it,{z:()=>je});var d=x(7398),g=x(4829),X=x(9360),re=x(7103),we=x(8251),fe=x(4674);function je(Fe,ue,de=1/0){return(0,fe.m)(ue)?je((ye,me)=>(0,d.U)((Ne,Xe)=>ue(ye,Ne,me,Xe))((0,g.Xf)(Fe(ye,me))),de):("number"==typeof ue&&(de=ue),(0,X.e)((ye,me)=>function De(Fe,ue,de,ye,me,Ne,Xe,et){const Ue=[];let Se=0,ct=0,We=!1;const Ce=()=>{We&&!Ue.length&&!Se&&ue.complete()},Ve=He=>Se<ye?_e(He):Ue.push(He),_e=He=>{Ne&&ue.next(He),Se++;let Re=!1;(0,g.Xf)(de(He,ct++)).subscribe((0,we.x)(ue,Oe=>{null==me||me(Oe),Ne?Ve(Oe):ue.next(Oe)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Se--;Ue.length&&Se<ye;){const Oe=Ue.shift();Xe?(0,re.f)(ue,Xe,()=>_e(Oe)):_e(Oe)}Ce()}catch(Oe){ue.error(Oe)}}))};return Fe.subscribe((0,we.x)(ue,Ve,()=>{We=!0,Ce()})),()=>{null==et||et()}}(ye,me,Fe,de)))}},3093:(rn,it,x)=>{"use strict";x.d(it,{Q:()=>re});var d=x(7103),g=x(9360),X=x(8251);function re(we,De=0){return(0,g.e)((fe,je)=>{fe.subscribe((0,X.x)(je,Fe=>(0,d.f)(je,we,()=>je.next(Fe),De),()=>(0,d.f)(je,we,()=>je.complete(),De),Fe=>(0,d.f)(je,we,()=>je.error(Fe),De)))})}},6699:(rn,it,x)=>{"use strict";x.d(it,{R:()=>re});var d=x(9360),g=x(8251);function re(we,De){return(0,d.e)(function X(we,De,fe,je,Fe){return(ue,de)=>{let ye=fe,me=De,Ne=0;ue.subscribe((0,g.x)(de,Xe=>{const et=Ne++;me=ye?we(me,Xe,et):(ye=!0,Xe),je&&de.next(me)},Fe&&(()=>{ye&&de.next(me),de.complete()})))}}(we,De,arguments.length>=2,!0))}},3020:(rn,it,x)=>{"use strict";x.d(it,{B:()=>we});var d=x(4829),g=x(8645),X=x(305),re=x(9360);function we(fe={}){const{connector:je=(()=>new g.x),resetOnError:Fe=!0,resetOnComplete:ue=!0,resetOnRefCountZero:de=!0}=fe;return ye=>{let me,Ne,Xe,et=0,Ue=!1,Se=!1;const ct=()=>{null==Ne||Ne.unsubscribe(),Ne=void 0},We=()=>{ct(),me=Xe=void 0,Ue=Se=!1},Ce=()=>{const Ve=me;We(),null==Ve||Ve.unsubscribe()};return(0,re.e)((Ve,_e)=>{et++,!Se&&!Ue&&ct();const He=Xe=null!=Xe?Xe:je();_e.add(()=>{et--,0===et&&!Se&&!Ue&&(Ne=De(Ce,de))}),He.subscribe(_e),!me&&et>0&&(me=new X.Hp({next:Re=>He.next(Re),error:Re=>{Se=!0,ct(),Ne=De(We,Fe,Re),He.error(Re)},complete:()=>{Ue=!0,ct(),Ne=De(We,ue),He.complete()}}),(0,d.Xf)(Ve).subscribe(me))})(ye)}}function De(fe,je,...Fe){if(!0===je)return void fe();if(!1===je)return;const ue=new X.Hp({next:()=>{ue.unsubscribe(),fe()}});return(0,d.Xf)(je(...Fe)).subscribe(ue)}},7921:(rn,it,x)=>{"use strict";x.d(it,{O:()=>re});var d=x(5211),g=x(4564),X=x(9360);function re(...we){const De=(0,g.yG)(we);return(0,X.e)((fe,je)=>{(De?(0,d.z)(we,fe,De):(0,d.z)(we,fe)).subscribe(je)})}},5137:(rn,it,x)=>{"use strict";x.d(it,{R:()=>g});var d=x(9360);function g(X,re=0){return(0,d.e)((we,De)=>{De.add(X.schedule(()=>we.subscribe(De),re))})}},4664:(rn,it,x)=>{"use strict";x.d(it,{w:()=>re});var d=x(4829),g=x(9360),X=x(8251);function re(we,De){return(0,g.e)((fe,je)=>{let Fe=null,ue=0,de=!1;const ye=()=>de&&!Fe&&je.complete();fe.subscribe((0,X.x)(je,me=>{null==Fe||Fe.unsubscribe();let Ne=0;const Xe=ue++;(0,d.Xf)(we(me,Xe)).subscribe(Fe=(0,X.x)(je,et=>je.next(De?De(me,et,Xe,Ne++):et),()=>{Fe=null,ye()}))},()=>{de=!0,ye()}))})}},8180:(rn,it,x)=>{"use strict";x.d(it,{q:()=>re});var d=x(6232),g=x(9360),X=x(8251);function re(we){return we<=0?()=>d.E:(0,g.e)((De,fe)=>{let je=0;De.subscribe((0,X.x)(fe,Fe=>{++je<=we&&(fe.next(Fe),we<=je&&fe.complete())}))})}},9397:(rn,it,x)=>{"use strict";x.d(it,{b:()=>we});var d=x(4674),g=x(9360),X=x(8251),re=x(2737);function we(De,fe,je){const Fe=(0,d.m)(De)||fe||je?{next:De,error:fe,complete:je}:De;return Fe?(0,g.e)((ue,de)=>{var ye;null===(ye=Fe.subscribe)||void 0===ye||ye.call(Fe);let me=!0;ue.subscribe((0,X.x)(de,Ne=>{var Xe;null===(Xe=Fe.next)||void 0===Xe||Xe.call(Fe,Ne),de.next(Ne)},()=>{var Ne;me=!1,null===(Ne=Fe.complete)||void 0===Ne||Ne.call(Fe),de.complete()},Ne=>{var Xe;me=!1,null===(Xe=Fe.error)||void 0===Xe||Xe.call(Fe,Ne),de.error(Ne)},()=>{var Ne,Xe;me&&(null===(Ne=Fe.unsubscribe)||void 0===Ne||Ne.call(Fe)),null===(Xe=Fe.finalize)||void 0===Xe||Xe.call(Fe)}))}):re.y}},3026:(rn,it,x)=>{"use strict";x.d(it,{T:()=>re});var d=x(6973),g=x(9360),X=x(8251);function re(De=we){return(0,g.e)((fe,je)=>{let Fe=!1;fe.subscribe((0,X.x)(je,ue=>{Fe=!0,je.next(ue)},()=>Fe?je.complete():je.error(De())))})}function we(){return new d.K}},1954:(rn,it,x)=>{"use strict";x.d(it,{o:()=>we});var d=x(7394);class g extends d.w0{constructor(fe,je){super()}schedule(fe,je=0){return this}}const X={setInterval(De,fe,...je){const{delegate:Fe}=X;return null!=Fe&&Fe.setInterval?Fe.setInterval(De,fe,...je):setInterval(De,fe,...je)},clearInterval(De){const{delegate:fe}=X;return((null==fe?void 0:fe.clearInterval)||clearInterval)(De)},delegate:void 0};var re=x(9039);class we extends g{constructor(fe,je){super(fe,je),this.scheduler=fe,this.work=je,this.pending=!1}schedule(fe,je=0){var Fe;if(this.closed)return this;this.state=fe;const ue=this.id,de=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(de,ue,je)),this.pending=!0,this.delay=je,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(de,this.id,je),this}requestAsyncId(fe,je,Fe=0){return X.setInterval(fe.flush.bind(fe,this),Fe)}recycleAsyncId(fe,je,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return je;null!=je&&X.clearInterval(je)}execute(fe,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(fe,je);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,je){let ue,Fe=!1;try{this.work(fe)}catch(de){Fe=!0,ue=de||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:fe,scheduler:je}=this,{actions:Fe}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(Fe,this),null!=fe&&(this.id=this.recycleAsyncId(je,fe,null)),this.delay=null,super.unsubscribe()}}}},2631:(rn,it,x)=>{"use strict";x.d(it,{v:()=>X});var d=x(4552);class g{constructor(we,De=g.now){this.schedulerActionCtor=we,this.now=De}schedule(we,De=0,fe){return new this.schedulerActionCtor(this,we).schedule(fe,De)}}g.now=d.l.now;class X extends g{constructor(we,De=g.now){super(we,De),this.actions=[],this._active=!1}flush(we){const{actions:De}=this;if(this._active)return void De.push(we);let fe;this._active=!0;do{if(fe=we.execute(we.state,we.delay))break}while(we=De.shift());if(this._active=!1,fe){for(;we=De.shift();)we.unsubscribe();throw fe}}}},6321:(rn,it,x)=>{"use strict";x.d(it,{z:()=>X});var d=x(1954);const X=new(x(2631).v)(d.o)},4552:(rn,it,x)=>{"use strict";x.d(it,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(rn,it,x)=>{"use strict";x.d(it,{z:()=>d});const d={setTimeout(g,X,...re){const{delegate:we}=d;return null!=we&&we.setTimeout?we.setTimeout(g,X,...re):setTimeout(g,X,...re)},clearTimeout(g){const{delegate:X}=d;return((null==X?void 0:X.clearTimeout)||clearTimeout)(g)},delegate:void 0}},4971:(rn,it,x)=>{"use strict";x.d(it,{h:()=>g});const g=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rn,it,x)=>{"use strict";x.d(it,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(rn,it,x)=>{"use strict";x.d(it,{K:()=>g});const g=(0,x(2306).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(rn,it,x)=>{"use strict";x.d(it,{_6:()=>De,jO:()=>re,yG:()=>we});var d=x(4674);function X(fe){return fe[fe.length-1]}function re(fe){return(0,d.m)(X(fe))?fe.pop():void 0}function we(fe){return function g(fe){return fe&&(0,d.m)(fe.schedule)}(X(fe))?fe.pop():void 0}function De(fe,je){return"number"==typeof X(fe)?fe.pop():je}},7453:(rn,it,x)=>{"use strict";x.d(it,{D:()=>we});const{isArray:d}=Array,{getPrototypeOf:g,prototype:X,keys:re}=Object;function we(fe){if(1===fe.length){const je=fe[0];if(d(je))return{args:je,keys:null};if(function De(fe){return fe&&"object"==typeof fe&&g(fe)===X}(je)){const Fe=re(je);return{args:Fe.map(ue=>je[ue]),keys:Fe}}}return{args:fe,keys:null}}},9039:(rn,it,x)=>{"use strict";function d(g,X){if(g){const re=g.indexOf(X);0<=re&&g.splice(re,1)}}x.d(it,{P:()=>d})},2306:(rn,it,x)=>{"use strict";function d(g){const re=g(we=>{Error.call(we),we.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}x.d(it,{d:()=>d})},2714:(rn,it,x)=>{"use strict";function d(g,X){return g.reduce((re,we,De)=>(re[we]=X[De],re),{})}x.d(it,{n:()=>d})},1441:(rn,it,x)=>{"use strict";x.d(it,{O:()=>re,x:()=>X});var d=x(2653);let g=null;function X(we){if(d.config.useDeprecatedSynchronousErrorHandling){const De=!g;if(De&&(g={errorThrown:!1,error:null}),we(),De){const{errorThrown:fe,error:je}=g;if(g=null,fe)throw je}}else we()}function re(we){d.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=we)}},7103:(rn,it,x)=>{"use strict";function d(g,X,re,we=0,De=!1){const fe=X.schedule(function(){re(),De?g.add(this.schedule(null,we)):this.unsubscribe()},we);if(g.add(fe),!De)return fe}x.d(it,{f:()=>d})},2737:(rn,it,x)=>{"use strict";function d(g){return g}x.d(it,{y:()=>d})},4266:(rn,it,x)=>{"use strict";x.d(it,{z:()=>d});const d=g=>g&&"number"==typeof g.length&&"function"!=typeof g},5726:(rn,it,x)=>{"use strict";x.d(it,{D:()=>g});var d=x(4674);function g(X){return Symbol.asyncIterator&&(0,d.m)(null==X?void 0:X[Symbol.asyncIterator])}},4674:(rn,it,x)=>{"use strict";function d(g){return"function"==typeof g}x.d(it,{m:()=>d})},8382:(rn,it,x)=>{"use strict";x.d(it,{c:()=>X});var d=x(4850),g=x(4674);function X(re){return(0,g.m)(re[d.L])}},3664:(rn,it,x)=>{"use strict";x.d(it,{T:()=>X});var d=x(4971),g=x(4674);function X(re){return(0,g.m)(null==re?void 0:re[d.h])}},4026:(rn,it,x)=>{"use strict";x.d(it,{t:()=>g});var d=x(4674);function g(X){return(0,d.m)(null==X?void 0:X.then)}},541:(rn,it,x)=>{"use strict";x.d(it,{L:()=>re,Q:()=>X});var d=x(7582),g=x(4674);function X(we){return(0,d.FC)(this,arguments,function*(){const fe=we.getReader();try{for(;;){const{value:je,done:Fe}=yield(0,d.qq)(fe.read());if(Fe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(je)}}finally{fe.releaseLock()}})}function re(we){return(0,g.m)(null==we?void 0:we.getReader)}},9360:(rn,it,x)=>{"use strict";x.d(it,{A:()=>g,e:()=>X});var d=x(4674);function g(re){return(0,d.m)(null==re?void 0:re.lift)}function X(re){return we=>{if(g(we))return we.lift(function(De){try{return re(De,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>re});var d=x(7398);const{isArray:g}=Array;function re(we){return(0,d.U)(De=>function X(we,De){return g(De)?we(...De):we(De)}(we,De))}},2420:(rn,it,x)=>{"use strict";function d(){}x.d(it,{Z:()=>d})},8407:(rn,it,x)=>{"use strict";x.d(it,{U:()=>X,z:()=>g});var d=x(2737);function g(...re){return X(re)}function X(re){return 0===re.length?d.y:1===re.length?re[0]:function(De){return re.reduce((fe,je)=>je(fe),De)}}},3894:(rn,it,x)=>{"use strict";x.d(it,{h:()=>X});var d=x(2653),g=x(7599);function X(re){g.z.setTimeout(()=>{const{onUnhandledError:we}=d.config;if(!we)throw re;we(re)})}},9853:(rn,it,x)=>{"use strict";function d(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(it,{z:()=>d})},863:(rn,it,x)=>{var d={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7350,433],"./ion-datetime_3.entry.js":[7059,7350,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function g(X){if(!x.o(d,X))return Promise.resolve().then(()=>{var De=new Error("Cannot find module '"+X+"'");throw De.code="MODULE_NOT_FOUND",De});var re=d[X],we=re[0];return Promise.all(re.slice(1).map(x.e)).then(()=>x(we))}g.keys=()=>Object.keys(d),g.id=863,rn.exports=g},5899:(rn,it,x)=>{var d={"./pwa-action-sheet.entry.js":[1120,1120],"./pwa-camera-modal-instance.entry.js":[4995,4995],"./pwa-camera-modal.entry.js":[7324,7324],"./pwa-camera.entry.js":[6390,6390],"./pwa-toast.entry.js":[2813,2813]};function g(X){if(!x.o(d,X))return Promise.resolve().then(()=>{var De=new Error("Cannot find module '"+X+"'");throw De.code="MODULE_NOT_FOUND",De});var re=d[X],we=re[0];return x.e(re[1]).then(()=>x(we))}g.keys=()=>Object.keys(d),g.id=5899,rn.exports=g},6814:(rn,it,x)=>{"use strict";x.d(it,{Do:()=>et,EM:()=>Di,HT:()=>re,JF:()=>Ji,K0:()=>De,Mx:()=>Br,O5:()=>_i,PM:()=>Ys,S$:()=>me,V_:()=>je,Ye:()=>Ue,b0:()=>Xe,bD:()=>cs,ez:()=>ti,q:()=>X,sg:()=>Or,tP:()=>Ct,w_:()=>we});var d=x(5879);let g=null;function X(){return g}function re(T){g||(g=T)}class we{}const De=new d.OlP("DocumentToken");let fe=(()=>{var T;class z{historyGo(L){throw new Error("Not implemented")}}return(T=z).\u0275fac=function(L){return new(L||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(Fe)},providedIn:"platform"}),z})();const je=new d.OlP("Location Initialized");let Fe=(()=>{var T;class z extends fe{constructor(){super(),this._doc=(0,d.f3M)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(L){const he=X().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",L,!1),()=>he.removeEventListener("popstate",L)}onHashChange(L){const he=X().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",L,!1),()=>he.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,he,qe){this._history.pushState(L,he,qe)}replaceState(L,he,qe){this._history.replaceState(L,he,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return(T=z).\u0275fac=function(L){return new(L||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return new T},providedIn:"platform"}),z})();function ue(T,z){if(0==T.length)return z;if(0==z.length)return T;let xe=0;return T.endsWith("/")&&xe++,z.startsWith("/")&&xe++,2==xe?T+z.substring(1):1==xe?T+z:T+"/"+z}function de(T){const z=T.match(/#|\?|$/),xe=z&&z.index||T.length;return T.slice(0,xe-("/"===T[xe-1]?1:0))+T.slice(xe)}function ye(T){return T&&"?"!==T[0]?"?"+T:T}let me=(()=>{var T;class z{historyGo(L){throw new Error("Not implemented")}}return(T=z).\u0275fac=function(L){return new(L||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(Xe)},providedIn:"root"}),z})();const Ne=new d.OlP("appBaseHref");let Xe=(()=>{var T;class z extends me{constructor(L,he){var qe,$t,hn;super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=null!==(qe=null!==($t=null!=he?he:this._platformLocation.getBaseHrefFromDOM())&&void 0!==$t?$t:null===(hn=(0,d.f3M)(De).location)||void 0===hn?void 0:hn.origin)&&void 0!==qe?qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ue(this._baseHref,L)}path(L=!1){const he=this._platformLocation.pathname+ye(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&L?`${he}${qe}`:he}pushState(L,he,qe,$t){const hn=this.prepareExternalUrl(qe+ye($t));this._platformLocation.pushState(L,he,hn)}replaceState(L,he,qe,$t){const hn=this.prepareExternalUrl(qe+ye($t));this._platformLocation.replaceState(L,he,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var he,qe;null===(he=(qe=this._platformLocation).historyGo)||void 0===he||he.call(qe,L)}}return(T=z).\u0275fac=function(L){return new(L||T)(d.LFG(fe),d.LFG(Ne,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),z})(),et=(()=>{var T;class z extends me{constructor(L,he){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(L){const he=ue(this._baseHref,L);return he.length>0?"#"+he:he}pushState(L,he,qe,$t){let hn=this.prepareExternalUrl(qe+ye($t));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.pushState(L,he,hn)}replaceState(L,he,qe,$t){let hn=this.prepareExternalUrl(qe+ye($t));0==hn.length&&(hn=this._platformLocation.pathname),this._platformLocation.replaceState(L,he,hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var he,qe;null===(he=(qe=this._platformLocation).historyGo)||void 0===he||he.call(qe,L)}}return(T=z).\u0275fac=function(L){return new(L||T)(d.LFG(fe),d.LFG(Ne,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac}),z})(),Ue=(()=>{var T;class z{constructor(L){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const he=this._locationStrategy.getBaseHref();this._basePath=function Ce(T){if(new RegExp("^(https?:)?//").test(T)){const[,xe]=T.split(/\/\/[^\/]+/);return xe}return T}(de(We(he))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){var L;null===(L=this._urlChangeSubscription)||void 0===L||L.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,he=""){return this.path()==this.normalize(L+ye(he))}normalize(L){return z.stripTrailingSlash(function ct(T,z){if(!T||!z.startsWith(T))return z;const xe=z.substring(T.length);return""===xe||["/",";","?","#"].includes(xe[0])?xe:z}(this._basePath,We(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,he="",qe=null){this._locationStrategy.pushState(qe,"",L,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ye(he)),qe)}replaceState(L,he="",qe=null){this._locationStrategy.replaceState(qe,"",L,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ye(he)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){var he,qe;null===(he=(qe=this._locationStrategy).historyGo)||void 0===he||he.call(qe,L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(L);var qe;this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(null===(qe=this._urlChangeSubscription)||void 0===qe||qe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",he){this._urlChangeListeners.forEach(qe=>qe(L,he))}subscribe(L,he,qe){return this._subject.subscribe({next:L,error:he,complete:qe})}}return(T=z).normalizeQueryParams=ye,T.joinWithSlash=ue,T.stripTrailingSlash=de,T.\u0275fac=function(L){return new(L||T)(d.LFG(me))},T.\u0275prov=d.Yz7({token:T,factory:function(){return function Se(){return new Ue((0,d.LFG)(me))}()},providedIn:"root"}),z})();function We(T){return T.replace(/\/index.html$/,"")}function Br(T,z){z=encodeURIComponent(z);for(const xe of T.split(";")){const L=xe.indexOf("="),[he,qe]=-1==L?[xe,""]:[xe.slice(0,L),xe.slice(L+1)];if(he.trim()===z)return decodeURIComponent(qe)}return null}class wi{constructor(z,xe,L,he){this.$implicit=z,this.ngForOf=xe,this.index=L,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{var T;class z{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,he,qe){this._viewContainer=L,this._template=he,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const he=this._viewContainer;L.forEachOperation((qe,$t,hn)=>{if(null==qe.previousIndex)he.createEmbeddedView(this._template,new wi(qe.item,this._ngForOf,-1,-1),null===hn?void 0:hn);else if(null==hn)he.remove(null===$t?void 0:$t);else if(null!==$t){const Dr=he.get($t);he.move(Dr,hn),ki(Dr,qe)}});for(let qe=0,$t=he.length;qe<$t;qe++){const Dr=he.get(qe).context;Dr.index=qe,Dr.count=$t,Dr.ngForOf=this._ngForOf}L.forEachIdentityChange(qe=>{ki(he.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(L,he){return!0}}return(T=z).\u0275fac=function(L){return new(L||T)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function ki(T,z){T.context.$implicit=z.item}let _i=(()=>{var T;class z{constructor(L,he){this._viewContainer=L,this._context=new $i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Mi("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Mi("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,he){return!0}}return(T=z).\u0275fac=function(L){return new(L||T)(d.Y36(d.s_b),d.Y36(d.Rgc))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class $i{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(T,z){if(z&&!z.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,d.AaK)(z)}'.`)}let Ct=(()=>{var T;class z{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:qe,ngTemplateOutletContext:$t,ngTemplateOutletInjector:hn}=this;this._viewRef=he.createEmbeddedView(qe,$t,hn?{injector:hn}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(T=z).\u0275fac=function(L){return new(L||T)(d.Y36(d.s_b))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),z})(),ti=(()=>{var T;class z{}return(T=z).\u0275fac=function(L){return new(L||T)},T.\u0275mod=d.oAB({type:T}),T.\u0275inj=d.cJS({}),z})();const cs="browser",so="server";function Ys(T){return T===so}let Di=(()=>{var T;class z{}return(T=z).\u0275prov=(0,d.Yz7)({token:T,providedIn:"root",factory:()=>new us((0,d.LFG)(De),window)}),z})();class us{constructor(z,xe){this.document=z,this.window=xe,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const xe=function vs(T,z){const xe=T.getElementById(z)||T.getElementsByName(z)[0];if(xe)return xe;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const L=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let he=L.currentNode;for(;he;){const qe=he.shadowRoot;if(qe){const $t=qe.getElementById(z)||qe.querySelector(`[name="${z}"]`);if($t)return $t}he=L.nextNode()}}return null}(this.document,z);xe&&(this.scrollToElement(xe),xe.focus())}setHistoryScrollRestoration(z){this.supportsScrolling()&&(this.window.history.scrollRestoration=z)}scrollToElement(z){const xe=z.getBoundingClientRect(),L=xe.left+this.window.pageXOffset,he=xe.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(L-qe[0],he-qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ji{}},9862:(rn,it,x)=>{"use strict";x.d(it,{JF:()=>B,eN:()=>se});var d=x(5879),g=x(2096),X=x(2459),re=x(5592),we=x(6328),De=x(2181),fe=x(7398),je=x(4716),Fe=x(4664),ue=x(6814);class de{}class ye{}class me{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?"string"==typeof Le?this.lazyInit=()=>{this.headers=new Map,Le.split("\n").forEach(It=>{const ft=It.indexOf(":");if(ft>0){const Kt=It.slice(0,ft),Gt=Kt.toLowerCase(),wn=It.slice(ft+1).trim();this.maybeSetNormalizedName(Kt,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(wn):this.headers.set(Gt,[wn])}})}:typeof Headers<"u"&&Le instanceof Headers?(this.headers=new Map,Le.forEach((It,ft)=>{this.setHeaderEntries(ft,It)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Le).forEach(([It,ft])=>{this.setHeaderEntries(It,ft)})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const It=this.headers.get(Le.toLowerCase());return It&&It.length>0?It[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,It){return this.clone({name:Le,value:It,op:"a"})}set(Le,It){return this.clone({name:Le,value:It,op:"s"})}delete(Le,It){return this.clone({name:Le,value:It,op:"d"})}maybeSetNormalizedName(Le,It){this.normalizedNames.has(It)||this.normalizedNames.set(It,Le)}init(){this.lazyInit&&(this.lazyInit instanceof me?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach(It=>{this.headers.set(It,Le.headers.get(It)),this.normalizedNames.set(It,Le.normalizedNames.get(It))})}clone(Le){const It=new me;return It.lazyInit=this.lazyInit&&this.lazyInit instanceof me?this.lazyInit:this,It.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),It}applyUpdate(Le){const It=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let ft=Le.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(Le.name,It);const Kt=("a"===Le.op?this.headers.get(It):void 0)||[];Kt.push(...ft),this.headers.set(It,Kt);break;case"d":const Gt=Le.value;if(Gt){let wn=this.headers.get(It);if(!wn)return;wn=wn.filter(Jt=>-1===Gt.indexOf(Jt)),0===wn.length?(this.headers.delete(It),this.normalizedNames.delete(It)):this.headers.set(It,wn)}else this.headers.delete(It),this.normalizedNames.delete(It)}}setHeaderEntries(Le,It){const ft=(Array.isArray(It)?It:[It]).map(Gt=>Gt.toString()),Kt=Le.toLowerCase();this.headers.set(Kt,ft),this.maybeSetNormalizedName(Le,Kt)}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach(It=>Le(this.normalizedNames.get(It),this.headers.get(It)))}}class Xe{encodeKey(Le){return ct(Le)}encodeValue(Le){return ct(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const Ue=/%(\d[a-f0-9])/gi,Se={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ct(Je){return encodeURIComponent(Je).replace(Ue,(Le,It)=>{var ft;return null!==(ft=Se[It])&&void 0!==ft?ft:Le})}function We(Je){return`${Je}`}class Ce{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new Xe,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function et(Je,Le){const It=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(Kt=>{const Gt=Kt.indexOf("="),[wn,Jt]=-1==Gt?[Le.decodeKey(Kt),""]:[Le.decodeKey(Kt.slice(0,Gt)),Le.decodeValue(Kt.slice(Gt+1))],Qn=It.get(wn)||[];Qn.push(Jt),It.set(wn,Qn)}),It}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach(It=>{const ft=Le.fromObject[It],Kt=Array.isArray(ft)?ft.map(We):[We(ft)];this.map.set(It,Kt)})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const It=this.map.get(Le);return It?It[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,It){return this.clone({param:Le,value:It,op:"a"})}appendAll(Le){const It=[];return Object.keys(Le).forEach(ft=>{const Kt=Le[ft];Array.isArray(Kt)?Kt.forEach(Gt=>{It.push({param:ft,value:Gt,op:"a"})}):It.push({param:ft,value:Kt,op:"a"})}),this.clone(It)}set(Le,It){return this.clone({param:Le,value:It,op:"s"})}delete(Le,It){return this.clone({param:Le,value:It,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const It=this.encoder.encodeKey(Le);return this.map.get(Le).map(ft=>It+"="+this.encoder.encodeValue(ft)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const It=new Ce({encoder:this.encoder});return It.cloneFrom=this.cloneFrom||this,It.updates=(this.updates||[]).concat(Le),It}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const It=("a"===Le.op?this.map.get(Le.param):void 0)||[];It.push(We(Le.value)),this.map.set(Le.param,It);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let ft=this.map.get(Le.param)||[];const Kt=ft.indexOf(We(Le.value));-1!==Kt&&ft.splice(Kt,1),ft.length>0?this.map.set(Le.param,ft):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class _e{constructor(){this.map=new Map}set(Le,It){return this.map.set(Le,It),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function Re(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function Oe(Je){return typeof Blob<"u"&&Je instanceof Blob}function Ee(Je){return typeof FormData<"u"&&Je instanceof FormData}class pe{constructor(Le,It,ft,Kt){let Gt;if(this.url=It,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function He(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Kt?(this.body=void 0!==ft?ft:null,Gt=Kt):Gt=ft,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new me),this.context||(this.context=new _e),this.params){const wn=this.params.toString();if(0===wn.length)this.urlWithParams=It;else{const Jt=It.indexOf("?");this.urlWithParams=It+(-1===Jt?"?":Jt<It.length-1?"&":"")+wn}}else this.params=new Ce,this.urlWithParams=It}serializeBody(){return null===this.body?null:Re(this.body)||Oe(this.body)||Ee(this.body)||function Ye(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ee(this.body)?null:Oe(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){var It;const ft=Le.method||this.method,Kt=Le.url||this.url,Gt=Le.responseType||this.responseType,wn=void 0!==Le.body?Le.body:this.body,Jt=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,Qn=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let tr=Le.headers||this.headers,Ur=Le.params||this.params;const Ai=null!==(It=Le.context)&&void 0!==It?It:this.context;return void 0!==Le.setHeaders&&(tr=Object.keys(Le.setHeaders).reduce((hr,Br)=>hr.set(Br,Le.setHeaders[Br]),tr)),Le.setParams&&(Ur=Object.keys(Le.setParams).reduce((hr,Br)=>hr.set(Br,Le.setParams[Br]),Ur)),new pe(ft,Kt,wn,{params:Ur,headers:tr,context:Ai,reportProgress:Qn,responseType:Gt,withCredentials:Jt})}}var Ae=function(Je){return Je[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je}(Ae||{});class Be{constructor(Le,It=200,ft="OK"){this.headers=Le.headers||new me,this.status=void 0!==Le.status?Le.status:It,this.statusText=Le.statusText||ft,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}class Dt extends Be{constructor(Le={}){super(Le),this.type=Ae.ResponseHeader}clone(Le={}){return new Dt({headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class jt extends Be{constructor(Le={}){super(Le),this.type=Ae.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new jt({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class St extends Be{constructor(Le){super(Le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Le.url||"(unknown url)"}`:`Http failure response for ${Le.url||"(unknown url)"}: ${Le.status} ${Le.statusText}`,this.error=Le.error||null}}function at(Je,Le){return{body:Le,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let se=(()=>{var Je;class Le{constructor(ft){this.handler=ft}request(ft,Kt,Gt={}){let wn;if(ft instanceof pe)wn=ft;else{let tr,Ur;tr=Gt.headers instanceof me?Gt.headers:new me(Gt.headers),Gt.params&&(Ur=Gt.params instanceof Ce?Gt.params:new Ce({fromObject:Gt.params})),wn=new pe(ft,Kt,void 0!==Gt.body?Gt.body:null,{headers:tr,context:Gt.context,params:Ur,reportProgress:Gt.reportProgress,responseType:Gt.responseType||"json",withCredentials:Gt.withCredentials})}const Jt=(0,g.of)(wn).pipe((0,we.b)(tr=>this.handler.handle(tr)));if(ft instanceof pe||"events"===Gt.observe)return Jt;const Qn=Jt.pipe((0,De.h)(tr=>tr instanceof jt));switch(Gt.observe||"body"){case"body":switch(wn.responseType){case"arraybuffer":return Qn.pipe((0,fe.U)(tr=>{if(null!==tr.body&&!(tr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return tr.body}));case"blob":return Qn.pipe((0,fe.U)(tr=>{if(null!==tr.body&&!(tr.body instanceof Blob))throw new Error("Response is not a Blob.");return tr.body}));case"text":return Qn.pipe((0,fe.U)(tr=>{if(null!==tr.body&&"string"!=typeof tr.body)throw new Error("Response is not a string.");return tr.body}));default:return Qn.pipe((0,fe.U)(tr=>tr.body))}case"response":return Qn;default:throw new Error(`Unreachable: unhandled observe type ${Gt.observe}}`)}}delete(ft,Kt={}){return this.request("DELETE",ft,Kt)}get(ft,Kt={}){return this.request("GET",ft,Kt)}head(ft,Kt={}){return this.request("HEAD",ft,Kt)}jsonp(ft,Kt){return this.request("JSONP",ft,{params:(new Ce).append(Kt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ft,Kt={}){return this.request("OPTIONS",ft,Kt)}patch(ft,Kt,Gt={}){return this.request("PATCH",ft,at(Gt,Kt))}post(ft,Kt,Gt={}){return this.request("POST",ft,at(Gt,Kt))}put(ft,Kt,Gt={}){return this.request("PUT",ft,at(Gt,Kt))}}return(Je=Le).\u0275fac=function(ft){return new(ft||Je)(d.LFG(de))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac}),Le})();function tn(Je,Le){return Le(Je)}function tt(Je,Le){return(It,ft)=>Le.intercept(It,{handle:Kt=>Je(Kt,ft)})}const mt=new d.OlP(""),yt=new d.OlP(""),gt=new d.OlP("");function Ht(){let Je=null;return(Le,It)=>{var ft;null===Je&&(Je=(null!==(ft=(0,d.f3M)(mt,{optional:!0}))&&void 0!==ft?ft:[]).reduceRight(tt,tn));const Kt=(0,d.f3M)(d.HDt),Gt=Kt.add();return Je(Le,It).pipe((0,je.x)(()=>Kt.remove(Gt)))}}let Xt=(()=>{var Je;class Le extends de{constructor(ft,Kt){super(),this.backend=ft,this.injector=Kt,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(ft){if(null===this.chain){const Gt=Array.from(new Set([...this.injector.get(yt),...this.injector.get(gt,[])]));this.chain=Gt.reduceRight((wn,Jt)=>function Tn(Je,Le,It){return(ft,Kt)=>It.runInContext(()=>Le(ft,Gt=>Je(Gt,Kt)))}(wn,Jt,this.injector),tn)}const Kt=this.pendingTasks.add();return this.chain(ft,Gt=>this.backend.handle(Gt)).pipe((0,je.x)(()=>this.pendingTasks.remove(Kt)))}}return(Je=Le).\u0275fac=function(ft){return new(ft||Je)(d.LFG(ye),d.LFG(d.lqb))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac}),Le})();const cr=/^\)\]\}',?\n/;let Nt=(()=>{var Je;class Le{constructor(ft){this.xhrFactory=ft}handle(ft){if("JSONP"===ft.method)throw new d.vHH(-2800,!1);const Kt=this.xhrFactory;return(Kt.\u0275loadImpl?(0,X.D)(Kt.\u0275loadImpl()):(0,g.of)(null)).pipe((0,Fe.w)(()=>new re.y(wn=>{const Jt=Kt.build();if(Jt.open(ft.method,ft.urlWithParams),ft.withCredentials&&(Jt.withCredentials=!0),ft.headers.forEach((Jn,Ar)=>Jt.setRequestHeader(Jn,Ar.join(","))),ft.headers.has("Accept")||Jt.setRequestHeader("Accept","application/json, text/plain, */*"),!ft.headers.has("Content-Type")){const Jn=ft.detectContentTypeHeader();null!==Jn&&Jt.setRequestHeader("Content-Type",Jn)}if(ft.responseType){const Jn=ft.responseType.toLowerCase();Jt.responseType="json"!==Jn?Jn:"text"}const Qn=ft.serializeBody();let tr=null;const Ur=()=>{if(null!==tr)return tr;const Jn=Jt.statusText||"OK",Ar=new me(Jt.getAllResponseHeaders()),Jr=function vr(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(Jt)||ft.url;return tr=new Dt({headers:Ar,status:Jt.status,statusText:Jn,url:Jr}),tr},Ai=()=>{let{headers:Jn,status:Ar,statusText:Jr,url:wi}=Ur(),Or=null;204!==Ar&&(Or=typeof Jt.response>"u"?Jt.responseText:Jt.response),0===Ar&&(Ar=Or?200:0);let ki=Ar>=200&&Ar<300;if("json"===ft.responseType&&"string"==typeof Or){const Er=Or;Or=Or.replace(cr,"");try{Or=""!==Or?JSON.parse(Or):null}catch(_i){Or=Er,ki&&(ki=!1,Or={error:_i,text:Or})}}ki?(wn.next(new jt({body:Or,headers:Jn,status:Ar,statusText:Jr,url:wi||void 0})),wn.complete()):wn.error(new St({error:Or,headers:Jn,status:Ar,statusText:Jr,url:wi||void 0}))},hr=Jn=>{const{url:Ar}=Ur(),Jr=new St({error:Jn,status:Jt.status||0,statusText:Jt.statusText||"Unknown Error",url:Ar||void 0});wn.error(Jr)};let Br=!1;const Rr=Jn=>{Br||(wn.next(Ur()),Br=!0);let Ar={type:Ae.DownloadProgress,loaded:Jn.loaded};Jn.lengthComputable&&(Ar.total=Jn.total),"text"===ft.responseType&&Jt.responseText&&(Ar.partialText=Jt.responseText),wn.next(Ar)},pr=Jn=>{let Ar={type:Ae.UploadProgress,loaded:Jn.loaded};Jn.lengthComputable&&(Ar.total=Jn.total),wn.next(Ar)};return Jt.addEventListener("load",Ai),Jt.addEventListener("error",hr),Jt.addEventListener("timeout",hr),Jt.addEventListener("abort",hr),ft.reportProgress&&(Jt.addEventListener("progress",Rr),null!==Qn&&Jt.upload&&Jt.upload.addEventListener("progress",pr)),Jt.send(Qn),wn.next({type:Ae.Sent}),()=>{Jt.removeEventListener("error",hr),Jt.removeEventListener("abort",hr),Jt.removeEventListener("load",Ai),Jt.removeEventListener("timeout",hr),ft.reportProgress&&(Jt.removeEventListener("progress",Rr),null!==Qn&&Jt.upload&&Jt.upload.removeEventListener("progress",pr)),Jt.readyState!==Jt.DONE&&Jt.abort()}})))}}return(Je=Le).\u0275fac=function(ft){return new(ft||Je)(d.LFG(ue.JF))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac}),Le})();const Fn=new d.OlP("XSRF_ENABLED"),jn=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Sn=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yr{}let Xr=(()=>{var Je;class Le{constructor(ft,Kt,Gt){this.doc=ft,this.platform=Kt,this.cookieName=Gt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ft=this.doc.cookie||"";return ft!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue.Mx)(ft,this.cookieName),this.lastCookieString=ft),this.lastToken}}return(Je=Le).\u0275fac=function(ft){return new(ft||Je)(d.LFG(ue.K0),d.LFG(d.Lbi),d.LFG(jn))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac}),Le})();function zr(Je,Le){const It=Je.url.toLowerCase();if(!(0,d.f3M)(Fn)||"GET"===Je.method||"HEAD"===Je.method||It.startsWith("http://")||It.startsWith("https://"))return Le(Je);const ft=(0,d.f3M)(yr).getToken(),Kt=(0,d.f3M)(Sn);return null!=ft&&!Je.headers.has(Kt)&&(Je=Je.clone({headers:Je.headers.set(Kt,ft)})),Le(Je)}var fr=function(Je){return Je[Je.Interceptors=0]="Interceptors",Je[Je.LegacyInterceptors=1]="LegacyInterceptors",Je[Je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Je[Je.NoXsrfProtection=3]="NoXsrfProtection",Je[Je.JsonpSupport=4]="JsonpSupport",Je[Je.RequestsMadeViaParent=5]="RequestsMadeViaParent",Je[Je.Fetch=6]="Fetch",Je}(fr||{});function _t(Je,Le){return{\u0275kind:Je,\u0275providers:Le}}function Ze(...Je){const Le=[se,Nt,Xt,{provide:de,useExisting:Xt},{provide:ye,useExisting:Nt},{provide:yt,useValue:zr,multi:!0},{provide:Fn,useValue:!0},{provide:yr,useClass:Xr}];for(const It of Je)Le.push(...It.\u0275providers);return(0,d.MR2)(Le)}const Zt=new d.OlP("LEGACY_INTERCEPTOR_FN");let B=(()=>{var Je;class Le{}return(Je=Le).\u0275fac=function(ft){return new(ft||Je)},Je.\u0275mod=d.oAB({type:Je}),Je.\u0275inj=d.cJS({providers:[Ze(_t(fr.LegacyInterceptors,[{provide:Zt,useFactory:Ht},{provide:yt,useExisting:Zt,multi:!0}]))]}),Le})()},5879:(rn,it,x)=>{"use strict";x.d(it,{$8M:()=>xu,$WT:()=>Ii,$Z:()=>xE,AFp:()=>mE,AaK:()=>ye,CHM:()=>Sl,CRH:()=>Vw,EJc:()=>Ph,EpF:()=>db,F$t:()=>K_,F4k:()=>Ig,FYo:()=>ZD,FiY:()=>Rd,G48:()=>sA,Gf:()=>Bw,GfV:()=>Jd,GkF:()=>G_,Gpc:()=>Xe,HDt:()=>Jw,Hsn:()=>fb,JOm:()=>Ll,KtG:()=>ja,LFG:()=>Ge,LMc:()=>Oh,LSH:()=>Zy,Lbi:()=>Zm,Lck:()=>uw,MMx:()=>hw,MR2:()=>Vp,NdJ:()=>su,Ojb:()=>t_,OlP:()=>Pi,Oqu:()=>a0,P3R:()=>Up,PXZ:()=>JT,Q6J:()=>H_,QGY:()=>Mv,Qsj:()=>XD,R0b:()=>Co,RDi:()=>qd,Rgc:()=>qf,SBq:()=>mf,Sil:()=>tD,Suo:()=>Uw,TTD:()=>$r,TgZ:()=>_g,VuI:()=>ha,X6Q:()=>iA,XFs:()=>xn,Xpm:()=>Vt,Xq5:()=>uh,Xts:()=>lf,Y36:()=>oh,YKP:()=>Ah,YNc:()=>B_,Yjl:()=>bs,Yz7:()=>mt,Z0I:()=>Xt,ZZ4:()=>yD,_Bn:()=>ty,_UZ:()=>Sv,_c5:()=>vS,_uU:()=>Ab,aQg:()=>zI,c2e:()=>Qw,cJS:()=>gt,cg1:()=>Og,dDg:()=>ZT,dqk:()=>Nt,eFA:()=>eS,eJc:()=>_I,ekj:()=>Lv,eoX:()=>aD,f3M:()=>vt,g9A:()=>jl,h0i:()=>cu,hGG:()=>yS,hij:()=>Bv,iGM:()=>mI,ifc:()=>Gt,ip1:()=>$T,jDz:()=>fw,kL8:()=>_0,lG2:()=>ui,lqb:()=>Bl,lri:()=>kI,n5z:()=>Vh,oAB:()=>_r,oxw:()=>xv,q4F:()=>o_,qFp:()=>CS,qLn:()=>Qc,qOj:()=>_l,qZA:()=>Tv,rWj:()=>pu,rg0:()=>he,s9C:()=>Pv,sBO:()=>oA,s_b:()=>qg,soG:()=>xI,tb:()=>cD,tp0:()=>Bc,uIk:()=>Mf,vHH:()=>Ce,vpe:()=>ro,wAp:()=>lu,xp6:()=>sh,z2F:()=>im,zSh:()=>Km,zs3:()=>vl});var d=x(8645),g=x(7394),X=x(5592),re=x(3019),we=x(5619),De=x(2096),fe=x(3020),je=x(4664),Fe=x(3997);function ue(n){for(let s in n)if(n[s]===ue)return s;throw Error("Could not find renamed property on target object.")}function de(n,s){for(const o in s)s.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=s[o])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function me(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const Ne=ue({__forward_ref__:ue});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return ye(this())},n}function et(n){return Ue(n)?n():n}function Ue(n){return"function"==typeof n&&n.hasOwnProperty(Ne)&&n.__forward_ref__===Xe}function Se(n){return n&&!!n.\u0275providers}const We="https://g.co/ng/security#xss";class Ce extends Error{constructor(s,o){super(function Ve(n,s){return`NG0${Math.abs(n)}${s?": "+s:""}`}(s,o)),this.code=s}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n,s){throw new Ce(-201,!1)}function At(n,s){null==n&&function Tt(n,s,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,n,null,"!=")}function mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ht(n){return _n(n,dn)||_n(n,ir)}function Xt(n){return null!==Ht(n)}function _n(n,s){return n.hasOwnProperty(s)?n[s]:null}function cn(n){return n&&(n.hasOwnProperty(bn)||n.hasOwnProperty(lr))?n[bn]:null}const dn=ue({\u0275prov:ue}),bn=ue({\u0275inj:ue}),ir=ue({ngInjectableDef:ue}),lr=ue({ngInjectorDef:ue});var xn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xn||{});let Pn;function Zn(n){const s=Pn;return Pn=n,s}function cr(n,s,o){const l=Ht(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&xn.Optional?null:void 0!==s?s:void Ye(ye(n))}const Nt=globalThis,Zt={},an="__NG_DI_FLAG__",In="ngTempTokenPath",$e=/\n/gm,J="__source";let W;function ae(n){const s=W;return W=n,s}function Te(n,s=xn.Default){if(void 0===W)throw new Ce(-203,!1);return null===W?cr(n,void 0,s):W.get(n,s&xn.Optional?null:void 0,s)}function Ge(n,s=xn.Default){return(function Un(){return Pn}()||Te)(et(n),s)}function vt(n,s=xn.Default){return Ge(n,Yt(s))}function Yt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qt(n){const s=[];for(let o=0;o<n.length;o++){const l=et(n[o]);if(Array.isArray(l)){if(0===l.length)throw new Ce(900,!1);let u,p=xn.Default;for(let v=0;v<l.length;v++){const D=l[v],M=Je(D);"number"==typeof M?-1===M?u=D.token:p|=M:u=D}s.push(Ge(u,p))}else s.push(Ge(l))}return s}function ln(n,s){return n[an]=s,n.prototype[an]=s,n}function Je(n){return n[an]}function ft(n){return{toString:n}.toString()}var Kt=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Kt||{}),Gt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Gt||{});const wn={},Jt=[],Qn=ue({\u0275cmp:ue}),tr=ue({\u0275dir:ue}),Ur=ue({\u0275pipe:ue}),Ai=ue({\u0275mod:ue}),hr=ue({\u0275fac:ue}),Br=ue({__NG_ELEMENT_ID__:ue}),Rr=ue({__NG_ENV_ID__:ue});function pr(n,s,o){let l=n.length;for(;;){const u=n.indexOf(s,o);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const p=s.length;if(u+p===l||n.charCodeAt(u+p)<=32)return u}o=u+1}}function Jn(n,s,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const p=o[l++],v=o[l++],D=o[l++];n.setAttribute(s,v,D,p)}else{const p=u,v=o[++l];Jr(p)?n.setProperty(s,p,v):n.setAttribute(s,p,v),l++}}return l}function Ar(n){return 3===n||4===n||6===n}function Jr(n){return 64===n.charCodeAt(0)}function wi(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||Or(n,o,u,null,-1===o||2===o?s[++l]:null)}}return n}function Or(n,s,o,l,u){let p=0,v=n.length;if(-1===s)v=-1;else for(;p<n.length;){const D=n[p++];if("number"==typeof D){if(D===s){v=-1;break}if(D>s){v=p-1;break}}}for(;p<n.length;){const D=n[p];if("number"==typeof D)break;if(D===o){if(null===l)return void(null!==u&&(n[p+1]=u));if(l===n[p+1])return void(n[p+2]=u)}p++,null!==l&&p++,null!==u&&p++}-1!==v&&(n.splice(v,0,s),p=v+1),n.splice(p++,0,o),null!==l&&n.splice(p++,0,l),null!==u&&n.splice(p++,0,u)}const ki="ng-template";function Er(n,s,o){let l=0,u=!0;for(;l<n.length;){let p=n[l++];if("string"==typeof p&&u){const v=n[l++];if(o&&"class"===p&&-1!==pr(v.toLowerCase(),s,0))return!0}else{if(1===p){for(;l<n.length&&"string"==typeof(p=n[l++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(u=!1)}}return!1}function _i(n){return 4===n.type&&n.value!==ki}function $i(n,s,o){return s===(4!==n.type||o?n.value:ki)}function Mi(n,s,o){let l=4;const u=n.attrs||[],p=function ie(n){for(let s=0;s<n.length;s++)if(Ar(n[s]))return s;return n.length}(u);let v=!1;for(let D=0;D<s.length;D++){const M=s[D];if("number"!=typeof M){if(!v)if(4&l){if(l=2|1&l,""!==M&&!$i(n,M,o)||""===M&&1===s.length){if(ot(l))return!1;v=!0}}else{const H=8&l?M:s[++D];if(8&l&&null!==n.attrs){if(!Er(n.attrs,H,o)){if(ot(l))return!1;v=!0}continue}const ce=nt(8&l?"class":M,u,_i(n),o);if(-1===ce){if(ot(l))return!1;v=!0;continue}if(""!==H){let ze;ze=ce>p?"":u[ce+1].toLowerCase();const ht=8&l?ze:null;if(ht&&-1!==pr(ht,H,0)||2&l&&H!==ze){if(ot(l))return!1;v=!0}}}}else{if(!v&&!ot(l)&&!ot(M))return!1;if(v&&ot(M))continue;v=!1,l=M|1&l}}return ot(l)||v}function ot(n){return 0==(1&n)}function nt(n,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let p=!1;for(;u<s.length;){const v=s[u];if(v===n)return u;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=s[++u];for(;"string"==typeof D;)D=s[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=p?1:2}return-1}return function be(n,s){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,n)}function V(n,s,o=!1){for(let l=0;l<s.length;l++)if(Mi(n,s[l],o))return!0;return!1}function dt(n,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(n.length===l.length){for(let u=0;u<n.length;u++)if(n[u]!==l[u])continue e;return!0}}return!1}function rt(n,s){return n?":not("+s.trim()+")":s}function Ct(n){let s=n[0],o=1,l=2,u="",p=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&l){const D=n[++o];u+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&l?u+="."+v:4&l&&(u+=" "+v);else""!==u&&!ot(v)&&(s+=rt(p,u),u=""),l=v,p=p||!ot(l);o++}return""!==u&&(s+=rt(p,u)),s}function Vt(n){return ft(()=>{var s;const o=Ks(n),l={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(s=n.signals)&&void 0!==s&&s,data:n.data||{},encapsulation:n.encapsulation||Gt.Emulated,styles:n.styles||Jt,_:null,schemas:n.schemas||null,tView:null,id:""};Vo(l);const u=n.dependencies;return l.directiveDefs=Qi(u,!1),l.pipeDefs=Qi(u,!0),l.id=function gs(n){let s=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(l),l})}function Wn(n){return rr(n)||Gr(n)}function Xn(n){return null!==n}function _r(n){return ft(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function oi(n,s){if(null==n)return wn;const o={};for(const l in n)if(n.hasOwnProperty(l)){let u=n[l],p=u;Array.isArray(u)&&(p=u[1],u=u[0]),o[u]=l,s&&(s[u]=p)}return o}function ui(n){return ft(()=>{const s=Ks(n);return Vo(s),s})}function bs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function rr(n){return n[Qn]||null}function Gr(n){return n[tr]||null}function ei(n){return n[Ur]||null}function Ii(n){const s=rr(n)||Gr(n)||ei(n);return null!==s&&s.standalone}function Ri(n,s){const o=n[Ai]||null;if(!o&&!0===s)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return o}function Ks(n){const s={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:n.inputs||wn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oi(n.inputs,s),outputs:oi(n.outputs)}}function Vo(n){var s;null===(s=n.features)||void 0===s||s.forEach(o=>o(n))}function Qi(n,s){if(!n)return null;const o=s?ei:Wn;return()=>("function"==typeof n?n():n).map(l=>o(l)).filter(Xn)}const Mr=0,Cn=1,Gn=2,qr=3,Kr=4,ms=5,di=6,As=7,ti=8,cs=9,so=10,qn=11,Bi=12,xo=13,Ys=14,ni=15,oo=16,ws=17,Di=18,us=19,vs=20,Zs=21,Ji=22,Ui=23,ao=24,ar=25,lo=1,jo=2,Ci=7,Ti=9,Vi=11;function Ei(n){return Array.isArray(n)&&"object"==typeof n[lo]}function Yr(n){return Array.isArray(n)&&!0===n[lo]}function ks(n){return 0!=(4&n.flags)}function co(n){return n.componentOffset>-1}function zi(n){return 1==(1&n.flags)}function gi(n){return!!n.template}function ds(n){return 0!=(512&n[Gn])}function oe(n,s){return n.hasOwnProperty(hr)?n[hr]:null}let Hn=null,wr=!1;function Vr(n){const s=Hn;return Hn=n,s}const ys={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qs(n){if(!Js(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Yl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function No(n){var s;n.dirty=!0,function Ds(n){if(void 0===n.liveConsumerNode)return;const s=wr;wr=!0;try{for(const o of n.liveConsumerNode)o.dirty||No(o)}finally{wr=s}}(n),null===(s=n.consumerMarkedDirty)||void 0===s||s.call(n,n)}function bl(n){return n&&(n.nextProducerIndex=0),Vr(n)}function ji(n,s){if(Vr(s),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Js(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)nl(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Yl(n){ea(n);for(let s=0;s<n.producerNode.length;s++){const o=n.producerNode[s],l=n.producerLastReadVersion[s];if(l!==o.version||(Qs(o),l!==o.version))return!0}return!1}function Fa(n){if(ea(n),Js(n))for(let s=0;s<n.producerNode.length;s++)nl(n.producerNode[s],n.producerIndexOfThis[s]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function nl(n,s){if(function rl(n){var s,o;null!==(s=n.liveConsumerNode)&&void 0!==s||(n.liveConsumerNode=[]),null!==(o=n.liveConsumerIndexOfThis)&&void 0!==o||(n.liveConsumerIndexOfThis=[])}(n),ea(n),1===n.liveConsumerNode.length)for(let l=0;l<n.producerNode.length;l++)nl(n.producerNode[l],n.producerIndexOfThis[l]);const o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[s]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[s]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,s<n.liveConsumerNode.length){const l=n.liveConsumerIndexOfThis[s],u=n.liveConsumerNode[s];ea(u),u.producerIndexOfThis[l]=s}}function Js(n){var s,o;return n.consumerIsAlwaysLive||(null!==(s=null==n||null===(o=n.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==s?s:0)>0}function ea(n){var s,o,l;null!==(s=n.producerNode)&&void 0!==s||(n.producerNode=[]),null!==(o=n.producerIndexOfThis)&&void 0!==o||(n.producerIndexOfThis=[]),null!==(l=n.producerLastReadVersion)&&void 0!==l||(n.producerLastReadVersion=[])}let $a=null;function he(n){const s=Vr(null);try{return n()}finally{Vr(s)}}const $t=()=>{},hn=(()=>({...ys,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:$t}))();class Fr{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function $r(){return Ir}function Ir(n){return n.type.prototype.ngOnChanges&&(n.setInput=Qr),xi}function xi(){const n=Fs(this),s=null==n?void 0:n.current;if(s){const o=n.previous;if(o===wn)n.previous=s;else for(let l in s)o[l]=s[l];n.current=null,this.ngOnChanges(s)}}function Qr(n,s,o,l){const u=this.declaredInputs[o],p=Fs(n)||function Io(n,s){return n[ri]=s}(n,{previous:wn,current:null}),v=p.current||(p.current={}),D=p.previous,M=D[u];v[u]=new Fr(M&&M.currentValue,s,D===wn),n[l]=s}$r.ngInherit=!0;const ri="__ngSimpleChanges__";function Fs(n){return n[ri]||null}const _s=function(n,s,o){};function ii(n){for(;Array.isArray(n);)n=n[Mr];return n}function Ba(n,s){return ii(s[n])}function Cs(n,s){return ii(s[n.index])}function gu(n,s){return n.data[s]}function Ms(n,s){const o=s[n];return Ei(o)?o:o[Mr]}function Bs(n,s){return null==s?null:n[s]}function Tl(n){n[ws]=0}function Rc(n){1024&n[Gn]||(n[Gn]|=1024,ra(n,1))}function ll(n){1024&n[Gn]&&(n[Gn]&=-1025,ra(n,-1))}function ra(n,s){let o=n[qr];if(null===o)return;o[ms]+=s;let l=o;for(o=o[qr];null!==o&&(1===s&&1===l[ms]||-1===s&&0===l[ms]);)o[ms]+=s,l=o,o=o[qr]}const gr={lFrame:sr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rs(){return gr.bindingsEnabled}function bi(){return null!==gr.skipHydrationRootTNode}function en(){return gr.lFrame.lView}function jr(){return gr.lFrame.tView}function Sl(n){return gr.lFrame.contextLView=n,n[ti]}function ja(n){return gr.lFrame.contextLView=null,n}function hs(){let n=cl();for(;null!==n&&64===n.type;)n=n.parent;return n}function cl(){return gr.lFrame.currentTNode}function ia(n,s){const o=gr.lFrame;o.currentTNode=n,o.isParent=s}function Go(){return gr.lFrame.isParent}function Al(){gr.lFrame.isParent=!1}function dl(){return gr.lFrame.bindingIndex++}function A(n,s){const o=gr.lFrame;o.bindingIndex=o.bindingRootIndex=n,C(s)}function C(n){gr.lFrame.currentDirectiveIndex=n}function te(){return gr.lFrame.currentQueryIndex}function ve(n){gr.lFrame.currentQueryIndex=n}function pt(n){const s=n[Cn];return 2===s.type?s.declTNode:1===s.type?n[di]:null}function pn(n,s,o){if(o&xn.SkipSelf){let u=s,p=n;for(;!(u=u.parent,null!==u||o&xn.Host||(u=pt(p),null===u||(p=p[Ys],10&u.type))););if(null===u)return!1;s=u,n=p}const l=gr.lFrame=Mn();return l.currentTNode=s,l.lView=n,!0}function Rt(n){const s=Mn(),o=n[Cn];gr.lFrame=s,s.currentTNode=o.firstChild,s.lView=n,s.tView=o,s.contextLView=n,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Mn(){const n=gr.lFrame,s=null===n?null:n.child;return null===s?sr(n):s}function sr(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function Si(){const n=gr.lFrame;return gr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gi=Si;function Wr(){const n=Si();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wi(){return gr.lFrame.selectedIndex}function Vs(n){gr.lFrame.selectedIndex=n}function mi(){const n=gr.lFrame;return gu(n.tView,n.selectedIndex)}let Ml=!0;function Ha(){return Ml}function za(n){Ml=n}function Nc(n,s){for(let H=s.directiveStart,Z=s.directiveEnd;H<Z;H++){const ze=n.data[H].type.prototype,{ngAfterContentInit:ht,ngAfterContentChecked:zt,ngAfterViewInit:un,ngAfterViewChecked:Rn,ngOnDestroy:nr}=ze;var o,l,u,p,v,D,M;ht&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-H,ht),zt&&((null!==(l=n.contentHooks)&&void 0!==l?l:n.contentHooks=[]).push(H,zt),(null!==(u=n.contentCheckHooks)&&void 0!==u?u:n.contentCheckHooks=[]).push(H,zt)),un&&(null!==(p=n.viewHooks)&&void 0!==p?p:n.viewHooks=[]).push(-H,un),Rn&&((null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(H,Rn),(null!==(D=n.viewCheckHooks)&&void 0!==D?D:n.viewCheckHooks=[]).push(H,Rn)),null!=nr&&(null!==(M=n.destroyHooks)&&void 0!==M?M:n.destroyHooks=[]).push(H,nr)}}function oa(n,s,o){op(n,s,3,o)}function ic(n,s,o,l){(3&n[Gn])===o&&op(n,s,o,l)}function kc(n,s){let o=n[Gn];(3&o)===s&&(o&=8191,o+=1,n[Gn]=o)}function op(n,s,o,l){const p=null!=l?l:-1,v=s.length-1;let D=0;for(let M=void 0!==l?65535&n[ws]:0;M<v;M++)if("number"==typeof s[M+1]){if(D=s[M],null!=l&&D>=l)break}else s[M]<0&&(n[ws]+=65536),(D<p||-1==p)&&(Lc(n,o,s,M),n[ws]=(4294901760&n[ws])+M+2),M++}function Eu(n,s){_s(4,n,s);const o=Vr(null);try{s.call(n)}finally{Vr(o),_s(5,n,s)}}function Lc(n,s,o,l){const u=o[l]<0,p=o[l+1],D=n[u?-o[l]:o[l]];u?n[Gn]>>13<n[ws]>>16&&(3&n[Gn])===s&&(n[Gn]+=8192,Eu(D,p)):Eu(D,p)}const hl=-1;class Rl{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ga(n){return n!==hl}function sc(n){return 32767&n}function Wa(n,s){let o=function lp(n){return n>>16}(n),l=s;for(;o>0;)l=l[Ys],o--;return l}let Fc=!0;function oc(n){const s=Fc;return Fc=n,s}const $h=255,Bh=5;let Du=0;const ba={};function wa(n,s){const o=Cd(n,s);if(-1!==o)return o;const l=s[Cn];l.firstCreatePass&&(n.injectorIndex=s.length,$c(l.data,n),$c(s,null),$c(l.blueprint,null));const u=Da(n,s),p=n.injectorIndex;if(Ga(u)){const v=sc(u),D=Wa(u,s),M=D[Cn].data;for(let H=0;H<8;H++)s[p+H]=D[v+H]|M[v+H]}return s[p+8]=u,p}function $c(n,s){n.push(0,0,0,0,0,0,0,0,s)}function Cd(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function Da(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){if(l=Td(u),null===l)return hl;if(o++,u=u[Ys],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return hl}function Cu(n,s,o){!function Dd(n,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Br)&&(l=o[Br]),null==l&&(l=o[Br]=Du++);const u=l&$h;s.data[n+(u>>Bh)]|=1<<u}(n,s,o)}function xl(n,s,o){if(o&xn.Optional||void 0!==n)return n;Ye()}function Su(n,s,o,l){if(o&xn.Optional&&void 0===l&&(l=null),!(o&(xn.Self|xn.Host))){const u=n[cs],p=Zn(void 0);try{return u?u.get(s,l,o&xn.Optional):cr(s,l,o&xn.Optional)}finally{Zn(p)}}return xl(l,0,o)}function ac(n,s,o,l=xn.Default,u){if(null!==n){if(2048&s[Gn]&&!(l&xn.Self)){const v=function dm(n,s,o,l,u){let p=n,v=s;for(;null!==p&&null!==v&&2048&v[Gn]&&!(512&v[Gn]);){const D=lc(p,v,o,l|xn.Self,ba);if(D!==ba)return D;let M=p.parent;if(!M){const H=v[vs];if(H){const Z=H.get(o,ba,l);if(Z!==ba)return Z}M=Td(v),v=v[Ys]}p=M}return u}(n,s,o,l,ba);if(v!==ba)return v}const p=lc(n,s,o,l,ba);if(p!==ba)return p}return Su(s,o,l,u)}function lc(n,s,o,l,u){const p=function up(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(Br)?n[Br]:void 0;return"number"==typeof s?s>=0?s&$h:qo:s}(o);if("function"==typeof p){if(!pn(s,n,l))return l&xn.Host?xl(u,0,l):Su(s,o,l,u);try{let v;if(v=p(l),null!=v||l&xn.Optional)return v;Ye()}finally{Gi()}}else if("number"==typeof p){let v=null,D=Cd(n,s),M=hl,H=l&xn.Host?s[ni][di]:null;for((-1===D||l&xn.SkipSelf)&&(M=-1===D?Da(n,s):s[D+8],M!==hl&&pl(l,!1)?(v=s[Cn],D=sc(M),s=Wa(M,s)):D=-1);-1!==D;){const Z=s[Cn];if(Ru(p,D,Z.data)){const ce=Au(D,s,o,v,l,H);if(ce!==ba)return ce}M=s[D+8],M!==hl&&pl(l,s[Cn].data[D+8]===H)&&Ru(p,D,s)?(v=Z,D=sc(M),s=Wa(M,s)):D=-1}}return u}function Au(n,s,o,l,u,p){const v=s[Cn],D=v.data[n+8],Z=Mu(D,v,o,null==l?co(D)&&Fc:l!=v&&0!=(3&D.type),u&xn.Host&&p===D);return null!==Z?fl(s,v,Z,D):ba}function Mu(n,s,o,l,u){const p=n.providerIndexes,v=s.data,D=1048575&p,M=n.directiveStart,Z=p>>20,ze=u?D+Z:n.directiveEnd;for(let ht=l?D:D+Z;ht<ze;ht++){const zt=v[ht];if(ht<M&&o===zt||ht>=M&&zt.type===o)return ht}if(u){const ht=v[M];if(ht&&gi(ht)&&ht.type===o)return M}return null}function fl(n,s,o,l){let u=n[o];const p=s.data;if(function My(n){return n instanceof Rl}(u)){const v=u;v.resolving&&function Re(n,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${n}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${n}${o}`)}(function He(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(p[o]));const D=oc(v.canSeeViewProviders);v.resolving=!0;const H=v.injectImpl?Zn(v.injectImpl):null;pn(n,l,xn.Default);try{u=n[o]=v.factory(void 0,p,n,l),s.firstCreatePass&&o>=l.directiveStart&&function Wo(n,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:p}=s.type.prototype;if(l){var v,D;const ce=Ir(s);(null!==(v=o.preOrderHooks)&&void 0!==v?v:o.preOrderHooks=[]).push(n,ce),(null!==(D=o.preOrderCheckHooks)&&void 0!==D?D:o.preOrderCheckHooks=[]).push(n,ce)}var M,H,Z;u&&(null!==(M=o.preOrderHooks)&&void 0!==M?M:o.preOrderHooks=[]).push(0-n,u),p&&((null!==(H=o.preOrderHooks)&&void 0!==H?H:o.preOrderHooks=[]).push(n,p),(null!==(Z=o.preOrderCheckHooks)&&void 0!==Z?Z:o.preOrderCheckHooks=[]).push(n,p))}(o,p[o],s)}finally{null!==H&&Zn(H),oc(D),v.resolving=!1,Gi()}}return u}function Ru(n,s,o){return!!(o[s+(n>>Bh)]&1<<n)}function pl(n,s){return!(n&xn.Self||n&xn.Host&&s)}class fo{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return ac(this._tNode,this._lView,s,Yt(l),o)}}function qo(){return new fo(hs(),en())}function Vh(n){return ft(()=>{const s=n.prototype.constructor,o=s[hr]||qa(s),l=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==l;){const p=u[hr]||qa(u);if(p&&p!==o)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function qa(n){return Ue(n)?()=>{const s=qa(et(n));return s&&s()}:oe(n)}function Td(n){const s=n[Cn],o=s.type;return 2===o?s.declTNode:1===o?n[di]:null}function xu(n){return function Tu(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const o=n.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const p=o[u];if(Ar(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(p===s)return o[u+1];u+=2}}}return null}(hs(),n)}const Ol="__parameters__";function Y(n,s,o){return ft(()=>{const l=function O(n){return function(...o){if(n){const l=n(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...p){if(this instanceof u)return l.apply(this,p),this;const v=new u(...p);return D.annotation=v,D;function D(M,H,Z){const ce=M.hasOwnProperty(Ol)?M[Ol]:Object.defineProperty(M,Ol,{value:[]})[Ol];for(;ce.length<=Z;)ce.push(null);return(ce[Z]=ce[Z]||[]).push(v),M}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}function Ya(n,s){n.forEach(o=>Array.isArray(o)?Ya(o,s):s(o))}function hm(n,s,o){s>=n.length?n.push(o):n.splice(s,0,o)}function jh(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function Nl(n,s){const o=[];for(let l=0;l<n;l++)o.push(s);return o}function Ca(n,s,o){let l=Ad(n,s);return l>=0?n[1|l]=o:(l=~l,function pm(n,s,o,l){let u=n.length;if(u==s)n.push(o,l);else if(1===u)n.push(l,n[0]),n[0]=o;else{for(u--,n.push(n[u-1],n[u]);u>s;)n[u]=n[u-2],u--;n[s]=o,n[s+1]=l}}(n,l,s,o)),l}function Hh(n,s){const o=Ad(n,s);if(o>=0)return n[1|o]}function Ad(n,s){return function zh(n,s,o){let l=0,u=n.length>>o;for(;u!==l;){const p=l+(u-l>>1),v=n[p<<o];if(s===v)return p<<o;v>s?u=p:l=p+1}return~(u<<o)}(n,s,1)}const Rd=ln(Y("Optional"),8),Bc=ln(Y("SkipSelf"),4);function jc(n){return 128==(128&n.flags)}var Ll=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ll||{});const By=/^>|^->|<!--|-->|--!>|<!-$/g,Sa=/(<|>)/g,ym="\u200b$1\u200b";const ku=new Map;let Ep=0;const Lu="__ngContext__";function po(n,s){Ei(s)?(n[Lu]=s[us],function Fo(n){ku.set(n[us],n)}(s)):n[Lu]=s}let Ke;function wt(n,s){return Ke(n,s)}function En(n){const s=n[qr];return Yr(s)?s[qr]:s}function qi(n){return Fd(n[Bi])}function Aa(n){return Fd(n[Kr])}function Fd(n){for(;null!==n&&!Yr(n);)n=n[Kr];return n}function Hc(n,s,o,l,u){if(null!=l){let p,v=!1;Yr(l)?p=l:Ei(l)&&(v=!0,l=l[Mr]);const D=ii(l);0===n&&null!==o?null==u?ZI(s,o,D):Vd(s,o,D,u||null,!0):1===n&&null!==o?Vd(s,o,D,u||null,!0):2===n?function Uu(n,s,o){const l=Cp(n,s);l&&function XI(n,s,o,l){n.removeChild(s,o,l)}(n,l,s,o)}(s,D,v):3===n&&s.destroyNode(D),null!=p&&function QI(n,s,o,l,u){const p=o[Ci];p!==ii(o)&&Hc(s,n,l,p,u);for(let D=Vi;D<o.length;D++){const M=o[D];zd(M[Cn],M,n,s,l,p)}}(s,n,p,o,u)}}function Fu(n,s){return n.createComment(function _m(n){return n.replace(By,s=>s.replace(Sa,ym))}(s))}function Gc(n,s,o){return n.createElement(s,o)}function $u(n,s){const o=n[Ti],l=o.indexOf(s);ll(s),o.splice(l,1)}function Dp(n,s){if(n.length<=Vi)return;const o=Vi+s,l=n[o];if(l){const u=l[oo];null!==u&&u!==n&&$u(u,l),s>0&&(n[o-1][Kr]=l[Kr]);const p=jh(n,Vi+s);!function wm(n,s){zd(n,s,s[qn],2,null,null),s[Mr]=null,s[di]=null}(l[Cn],l);const v=p[Di];null!==v&&v.detachView(p[Cn]),l[qr]=null,l[Kr]=null,l[Gn]&=-129}return l}function Cm(n,s){if(!(256&s[Gn])){const o=s[qn];s[Ui]&&Fa(s[Ui]),s[ao]&&Fa(s[ao]),o.destroyNode&&zd(n,s,o,3,null,null),function tf(n){let s=n[Bi];if(!s)return Tm(n[Cn],n);for(;s;){let o=null;if(Ei(s))o=s[Bi];else{const l=s[Vi];l&&(o=l)}if(!o){for(;s&&!s[Kr]&&s!==n;)Ei(s)&&Tm(s[Cn],s),s=s[qr];null===s&&(s=n),Ei(s)&&Tm(s[Cn],s),o=s&&s[Kr]}s=o}}(s)}}function Tm(n,s){if(!(256&s[Gn])){s[Gn]&=-129,s[Gn]|=256,function xD(n,s){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Rl)){const p=o[l+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=u[p[v]],M=p[v+1];_s(4,D,M);try{M.call(D)}finally{_s(5,D,M)}}else{_s(4,u,p);try{p.call(u)}finally{_s(5,u,p)}}}}}(n,s),function Sm(n,s){const o=n.cleanup,l=s[As];if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const v=o[p+3];v>=0?l[v]():l[-v].unsubscribe(),p+=2}else o[p].call(l[o[p+1]]);null!==l&&(s[As]=null);const u=s[Zs];if(null!==u){s[Zs]=null;for(let p=0;p<u.length;p++)(0,u[p])()}}(n,s),1===s[Cn].type&&s[qn].destroy();const o=s[oo];if(null!==o&&Yr(s[qr])){o!==s[qr]&&$u(o,s);const l=s[Di];null!==l&&l.detachView(n)}!function Qh(n){ku.delete(n[us])}(s)}}function Uy(n,s,o){return function Ud(n,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[Mr];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:p}=n.data[l.directiveStart+u];if(p===Gt.None||p===Gt.Emulated)return null}return Cs(l,o)}}(n,s.parent,o)}function Vd(n,s,o,l,u){n.insertBefore(s,o,l,u)}function ZI(n,s,o){n.appendChild(s,o)}function Bu(n,s,o,l,u){null!==l?Vd(n,s,o,l,u):ZI(n,s,o)}function Cp(n,s){return n.parentNode(s)}function jy(n,s,o){return Hy(n,s,o)}let jd,Wd,Nm,Hy=function Yo(n,s,o){return 40&n.type?Cs(n,o):null};function Ap(n,s,o,l){const u=Uy(n,l,s),p=s[qn],D=jy(l.parent||s[di],l,s);if(null!=u)if(Array.isArray(o))for(let M=0;M<o.length;M++)Bu(p,u,o[M],D,!1);else Bu(p,u,o,D,!1);void 0!==jd&&jd(p,l,s,o,u)}function Hd(n,s){if(null!==s){const o=s.type;if(3&o)return Cs(s,n);if(4&o)return Am(-1,n[s.index]);if(8&o){const l=s.child;if(null!==l)return Hd(n,l);{const u=n[s.index];return Yr(u)?Am(-1,u):ii(u)}}if(32&o)return wt(s,n)()||ii(n[s.index]);{const l=zy(n,s);return null!==l?Array.isArray(l)?l[0]:Hd(En(n[ni]),l):Hd(n,s.next)}}return null}function zy(n,s){return null!==s?n[ni][di].projection[s.projection]:null}function Am(n,s){const o=Vi+n+1;if(o<s.length){const l=s[o],u=l[Cn].firstChild;if(null!==u)return Hd(l,u)}return s[Ci]}function Mp(n,s,o,l,u,p,v){for(;null!=o;){const D=l[o.index],M=o.type;if(v&&0===s&&(D&&po(ii(D),l),o.flags|=2),32!=(32&o.flags))if(8&M)Mp(n,s,o.child,l,u,p,!1),Hc(s,n,u,D,p);else if(32&M){const H=wt(o,l);let Z;for(;Z=H();)Hc(s,n,u,Z,p);Hc(s,n,u,D,p)}else 16&M?nf(n,s,l,o,u,p):Hc(s,n,u,D,p);o=v?o.projectionNext:o.next}}function zd(n,s,o,l,u,p){Mp(o,l,n.firstChild,s,u,p,!1)}function nf(n,s,o,l,u,p){const v=o[ni],M=v[di].projection[l.projection];if(Array.isArray(M))for(let H=0;H<M.length;H++)Hc(s,n,u,M[H],p);else{let H=M;const Z=v[qr];jc(l)&&(H.flags|=128),Mp(n,s,H,Z,u,p,!0)}}function Rp(n,s,o){""===o?n.removeAttribute(s,"class"):n.setAttribute(s,"class",o)}function xm(n,s,o){const{mergedAttrs:l,classes:u,styles:p}=o;null!==l&&Jn(n,s,l),null!==u&&Rp(n,s,u),null!==p&&function Gy(n,s,o){n.setAttribute(s,"style",o)}(n,s,p)}function qd(n){Wd=n}function JI(n){var s;return(null===(s=function Wy(){if(void 0===Nm&&(Nm=null,Nt.trustedTypes))try{Nm=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nm}())||void 0===s?void 0:s.createScriptURL(n))||n}class ju{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}function $l(n){return n instanceof ju?n.changingThisBreaksApplicationSecurity:n}function qc(n,s){const o=function Op(n){return n instanceof ju&&n.getTypeName()||null}(n);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${We})`)}return o===s}const rE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sf=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sf||{});function Zy(n){const s=af();return s?s.sanitize(sf.URL,n)||"":qc(n,"URL")?$l(n):function Fm(n){return(n=String(n)).match(rE)?n:"unsafe:"+n}(_e(n))}function uE(n){const s=af();if(s)return JI(s.sanitize(sf.RESOURCE_URL,n)||"");if(qc(n,"ResourceURL"))return JI($l(n));throw new Ce(904,!1)}function Up(n,s,o){return function fE(n,s){return"src"===s&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===s&&("base"===n||"link"===n)?uE:Zy}(s,o)(n)}function af(){const n=en();return n&&n[so].sanitizer}class Pi{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=mt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lf=new Pi("ENVIRONMENT_INITIALIZER"),Um=new Pi("INJECTOR",-1),cf=new Pi("INJECTOR_DEF_TYPES");class Vm{get(s,o=Zt){if(o===Zt){const l=new Error(`NullInjectorError: No provider for ${ye(s)}!`);throw l.name="NullInjectorError",l}return o}}function Vp(n){return{\u0275providers:n}}function jm(...n){return{\u0275providers:Xy(0,n),\u0275fromNgModule:!0}}function Xy(n,...s){const o=[],l=new Set;let u;const p=v=>{o.push(v)};return Ya(s,v=>{const D=v;Hm(D,p,[],l)&&(u||(u=[]),u.push(D))}),void 0!==u&&jp(u,p),o}function jp(n,s){for(let o=0;o<n.length;o++){const{ngModule:l,providers:u}=n[o];Yd(u,p=>{s(p,l)})}}function Hm(n,s,o,l){if(!(n=et(n)))return!1;let u=null,p=cn(n);const v=!p&&rr(n);if(p||v){if(v&&!v.standalone)return!1;u=n}else{const M=n.ngModule;if(p=cn(M),!p)return!1;u=M}const D=l.has(u);if(v){if(D)return!1;if(l.add(u),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of M)Hm(H,s,o,l)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let H;l.add(u);try{Ya(p.imports,Z=>{Hm(Z,s,o,l)&&(H||(H=[]),H.push(Z))})}finally{}void 0!==H&&jp(H,s)}if(!D){const H=oe(u)||(()=>new u);s({provide:u,useFactory:H,deps:Jt},u),s({provide:cf,useValue:u,multi:!0},u),s({provide:lf,useValue:()=>Ge(u),multi:!0},u)}const M=p.providers;if(null!=M&&!D){const H=n;Yd(M,Z=>{s(Z,H)})}}}return u!==n&&void 0!==n.providers}function Yd(n,s){for(let o of n)Se(o)&&(o=o.\u0275providers),Array.isArray(o)?Yd(o,s):s(o)}const pE=ue({provide:String,useValue:ue});function zm(n){return null!==n&&"object"==typeof n&&pE in n}function zu(n){return"function"==typeof n}const Km=new Pi("Set Injector scope."),Hp={},Zd={};let Ym;function zp(){return void 0===Ym&&(Ym=new Vm),Ym}class Bl{}class Gp extends Bl{get destroyed(){return this._destroyed}constructor(s,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oi(s,v=>this.processProvider(v)),this.records.set(Um,Ul(void 0,this)),u.has("environment")&&this.records.set(Bl,Ul(void 0,this));const p=this.records.get(Km);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(cf.multi,Jt,xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=ae(this),l=Zn(void 0);try{return s()}finally{ae(o),Zn(l)}}get(s,o=Zt,l=xn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Rr))return s[Rr](this);l=Yt(l);const p=ae(this),v=Zn(void 0);try{if(!(l&xn.SkipSelf)){let M=this.records.get(s);if(void 0===M){const H=function Jy(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pi}(s)&&Ht(s);M=H&&this.injectableDefInScope(H)?Ul(uf(s),Hp):null,this.records.set(s,M)}if(null!=M)return this.hydrate(s,M)}return(l&xn.Self?zp():this.parent).get(s,o=l&xn.Optional&&o===Zt?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[In]=D[In]||[]).unshift(ye(s)),p)throw D;return function Le(n,s,o,l){const u=n[In];throw s[J]&&u.unshift(s[J]),n.message=function It(n,s,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let u=ye(s);if(Array.isArray(s))u=s.map(ye).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let D=s[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}u=`{${p.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${n.replace($e,"\n  ")}`}("\n"+n.message,u,o,l),n.ngTokenPath=u,n[In]=null,n}(D,s,"R3InjectorError",this.source)}throw D}finally{Zn(v),ae(p)}}resolveInjectorInitializers(){const s=ae(this),o=Zn(void 0);try{const u=this.get(lf.multi,Jt,xn.Self);for(const p of u)p()}finally{ae(s),Zn(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(ye(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(s){let o=zu(s=et(s))?s:et(s&&s.provide);const l=function gE(n){return zm(n)?Ul(void 0,n.useValue):Ul(Qy(n),Hp)}(s);if(zu(s)||!0!==s.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Ul(void 0,Hp,!0),u.factory=()=>qt(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===Hp&&(o.value=Zd,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Vl(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=et(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function uf(n){const s=Ht(n),o=null!==s?s.factory:oe(n);if(null!==o)return o;if(n instanceof Pi)throw new Ce(204,!1);if(n instanceof Function)return function Xa(n){const s=n.length;if(s>0)throw Nl(s,"?"),new Ce(204,!1);const o=function vn(n){return n&&(n[dn]||n[ir])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ce(204,!1)}function Qy(n,s,o){let l;if(zu(n)){const u=et(n);return oe(u)||uf(u)}if(zm(n))l=()=>et(n.useValue);else if(function Wm(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...qt(n.deps||[]));else if(function Gm(n){return!(!n||!n.useExisting)}(n))l=()=>Ge(et(n.useExisting));else{const u=et(n&&(n.useClass||n.provide));if(!function zD(n){return!!n.deps}(n))return oe(u)||uf(u);l=()=>new u(...qt(n.deps))}return l}function Ul(n,s,o=!1){return{factory:n,value:s,multi:o?[]:void 0}}function Oi(n,s){for(const o of n)Array.isArray(o)?Oi(o,s):o&&Se(o)?Oi(o.\u0275providers,s):s(o)}const mE=new Pi("AppId",{providedIn:"root",factory:()=>e_}),e_="ng",jl=new Pi("Platform Initializer"),Zm=new Pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t_=new Pi("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function Vu(){if(void 0!==Wd)return Wd;if(typeof document<"u")return document;throw new Ce(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let Qd=(n,s,o)=>null;function qu(n,s,o=!1){return Qd(n,s,o)}class kt{}class sn{}class qD{resolveComponentFactory(s){throw function go(n){const s=Error(`No component factory found for ${ye(n)}.`);return s.ngComponent=n,s}(s)}}let Jm=(()=>{class s{}return s.NULL=new qD,s})();function KD(){return gf(hs(),en())}function gf(n,s){return new mf(Cs(n,s))}let mf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=KD,s})();function YD(n){return n instanceof mf?n.nativeElement:n}class ZD{}let XD=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function IE(){const n=en(),o=Ms(hs().index,n);return(Ei(o)?o:n)[qn]}(),s})(),xr=(()=>{var n;class s{}return(n=s).\u0275prov=mt({token:n,providedIn:"root",factory:()=>null}),s})();class Jd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const o_=new Jd("16.2.7"),os={};function EE(n,s=null,o=null,l){const u=vf(n,s,o,l);return u.resolveInjectorInitializers(),u}function vf(n,s=null,o=null,l,u=new Set){const p=[o||Jt,jm(n)];return l=l||("object"==typeof n?void 0:ye(n)),new Gp(p,s||zp(),l||null,u)}let vl=(()=>{var n;class s{static create(l,u){if(Array.isArray(l))return EE({name:""},u,l,"");{var p;const v=null!==(p=l.name)&&void 0!==p?p:"";return EE({name:v},l.parent,l.providers,v)}}}return(n=s).THROW_IF_NOT_FOUND=Zt,n.NULL=new Vm,n.\u0275prov=mt({token:n,providedIn:"any",factory:()=>Ge(Um)}),n.__NG_ELEMENT_ID__=-1,s})();function Xp(n){return n.ngOriginalError}class Qc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Xp(s);for(;o&&Xp(o);)o=Xp(o);return o||null}}function yf(n){return s=>{setTimeout(n,void 0,s)}}const ro=class xt extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let u=s,p=o||(()=>null),v=l;if(s&&"object"==typeof s){var D,M,H;const ce=s;u=null===(D=ce.next)||void 0===D?void 0:D.bind(ce),p=null===(M=ce.error)||void 0===M?void 0:M.bind(ce),v=null===(H=ce.complete)||void 0===H?void 0:H.bind(ce)}this.__isAsync&&(p=yf(p),u&&(u=yf(u)),v&&(v=yf(v)));const Z=super.subscribe({next:u,error:p,complete:v});return s instanceof g.w0&&s.add(Z),Z}};function wE(...n){}class Co{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Qp(){const n="function"==typeof Nt.requestAnimationFrame;let s=Nt[n?"requestAnimationFrame":"setTimeout"],o=Nt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eC(n){const s=()=>{!function c_(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Nt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,u_(n),n.isCheckStableRunning=!0,rv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),u_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,p,v,D)=>{if(function tC(n){var s;return!(!Array.isArray(n)||1!==n.length)&&!0===(null===(s=n[0].data)||void 0===s?void 0:s.__ignore_ng_zone__)}(D))return o.invokeTask(u,p,v,D);try{return Ra(n),o.invokeTask(u,p,v,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&s(),_f(n)}},onInvoke:(o,l,u,p,v,D,M)=>{try{return Ra(n),o.invoke(u,p,v,D,M)}finally{n.shouldCoalesceRunChangeDetection&&s(),_f(n)}},onHasTask:(o,l,u,p)=>{o.hasTask(u,p),l===u&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,u_(n),rv(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,l,u,p)=>(o.handleError(u,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Co.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Co.isInAngularZone())throw new Ce(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+u,s,rh,wE,wE);try{return p.runTask(v,o,l)}finally{p.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const rh={};function rv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function u_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Ra(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _f(n){n._nesting--,rv(n)}class Jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}const d_=new Pi("",{providedIn:"root",factory:$o});function $o(){const n=vt(Co);let s=!0;const o=new X.y(u=>{s=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{u.next(s),u.complete()})}),l=new X.y(u=>{let p;n.runOutsideAngular(()=>{p=n.onStable.subscribe(()=>{Co.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(s=!0,u.next(!0))})})});const v=n.onUnstable.subscribe(()=>{Co.assertInAngularZone(),s&&(s=!1,n.runOutsideAngular(()=>{u.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,re.T)(o,l.pipe((0,fe.B)()))}function vc(n){return n instanceof Function?n():n}let f_=(()=>{var n;class s{constructor(){this.renderDepth=0,this.handler=null}begin(){var l;null===(l=this.handler)||void 0===l||l.validateBegin(),this.renderDepth++}end(){var l;this.renderDepth--,0===this.renderDepth&&(null===(l=this.handler)||void 0===l||l.execute())}ngOnDestroy(){var l;null===(l=this.handler)||void 0===l||l.destroy(),this.handler=null}}return(n=s).\u0275prov=mt({token:n,providedIn:"root",factory:()=>new n}),s})();function eg(n){for(;n;){n[Gn]|=64;const s=En(n);if(ds(n)&&!s)return n;n=s}return null}const AE=new Pi("",{providedIn:"root",factory:()=>!1});let Ef=null;function p_(n,s){var o;return null!==(o=n[s])&&void 0!==o?o:as()}function Ki(n,s){var o;const l=as();null!==(o=l.producerNode)&&void 0!==o&&o.length&&(n[s]=Ef,l.lView=n,Ef=To())}const ov={...ys,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{eg(n.lView)},lView:null};function To(){return Object.create(ov)}function as(){var n;return null!==(n=Ef)&&void 0!==n||(Ef=To()),Ef}const Nr={};function sh(n){la(jr(),en(),Wi()+n,!1)}function la(n,s,o,l){if(!l)if(3==(3&s[Gn])){const p=n.preOrderCheckHooks;null!==p&&oa(s,p,o)}else{const p=n.preOrderHooks;null!==p&&ic(s,p,0,o)}Vs(o)}function oh(n,s=xn.Default){const o=en();return null===o?Ge(n,s):ac(hs(),o,et(n),s)}function xE(){throw new Error("invalid")}function av(n,s,o,l,u,p,v,D,M,H,Z){const ce=s.blueprint.slice();return ce[Mr]=u,ce[Gn]=140|l,(null!==H||n&&2048&n[Gn])&&(ce[Gn]|=2048),Tl(ce),ce[qr]=ce[Ys]=n,ce[ti]=o,ce[so]=v||n&&n[so],ce[qn]=D||n&&n[qn],ce[cs]=M||n&&n[cs]||null,ce[di]=p,ce[us]=function Im(){return Ep++}(),ce[Ji]=Z,ce[vs]=H,ce[ni]=2==s.type?n[ni]:ce,ce}function Qa(n,s,o,l,u){let p=n.data[s];if(null===p)p=function Is(n,s,o,l,u){const p=cl(),v=Go(),M=n.data[s]=function m_(n,s,o,l,u,p){let v=s?s.injectorIndex:-1,D=0;return bi()&&(D|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,o,s,l,u);return null===n.firstChild&&(n.firstChild=M),null!==p&&(v?null==p.child&&null!==M.parent&&(p.child=M):null===p.next&&(p.next=M,M.prev=p)),M}(n,s,o,l,u),function Iu(){return gr.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=l,p.attrs=u;const v=function Ia(){const n=gr.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return ia(p,!0),p}function Ja(n,s,o,l){if(0===o)return-1;const u=s.length;for(let p=0;p<o;p++)s.push(l),n.blueprint.push(l),n.data.push(null);return u}function tg(n,s,o,l,u){const p=p_(s,Ui),v=Wi(),D=2&l;try{Vs(-1),D&&s.length>ar&&la(n,s,ar,!1),_s(D?2:0,u);const H=D?p:null,Z=bl(H);try{null!==H&&(H.dirty=!1),o(l,u)}finally{ji(H,Z)}}finally{D&&null===s[Ui]&&Ki(s,Ui),Vs(v),_s(D?3:1,u)}}function bf(n,s,o){if(ks(s)){const l=Vr(null);try{const p=s.directiveEnd;for(let v=s.directiveStart;v<p;v++){const D=n.data[v];D.contentQueries&&D.contentQueries(1,o[v],v)}}finally{Vr(l)}}}function ah(n,s,o){Rs()&&(function LE(n,s,o,l){const u=o.directiveStart,p=o.directiveEnd;co(o)&&function UE(n,s,o){const l=Cs(s,n),u=eu(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const D=ig(n,av(n,u,null,v,l,s,null,n[so].rendererFactory.createRenderer(l,o),null,null,null));n[s.index]=D}(s,o,n.data[u+o.componentOffset]),n.firstCreatePass||wa(o,s),po(l,s);const v=o.initialInputs;for(let D=u;D<p;D++){const M=n.data[D],H=fl(s,n,D,o);po(H,s),null!==v&&Tf(0,D-u,H,M,0,v),gi(M)&&(Ms(o.index,s)[ti]=fl(s,n,D,o))}}(n,s,o,Cs(o,s)),64==(64&o.flags)&&So(n,s,o))}function g_(n,s,o=Cs){const l=s.localNames;if(null!==l){let u=s.index+1;for(let p=0;p<l.length;p+=2){const v=l[p+1],D=-1===v?o(s,n):n[v];n[u++]=D}}}function eu(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=yc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):s}function yc(n,s,o,l,u,p,v,D,M,H,Z){const ce=ar+l,ze=ce+u,ht=function lv(n,s){const o=[];for(let l=0;l<s;l++)o.push(l<n?null:Nr);return o}(ce,ze),zt="function"==typeof H?H():H;return ht[Cn]={type:n,blueprint:ht,template:o,queries:null,viewQuery:D,declTNode:s,data:ht.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:zt,incompleteFirstPass:!1,ssrId:Z}}let wf=n=>null;function ng(n,s,o,l){for(let u in n)if(n.hasOwnProperty(u)){o=null===o?{}:o;const p=n[u];null===l?Xu(o,s,u,p):l.hasOwnProperty(u)&&Xu(o,s,l[u],p)}return o}function Xu(n,s,o,l){n.hasOwnProperty(o)?n[o].push(s,l):n[o]=[s,l]}function xa(n,s,o,l,u,p,v,D){const M=Cs(s,o);let Z,H=s.inputs;!D&&null!=H&&(Z=H[l])?(E_(n,o,Z,l,u),co(s)&&function OE(n,s){const o=Ms(s,n);16&o[Gn]||(o[Gn]|=64)}(o,s.index)):3&s.type&&(l=function rg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),u=null!=v?v(u,s.value||"",l):u,p.setProperty(M,l,u))}function dv(n,s,o,l){if(Rs()){const u=null===l?null:{"":-1},p=function ps(n,s){const o=n.directiveRegistry;let l=null,u=null;if(o)for(let v=0;v<o.length;v++){const D=o[v];if(V(s,D.selectors,!1))if(l||(l=[]),gi(D))if(null!==D.findHostDirectiveDefs){const M=[];u=u||new Map,D.findHostDirectiveDefs(D,M,u),l.unshift(...M,D),Ic(n,s,M.length)}else l.unshift(D),Ic(n,s,0);else{var p;u=u||new Map,null===(p=D.findHostDirectiveDefs)||void 0===p||p.call(D,D,l,u),l.push(D)}}return null===l?null:[l,u]}(n,o);let v,D;null===p?v=D=null:[v,D]=p,null!==v&&NE(n,s,o,v,u,D),u&&function $E(n,s,o){if(s){const l=n.localNames=[];for(let u=0;u<s.length;u+=2){const p=o[s[u+1]];if(null==p)throw new Ce(-301,!1);l.push(s[u],p)}}}(o,l,u)}o.mergedAttrs=wi(o.mergedAttrs,o.attrs)}function NE(n,s,o,l,u,p){for(let ce=0;ce<l.length;ce++)Cu(wa(o,s),n,l[ce].type);!function Cf(n,s,o){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+o,n.providerIndexes=s}(o,n.data.length,l.length);for(let ce=0;ce<l.length;ce++){const ze=l[ce];ze.providersResolver&&ze.providersResolver(ze)}let v=!1,D=!1,M=Ja(n,s,l.length,null);for(let ce=0;ce<l.length;ce++){const ze=l[ce];o.mergedAttrs=wi(o.mergedAttrs,ze.hostAttrs),fC(n,o,s,M,ze),BE(M,ze,u),null!==ze.contentQueries&&(o.flags|=4),(null!==ze.hostBindings||null!==ze.hostAttrs||0!==ze.hostVars)&&(o.flags|=64);const ht=ze.type.prototype;var H,Z;!v&&(ht.ngOnChanges||ht.ngOnInit||ht.ngDoCheck)&&((null!==(H=n.preOrderHooks)&&void 0!==H?H:n.preOrderHooks=[]).push(o.index),v=!0),D||!ht.ngOnChanges&&!ht.ngDoCheck||((null!==(Z=n.preOrderCheckHooks)&&void 0!==Z?Z:n.preOrderCheckHooks=[]).push(o.index),D=!0),M++}!function v_(n,s,o){const u=s.directiveEnd,p=n.data,v=s.attrs,D=[];let M=null,H=null;for(let Z=s.directiveStart;Z<u;Z++){const ce=p[Z],ze=o?o.get(ce):null,zt=ze?ze.outputs:null;M=ng(ce.inputs,Z,M,ze?ze.inputs:null),H=ng(ce.outputs,Z,H,zt);const un=null===M||null===v||_i(s)?null:y_(M,Z,v);D.push(un)}null!==M&&(M.hasOwnProperty("class")&&(s.flags|=8),M.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=D,s.inputs=M,s.outputs=H}(n,o,p)}function So(n,s,o){const l=o.directiveStart,u=o.directiveEnd,p=o.index,v=function P(){return gr.lFrame.currentDirectiveIndex}();try{Vs(p);for(let D=l;D<u;D++){const M=n.data[D],H=s[D];C(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&FE(M,H)}}finally{Vs(-1),C(v)}}function FE(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function Ic(n,s,o){var l;s.componentOffset=o,(null!==(l=n.components)&&void 0!==l?l:n.components=[]).push(s.index)}function BE(n,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=n;gi(s)&&(o[""]=n)}}function fC(n,s,o,l,u){n.data[l]=u;const p=u.factory||(u.factory=oe(u.type)),v=new Rl(p,gi(u),oh);n.blueprint[l]=v,o[l]=v,function hC(n,s,o,l,u){const p=u.hostBindings;if(p){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const D=~s.index;(function kE(n){let s=n.length;for(;s>0;){const o=n[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=D&&v.push(D),v.push(o,l,p)}}(n,s,l,Ja(n,o,u.hostVars,Nr),u)}function kr(n,s,o,l,u,p){const v=Cs(n,s);!function Ni(n,s,o,l,u,p,v){if(null==p)n.removeAttribute(s,u,o);else{const D=null==v?_e(p):v(p,l||"",u);n.setAttribute(s,u,D,o)}}(s[qn],v,p,n.value,o,l,u)}function Tf(n,s,o,l,u,p){const v=p[s];if(null!==v)for(let D=0;D<v.length;)hv(l,o,v[D++],v[D++],v[D++])}function hv(n,s,o,l,u){const p=Vr(null);try{const v=n.inputTransforms;null!==v&&v.hasOwnProperty(l)&&(u=v[l].call(s,u)),null!==n.setInput?n.setInput(s,u,o,l):s[l]=u}finally{Vr(p)}}function y_(n,s,o){let l=null,u=0;for(;u<o.length;){const p=o[u];if(0!==p)if(5!==p){if("number"==typeof p)break;if(n.hasOwnProperty(p)){null===l&&(l=[]);const v=n[p];for(let D=0;D<v.length;D+=2)if(v[D]===s){l.push(p,v[D+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function __(n,s,o,l){return[n,!0,!1,s,null,0,l,o,null,null,null]}function fv(n,s){const o=n.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const p=o[l+1];if(-1!==p){const v=n.data[p];ve(o[l]),v.contentQueries(2,s[p],p)}}}function ig(n,s){return n[Bi]?n[xo][Kr]=s:n[Bi]=s,n[xo]=s,s}function pv(n,s,o){ve(0);const l=Vr(null);try{s(n,o)}finally{Vr(l)}}function VE(n){return n[As]||(n[As]=[])}function jE(n){return n.cleanup||(n.cleanup=[])}function I_(n,s){const o=n[cs],l=o?o.get(Qc,null):null;l&&l.handleError(s)}function E_(n,s,o,l,u){for(let p=0;p<o.length;){const v=o[p++],D=o[p++];hv(n.data[v],s[v],l,D,u)}}function gC(n,s){const o=Ms(s,n),l=o[Cn];!function mC(n,s){for(let o=s.length;o<n.blueprint.length;o++)s.push(n.blueprint[o])}(l,o);const u=o[Mr];null!==u&&null===o[Ji]&&(o[Ji]=qu(u,o[cs])),b_(l,o,o[ti])}function b_(n,s,o){Rt(s);try{const l=n.viewQuery;null!==l&&pv(1,l,o);const u=n.template;null!==u&&tg(n,s,u,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fv(n,s),n.staticViewQueries&&pv(2,n.viewQuery,o);const p=n.components;null!==p&&function w_(n,s){for(let o=0;o<s.length;o++)gC(n,s[o])}(s,p)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{s[Gn]&=-5,Wr()}}let Qu=(()=>{var n;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,u,p){const v=typeof Zone>"u"?null:Zone.current,D=function qe(n,s,o){const l=Object.create(hn);o&&(l.consumerAllowSignalWrites=!0),l.fn=n,l.schedule=s;const u=v=>{l.cleanupFn=v};return l.ref={notify:()=>No(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Yl(l))return;l.hasRun=!0;const v=bl(l);try{l.cleanupFn(),l.cleanupFn=$t,l.fn(u)}finally{ji(l,v)}},cleanup:()=>l.cleanupFn()},l.ref}(l,Z=>{this.all.has(Z)&&this.queue.set(Z,v)},p);let M;this.all.add(D),D.notify();const H=()=>{var Z;D.cleanup(),null===(Z=M)||void 0===Z||Z(),this.all.delete(D),this.queue.delete(D)};return M=null==u?void 0:u.onDestroy(H),{destroy:H}}flush(){if(0!==this.queue.size)for(const[l,u]of this.queue)this.queue.delete(l),u?u.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=s).\u0275prov=mt({token:n,providedIn:"root",factory:()=>new n}),s})();function lh(n,s,o){let l=o?n.styles:null,u=o?n.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const D=s[v];"number"==typeof D?p=D:1==p?u=me(u,D):2==p&&(l=me(l,D+": "+s[++v]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=u:n.classesWithoutHost=u}function Ju(n,s,o,l,u=!1){for(;null!==o;){const p=s[o.index];null!==p&&l.push(ii(p)),Yr(p)&&D_(p,l);const v=o.type;if(8&v)Ju(n,s,o.child,l);else if(32&v){const D=wt(o,s);let M;for(;M=D();)l.push(M)}else if(16&v){const D=zy(s,o);if(Array.isArray(D))l.push(...D);else{const M=En(s[ni]);Ju(M[Cn],M,D,l,!0)}}o=u?o.projectionNext:o.next}return l}function D_(n,s){for(let o=Vi;o<n.length;o++){const l=n[o],u=l[Cn].firstChild;null!==u&&Ju(l[Cn],l,u,s)}n[Ci]!==n[Mr]&&s.push(n[Ci])}function og(n,s,o,l=!0){const u=s[so],p=u.rendererFactory,v=u.afterRenderEventManager;var M;null===(M=p.begin)||void 0===M||M.call(p),null==v||v.begin();try{ch(n,s,n.template,o)}catch(ce){throw l&&I_(s,ce),ce}finally{var H,Z;null===(H=p.end)||void 0===H||H.call(p),null===(Z=u.effectManager)||void 0===Z||Z.flush(),null==v||v.end()}}function ch(n,s,o,l){var u;const p=s[Gn];if(256!=(256&p)){null===(u=s[so].effectManager)||void 0===u||u.flush(),Rt(s);try{Tl(s),function _u(n){return gr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&tg(n,s,o,2,l);const D=3==(3&p);if(D){const Z=n.preOrderCheckHooks;null!==Z&&oa(s,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&ic(s,Z,0,null),kc(s,0)}if(function T_(n){for(let s=qi(n);null!==s;s=Aa(s)){if(!s[jo])continue;const o=s[Ti];for(let l=0;l<o.length;l++){Rc(o[l])}}}(s),C_(s,2),null!==n.contentQueries&&fv(n,s),D){const Z=n.contentCheckHooks;null!==Z&&oa(s,Z)}else{const Z=n.contentHooks;null!==Z&&ic(s,Z,1),kc(s,1)}!function mo(n,s){const o=n.hostBindingOpCodes;if(null===o)return;const l=p_(s,ao);try{for(let u=0;u<o.length;u++){const p=o[u];if(p<0)Vs(~p);else{const v=p,D=o[++u],M=o[++u];A(D,v),l.dirty=!1;const H=bl(l);try{M(2,s[v])}finally{ji(l,H)}}}}finally{null===s[ao]&&Ki(s,ao),Vs(-1)}}(n,s);const M=n.components;null!==M&&td(s,M,0);const H=n.viewQuery;if(null!==H&&pv(2,H,l),D){const Z=n.viewCheckHooks;null!==Z&&oa(s,Z)}else{const Z=n.viewHooks;null!==Z&&ic(s,Z,2),kc(s,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[Gn]&=-73,ll(s)}finally{Wr()}}}function C_(n,s){for(let o=qi(n);null!==o;o=Aa(o))for(let l=Vi;l<o.length;l++)mv(o[l],s)}function gv(n,s,o){mv(Ms(s,n),o)}function mv(n,s){if(!function Ua(n){return 128==(128&n[Gn])}(n))return;const o=n[Cn],l=n[Gn];if(80&l&&0===s||1024&l||2===s)ch(o,n,o.template,n[ti]);else if(n[ms]>0){C_(n,1);const u=o.components;null!==u&&td(n,u,1)}}function td(n,s,o){for(let l=0;l<s.length;l++)gv(n,s[l],o)}class vo{get rootNodes(){const s=this._lView,o=s[Cn];return Ju(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ti]}set context(s){this._lView[ti]=s}get destroyed(){return 256==(256&this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[qr];if(Yr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Dp(s,l),jh(o,l))}this._attachedToViewContainer=!1}Cm(this._lView[Cn],this._lView)}onDestroy(s){!function Fi(n,s){if(256==(256&n[Gn]))throw new Ce(911,!1);null===n[Zs]&&(n[Zs]=[]),n[Zs].push(s)}(this._lView,s)}markForCheck(){eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){this._lView[Gn]|=128}detectChanges(){og(this._lView[Cn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bd(n,s){zd(n,s,s[qn],2,null,null)}(this._lView[Cn],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=s}}class S_ extends vo{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;og(s[Cn],s,s[ti],!1)}checkNoChanges(){}get context(){return null}}class ag extends Jm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=rr(s);return new tu(o,this.ngModule)}}function Sf(n){const s=[];for(let o in n)n.hasOwnProperty(o)&&s.push({propName:n[o],templateName:o});return s}class A_{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Yt(l);const u=this.injector.get(s,os,l);return u!==os||o===os?u:this.parentInjector.get(s,o,l)}}class tu extends sn{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=Sf(s.inputs);if(null!==o)for(const u of l)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return l}get outputs(){return Sf(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Wt(n){return n.map(Ct).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,u){var p;let v=(u=u||this.ngModule)instanceof Bl?u:null===(p=u)||void 0===p?void 0:p.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const D=v?new A_(s,v):s,M=D.get(ZD,null);if(null===M)throw new Ce(407,!1);const ze={rendererFactory:M,sanitizer:D.get(xr,null),effectManager:D.get(Qu,null),afterRenderEventManager:D.get(f_,null)},ht=M.createRenderer(null,this.componentDef),zt=this.componentDef.selectors[0][0]||"div",un=l?function Yu(n,s,o,l){const p=l.get(AE,!1)||o===Gt.ShadowDom,v=n.selectRootElement(s,p);return function _c(n){wf(n)}(v),v}(ht,l,this.componentDef.encapsulation,D):Gc(ht,zt,function GE(n){const s=n.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(zt)),nn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Sr=null;null!==un&&(Sr=qu(un,D,!0));const Zr=yc(0,null,null,1,0,null,null,null,null,null,null),yi=av(null,Zr,null,nn,null,null,ze,ht,D,null,Sr);let Kl,cm;Rt(yi);try{const Id=this.componentDef;let r,e=null;Id.findHostDirectiveDefs?(r=[],e=new Map,Id.findHostDirectiveDefs(Id,r,e),r.push(Id)):r=[Id];const t=function qE(n,s){const o=n[Cn],l=ar;return n[l]=s,Qa(o,l,2,"#host",null)}(yi,un),i=function vC(n,s,o,l,u,p,v){const D=u[Cn];!function nu(n,s,o,l){for(const u of n)s.mergedAttrs=wi(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(lh(s,s.mergedAttrs,!0),null!==o&&xm(l,o,s))}(l,n,s,v);let M=null;null!==s&&(M=qu(s,u[cs]));const H=p.rendererFactory.createRenderer(s,o);let Z=16;o.signals?Z=4096:o.onPush&&(Z=64);const ce=av(u,eu(o),null,Z,u[n.index],n,p,H,null,null,M);return D.firstCreatePass&&Ic(D,n,l.length-1),ig(u,ce),u[n.index]=ce}(t,un,Id,r,yi,ze,ht);cm=gu(Zr,ar),un&&function Pa(n,s,o,l){if(l)Jn(n,o,["ng-version",o_.full]);else{const{attrs:u,classes:p}=function Lt(n){const s=[],o=[];let l=1,u=2;for(;l<n.length;){let p=n[l];if("string"==typeof p)2===u?""!==p&&s.push(p,n[++l]):8===u&&o.push(p);else{if(!ot(u))break;u=p}l++}return{attrs:s,classes:o}}(s.selectors[0]);u&&Jn(n,o,u),p&&p.length>0&&Rp(n,o,p.join(" "))}}(ht,Id,un,l),void 0!==o&&function KE(n,s,o){const l=n.projection=[];for(let u=0;u<s.length;u++){const p=o[u];l.push(null!=p?Array.from(p):null)}}(cm,this.ngContentSelectors,o),Kl=function yC(n,s,o,l,u,p){const v=hs(),D=u[Cn],M=Cs(v,u);NE(D,u,v,o,null,l);for(let Z=0;Z<o.length;Z++)po(fl(u,D,v.directiveStart+Z,v),u);So(D,u,v),M&&po(M,u);const H=fl(u,D,v.directiveStart+v.componentOffset,v);if(n[ti]=u[ti]=H,null!==p)for(const Z of p)Z(H,s);return bf(D,v,n),H}(i,Id,r,e,yi,[lg]),b_(Zr,yi,null)}finally{Wr()}return new WE(this.componentType,Kl,gf(cm,yi),yi,cm)}}class WE extends kt{constructor(s,o,l,u,p){super(),this.location=l,this._rootLView=u,this._tNode=p,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new S_(u),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[s])){var p;if(null!==(p=this.previousInputValues)&&void 0!==p||(this.previousInputValues=new Map),this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const v=this._rootLView;E_(v[Cn],v,u,s,o),this.previousInputValues.set(s,o),eg(Ms(this._tNode.index,v))}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function lg(){const n=hs();Nc(en()[Cn],n)}function _l(n){let s=function M_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;s;){let u;if(gi(n))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ce(903,!1);u=s.\u0275dir}if(u){if(o){l.push(u);const v=n;v.inputs=nd(n.inputs),v.inputTransforms=nd(n.inputTransforms),v.declaredInputs=nd(n.declaredInputs),v.outputs=nd(n.outputs);const D=u.hostBindings;D&&Hr(n,D);const M=u.viewQuery,H=u.contentQueries;if(M&&_C(n,M),H&&IC(n,H),de(n.inputs,u.inputs),de(n.declaredInputs,u.declaredInputs),de(n.outputs,u.outputs),null!==u.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),de(v.inputTransforms,u.inputTransforms)),gi(u)&&u.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(n),D===_l&&(o=!1)}}s=Object.getPrototypeOf(s)}!function YE(n){let s=0,o=null;for(let l=n.length-1;l>=0;l--){const u=n[l];u.hostVars=s+=u.hostVars,u.hostAttrs=wi(u.hostAttrs,o=wi(o,u.hostAttrs))}}(l)}function nd(n){return n===wn?{}:n===Jt?[]:n}function _C(n,s){const o=n.viewQuery;n.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function IC(n,s){const o=n.contentQueries;n.contentQueries=o?(l,u,p)=>{s(l,u,p),o(l,u,p)}:s}function Hr(n,s){const o=n.hostBindings;n.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}function uh(n){const s=n.inputConfig,o={};for(const l in s)if(s.hasOwnProperty(l)){const u=s[l];Array.isArray(u)&&u[2]&&(o[l]=u[2])}n.inputTransforms=o}function ug(n){return!!rd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function rd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zo(n,s,o){return!Object.is(n[s],o)&&(n[s]=o,!0)}function Mf(n,s,o,l){const u=en();return Zo(u,dl(),s)&&(jr(),kr(mi(),u,n,s,o,l)),Mf}function Rf(n,s,o,l){return Zo(n,dl(),o)?s+_e(o)+l:Nr}function B_(n,s,o,l,u,p,v,D){const M=en(),H=jr(),Z=n+ar,ce=H.firstCreatePass?function vg(n,s,o,l,u,p,v,D,M){const H=s.consts,Z=Qa(s,n,4,v||null,Bs(H,D));dv(s,o,Z,Bs(H,M)),Nc(s,Z);const ce=Z.tView=yc(2,Z,l,u,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,H,null);return null!==s.queries&&(s.queries.template(s,Z),ce.queries=s.queries.embeddedTView(Z)),Z}(Z,H,M,s,o,l,u,p,v):H.data[Z];ia(ce,!1);const ze=U_(H,M,ce,n);Ha()&&Ap(H,M,ze,ce),po(ze,M),ig(M,M[Z]=__(ze,M,ze,ce)),zi(ce)&&ah(H,M,ce),null!=v&&g_(M,ce,D)}let U_=function V_(n,s,o,l){return za(!0),s[qn].createComment("")};function H_(n,s,o){const l=en();return Zo(l,dl(),s)&&xa(jr(),mi(),l,n,s,l[qn],o,!1),H_}function Cv(n,s,o,l,u){const v=u?"class":"style";E_(n,o,s.inputs[v],v,l)}function _g(n,s,o,l){const u=en(),p=jr(),v=ar+n,D=u[qn],M=p.firstCreatePass?function z_(n,s,o,l,u,p){const v=s.consts,M=Qa(s,n,2,l,Bs(v,u));return dv(s,o,M,Bs(v,p)),null!==M.attrs&&lh(M,M.attrs,!1),null!==M.mergedAttrs&&lh(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(v,p,u,s,o,l):p.data[v],H=cb(p,u,M,D,s,n);u[v]=H;const Z=zi(M);return ia(M,!0),xm(D,H,M),32!=(32&M.flags)&&Ha()&&Ap(p,u,H,M),0===function tc(){return gr.lFrame.elementDepthCount}()&&po(H,u),function ns(){gr.lFrame.elementDepthCount++}(),Z&&(ah(p,u,M),bf(p,M,u)),null!==l&&g_(u,M),_g}function Tv(){let n=hs();Go()?Al():(n=n.parent,ia(n,!1));const s=n;(function rc(n){return gr.skipHydrationRootTNode===n})(s)&&function yu(){gr.skipHydrationRootTNode=null}(),function nc(){gr.lFrame.elementDepthCount--}();const o=jr();return o.firstCreatePass&&(Nc(o,n),ks(n)&&o.queries.elementEnd(n)),null!=s.classesWithoutHost&&function ap(n){return 0!=(8&n.flags)}(s)&&Cv(o,s,en(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Fh(n){return 0!=(16&n.flags)}(s)&&Cv(o,s,en(),s.stylesWithoutHost,!1),Tv}function Sv(n,s,o,l){return _g(n,s,o,l),Tv(),Sv}let cb=(n,s,o,l,u,p)=>(za(!0),Gc(l,u,function Oc(){return gr.lFrame.currentNamespace}()));function ad(n,s,o){const l=en(),u=jr(),p=n+ar,v=u.firstCreatePass?function od(n,s,o,l,u){const p=s.consts,v=Bs(p,l),D=Qa(s,n,8,"ng-container",v);return null!==v&&lh(D,v,!0),dv(s,o,D,Bs(p,u)),null!==s.queries&&s.queries.elementStart(s,D),D}(p,u,l,s,o):u.data[p];ia(v,!0);const D=W_(u,l,v,n);return l[p]=D,Ha()&&Ap(u,l,D,v),po(D,l),zi(v)&&(ah(u,l,v),bf(u,v,l)),null!=o&&g_(l,v),ad}function Av(){let n=hs();const s=jr();return Go()?Al():(n=n.parent,ia(n,!1)),s.firstCreatePass&&(Nc(s,n),ks(n)&&s.queries.elementEnd(n)),Av}function G_(n,s,o){return ad(n,s,o),Av(),G_}let W_=(n,s,o,l)=>(za(!0),Fu(s[qn],""));function db(){return en()}function Mv(n){return!!n&&"function"==typeof n.then}function Ig(n){return!!n&&"function"==typeof n.subscribe}function su(n,s,o,l){const u=en(),p=jr(),v=hs();return function Pf(n,s,o,l,u,p,v){const D=zi(l),H=n.firstCreatePass&&jE(n),Z=s[ti],ce=VE(s);let ze=!0;if(3&l.type||v){const un=Cs(l,s),Rn=v?v(un):un,nr=ce.length,nn=v?Zr=>v(ii(Zr[l.index])):l.index;let Sr=null;if(!v&&D&&(Sr=function Ih(n,s,o,l){const u=n.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const v=u[p];if(v===o&&u[p+1]===l){const D=s[As],M=u[p+2];return D.length>M?D[M]:null}"string"==typeof v&&(p+=2)}return null}(n,s,u,l.index)),null!==Sr)(Sr.__ngLastListenerFn__||Sr).__ngNextListenerFn__=p,Sr.__ngLastListenerFn__=p,ze=!1;else{p=Rv(l,s,Z,p,!1);const Zr=o.listen(Rn,u,p);ce.push(p,Zr),H&&H.push(u,nn,nr,nr+1)}}else p=Rv(l,s,Z,p,!1);const ht=l.outputs;let zt;if(ze&&null!==ht&&(zt=ht[u])){const un=zt.length;if(un)for(let Rn=0;Rn<un;Rn+=2){const yi=s[zt[Rn]][zt[Rn+1]].subscribe(p),Kl=ce.length;ce.push(p,yi),H&&H.push(u,l.index,Kl,-(Kl+1))}}}(p,u,u[qn],v,n,s,l),su}function q_(n,s,o,l){try{return _s(6,s,o),!1!==o(l)}catch(u){return I_(n,u),!1}finally{_s(7,s,o)}}function Rv(n,s,o,l,u){return function p(v){if(v===Function)return l;eg(n.componentOffset>-1?Ms(n.index,s):s);let M=q_(s,o,l,v),H=p.__ngNextListenerFn__;for(;H;)M=q_(s,o,H,v)&&M,H=H.__ngNextListenerFn__;return u&&!1===M&&v.preventDefault(),M}}function xv(n=1){return function rs(n){return(gr.lFrame.contextLView=function ko(n,s){for(;n>0;)s=s[Ys],n--;return s}(n,gr.lFrame.contextLView))[ti]}(n)}function hb(n,s){let o=null;const l=function $(n){const s=n.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(n);for(let u=0;u<s.length;u++){const p=s[u];if("*"!==p){if(null===l?V(n,p,!0):dt(l,p))return u}else o=u}return o}function K_(n){const s=en()[ni][di];if(!s.projection){const l=s.projection=Nl(n?n.length:1,null),u=l.slice();let p=s.child;for(;null!==p;){const v=n?hb(p,n):0;null!==v&&(u[v]?u[v].projectionNext=p:l[v]=p,u[v]=p),p=p.next}}}function fb(n,s=0,o){const l=en(),u=jr(),p=Qa(u,ar+n,16,null,o||null);null===p.projection&&(p.projection=s),Al(),(!l[Ji]||bi())&&32!=(32&p.flags)&&function Rm(n,s,o){nf(s[qn],0,s,o,Uy(n,o,s),jy(o.parent||s[di],o,s))}(u,l,p)}function Pv(n,s,o){return Ov(n,"",s,"",o),Pv}function Ov(n,s,o,l,u){const p=en(),v=Rf(p,s,o,l);return v!==Nr&&xa(jr(),mi(),p,n,v,p[qn],u,!1),Ov}function ud(n,s){return n<<17|s<<2}function Na(n){return n>>17&32767}function Z_(n){return 2|n}function hd(n){return(131068&n)>>2}function X_(n,s){return-131069&n|s<<2}function bg(n){return 1|n}function wg(n,s,o,l,u){const p=n[o+1],v=null===s;let D=l?Na(p):hd(p),M=!1;for(;0!==D&&(!1===M||v);){const Z=n[D+1];OC(n[D],s)&&(M=!0,n[D+1]=l?bg(Z):Z_(Z)),D=l?Na(Z):hd(Z)}M&&(n[o+1]=l?Z_(p):bg(p))}function OC(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&Ad(n,s)>=0}function Lv(n,s){return function Ao(n,s,o,l){const u=en(),p=jr(),v=function Ea(n){const s=gr.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,o}(2);p.firstUpdatePass&&function n0(n,s,o,l){const u=n.data;if(null===u[o+1]){const p=u[Wi()],v=function wb(n,s){return s>=n.expandoStartIndex}(n,o);(function s0(n,s){return 0!=(n.flags&(s?8:16))})(p,l)&&null===s&&!v&&(s=!1),s=function LC(n,s,o,l){const u=function k(n){const s=gr.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}(n);let p=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Tg(o=$v(null,n,s,o,l),s.attrs,l),p=null);else{const v=s.directiveStylingLast;if(-1===v||n[v]!==u)if(o=$v(u,n,s,o,l),null===p){let M=function Db(n,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==hd(l))return n[Na(l)]}(n,s,l);void 0!==M&&Array.isArray(M)&&(M=$v(null,n,s,M[1],l),M=Tg(M,s.attrs,l),function FC(n,s,o,l){n[Na(o?s.classBindings:s.styleBindings)]=l}(n,s,l,M))}else p=function Fv(n,s,o){let l;const u=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<u;p++)l=Tg(l,n[p].hostAttrs,o);return Tg(l,s.attrs,o)}(n,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),o}(u,p,s,l),function J_(n,s,o,l,u,p){let v=p?s.classBindings:s.styleBindings,D=Na(v),M=hd(v);n[l]=o;let Z,H=!1;if(Array.isArray(o)?(Z=o[1],(null===Z||Ad(o,Z)>0)&&(H=!0)):Z=o,u)if(0!==M){const ze=Na(n[D+1]);n[l+1]=ud(ze,D),0!==ze&&(n[ze+1]=X_(n[ze+1],l)),n[D+1]=function yb(n,s){return 131071&n|s<<17}(n[D+1],l)}else n[l+1]=ud(D,0),0!==D&&(n[D+1]=X_(n[D+1],l)),D=l;else n[l+1]=ud(M,0),0===D?D=l:n[M+1]=X_(n[M+1],l),M=l;H&&(n[l+1]=Z_(n[l+1])),wg(n,Z,l,!0),wg(n,Z,l,!1),function Ib(n,s,o,l,u){const p=u?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof s&&Ad(p,s)>=0&&(o[l+1]=bg(o[l+1]))}(s,Z,n,l,p),v=ud(D,M),p?s.classBindings=v:s.styleBindings=v}(u,p,s,o,v,l)}}(p,n,v,l),s!==Nr&&Zo(u,v,s)&&function Ff(n,s,o,l,u,p,v,D){if(!(3&s.type))return;const M=n.data,H=M[D+1],Z=function Q_(n){return 1==(1&n)}(H)?r0(M,s,o,u,hd(H),v):void 0;Sg(Z)||(Sg(p)||function dd(n){return 2==(2&n)}(H)&&(p=r0(M,null,o,u,D,v)),function PD(n,s,o,l,u){if(s)u?n.addClass(o,l):n.removeClass(o,l);else{let p=-1===l.indexOf("-")?void 0:Ll.DashCase;null==u?n.removeStyle(o,l,p):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),p|=Ll.Important),n.setStyle(o,l,u,p))}}(l,v,Ba(Wi(),o),u,p))}(p,p.data[Wi()],u,u[qn],n,u[v+1]=function $C(n,s){return null==n||""===n||("string"==typeof s?n+=s:"object"==typeof n&&(n=ye($l(n)))),n}(s,o),l,v)}(n,s,null,!0),Lv}function $v(n,s,o,l,u){let p=null;const v=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<v&&(p=s[D],l=Tg(l,p.hostAttrs,u),p!==n);)D++;return null!==n&&(o.directiveStylingLast=D),l}function Tg(n,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?u=v:u===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ca(n,v,!!o||s[++p]))}return void 0===n?null:n}function r0(n,s,o,l,u,p){const v=null===s;let D;for(;u>0;){const M=n[u],H=Array.isArray(M),Z=H?M[1]:M,ce=null===Z;let ze=o[u+1];ze===Nr&&(ze=ce?Jt:void 0);let ht=ce?Hh(ze,l):Z===l?ze:void 0;if(H&&!Sg(ht)&&(ht=Hh(M,l)),Sg(ht)&&(D=ht,v))return D;const zt=n[u+1];u=v?Na(zt):hd(zt)}if(null!==s){let M=p?s.residualClasses:s.residualStyles;null!=M&&(D=Hh(M,l))}return D}function Sg(n){return void 0!==n}function Ab(n,s=""){const o=en(),l=jr(),u=n+ar,p=l.firstCreatePass?Qa(l,u,1,s,null):l.data[u],v=Mb(l,o,p,s,n);o[u]=v,Ha()&&Ap(l,o,v,p),ia(p,!1)}let Mb=(n,s,o,l,u)=>(za(!0),function ml(n,s){return n.createText(s)}(s[qn],l));function a0(n){return Bv("",n,""),a0}function Bv(n,s,o){const l=en(),u=Rf(l,n,s,o);return u!==Nr&&function Ec(n,s,o){const l=Ba(s,n);!function zc(n,s,o){n.setValue(s,o)}(n[qn],l,o)}(l,Wi(),u),Bv}const ou=void 0;var Pg=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gv(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let au={};function Og(n){const s=function I0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Hb(s);if(o)return o;const l=s.split("-")[0];if(o=Hb(l),o)return o;if("en"===l)return Pg;throw new Ce(701,!1)}function _0(n){return Og(n)[lu.PluralCase]}function Hb(n){return n in au||(au[n]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[n]),au[n]}var lu=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(lu||{});const Ws="en-US";let E0=Ws;function G0(n,s,o,l,u){if(n=et(n),Array.isArray(n))for(let p=0;p<n.length;p++)G0(n[p],s,o,l,u);else{const p=jr(),v=en(),D=hs();let M=zu(n)?n:et(n.provide);const H=Qy(n),Z=1048575&D.providerIndexes,ce=D.directiveStart,ze=D.providerIndexes>>20;if(zu(n)||!n.multi){const ht=new Rl(H,u,oh),zt=Vg(M,s,u?Z:Z+ze,ce);-1===zt?(Cu(wa(D,v),p,M),Ug(p,n,s.length),s.push(M),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),o.push(ht),v.push(ht)):(o[zt]=ht,v[zt]=ht)}else{const ht=Vg(M,s,Z+ze,ce),zt=Vg(M,s,Z,Z+ze),Rn=zt>=0&&o[zt];if(u&&!Rn||!u&&!(ht>=0&&o[ht])){Cu(wa(D,v),p,M);const nr=function K0(n,s,o,l,u){const p=new Rl(n,o,oh);return p.multi=[],p.index=s,p.componentProviders=0,cw(p,u,l&&!o),p}(u?W0:lT,o.length,u,l,H);!u&&Rn&&(o[zt].providerFactory=nr),Ug(p,n,s.length,0),s.push(M),D.directiveStart++,D.directiveEnd++,u&&(D.providerIndexes+=1048576),o.push(nr),v.push(nr)}else Ug(p,n,ht>-1?ht:zt,cw(o[u?zt:ht],H,!u&&l));!u&&l&&Rn&&o[zt].componentProviders++}}}function Ug(n,s,o,l){const u=zu(s),p=function qm(n){return!!n.useClass}(s);if(u||p){const M=(p?et(s.useClass):s).prototype.ngOnDestroy;if(M){const H=n.destroyHooks||(n.destroyHooks=[]);if(!u&&s.multi){const Z=H.indexOf(o);-1===Z?H.push(o,[l,M]):H[Z+1].push(l,M)}else H.push(o,M)}}}function cw(n,s,o){return o&&n.componentProviders++,n.multi.push(s)-1}function Vg(n,s,o,l){for(let u=o;u<l;u++)if(s[u]===n)return u;return-1}function lT(n,s,o,l){return q0(this.multi,[])}function W0(n,s,o,l){const u=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=fl(o,o[Cn],this.providerFactory.index,l);p=D.slice(0,v),q0(u,p);for(let M=v;M<D.length;M++)p.push(D[M])}else p=[],q0(u,p);return p}function q0(n,s){for(let o=0;o<n.length;o++)s.push((0,n[o])());return s}function ty(n,s=[]){return o=>{o.providersResolver=(l,u)=>function lw(n,s,o){const l=jr();if(l.firstCreatePass){const u=gi(n);G0(o,l.data,l.blueprint,u,!0),G0(s,l.data,l.blueprint,u,!1)}}(l,u?u(n):n,s)}}class cu{}class Ah{}function uw(n,s){return new Y0(n,null!=s?s:null,[])}class Y0 extends cu{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ag(this);const u=Ri(s);this._bootstrapComponents=vc(u.bootstrap),this._r3Injector=vf(s,o,[{provide:cu,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver},...l],ye(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class jg extends Ah{constructor(s){super(),this.moduleType=s}create(s){return new Y0(this.moduleType,s,[])}}class ny extends cu{constructor(s){super(),this.componentFactoryResolver=new ag(this),this.instance=null;const o=new Gp([...s.providers,{provide:cu,useValue:this},{provide:Jm,useValue:this.componentFactoryResolver}],s.parent||zp(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function hw(n,s,o=null){return new ny({providers:n,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let Z0=(()=>{var n;class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const u=Xy(0,l.type),p=u.length>0?hw([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,p)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(n=s).\u0275prov=mt({token:n,providedIn:"environment",factory:()=>new n(Ge(Bl))}),s})();function fw(n){n.getStandaloneInjector=s=>s.get(Z0).getOrCreateStandaloneInjector(n)}function Sw(){return this._results[Symbol.iterator]()}class gd{get changes(){return this._changes||(this._changes=new ro)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=gd.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Sw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=function Ss(n){return n.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ko(n,s,o){if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++){let u=n[l],p=s[l];if(o&&(u=o(u),p=o(p)),p!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gT(n,s,o,l=!0){const u=s[Cn];if(function Dm(n,s,o,l){const u=Vi+l,p=o.length;l>0&&(o[u-1][Kr]=s),l<p-Vi?(s[Kr]=o[u],hm(o,Vi+l,s)):(o.push(s),s[Kr]=null),s[qr]=o;const v=s[oo];null!==v&&o!==v&&function wp(n,s){const o=n[Ti];s[ni]!==s[qr][qr][ni]&&(n[jo]=!0),null===o?n[Ti]=[s]:o.push(s)}(v,s);const D=s[Di];null!==D&&D.insertView(n),s[Gn]|=128}(u,s,n,o),l){const p=Am(o,n),v=s[qn],D=Cp(v,n[Ci]);null!==D&&function $d(n,s,o,l,u,p){l[Mr]=u,l[di]=s,zd(n,l,o,1,u,p)}(u,n[di],v,s,D,p)}}let qf=(()=>{class s{}return s.__NG_ELEMENT_ID__=vT,s})();const mT=qf,Aw=class extends mT{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){var s;return(null===(s=this._declarationTContainer.tView)||void 0===s?void 0:s.ssrId)||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const u=function aI(n,s,o,l){var u,p;const v=s.tView,H=av(n,v,o,4096&n[Gn]?4096:16,null,s,null,null,null,null!==(u=null==l?void 0:l.injector)&&void 0!==u?u:null,null!==(p=null==l?void 0:l.hydrationInfo)&&void 0!==p?p:null);H[oo]=n[s.index];const ce=n[Di];return null!==ce&&(H[Di]=ce.createEmbeddedView(v)),b_(v,H,o),H}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:l});return new vo(u)}};function vT(){return dy(hs(),en())}function dy(n,s){return 4&n.type?new Aw(s,n,gf(n,s)):null}let qg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pw,s})();function Pw(){return ql(hs(),en())}const Kg=qg,dI=class extends Kg{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return gf(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Da(this._hostTNode,this._hostLView);if(Ga(s)){const o=Wa(s,this._hostLView),l=sc(s);return new fo(o[Cn].data[l+8],o)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ls(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Vi}createEmbeddedView(s,o,l){let u,p;"number"==typeof l?u=l:null!=l&&(u=l.index,p=l.injector);const D=s.createEmbeddedViewImpl(o||{},p,null);return this.insertImpl(D,u,false),D}createComponent(s,o,l,u,p){var v,M;const H=s&&!function Ka(n){return"function"==typeof n}(s);let Z;if(H)Z=o;else{const nn=o||{};Z=nn.index,l=nn.injector,u=nn.projectableNodes,p=nn.environmentInjector||nn.ngModuleRef}const ce=H?s:new tu(rr(s)),ze=l||this.parentInjector;if(!p&&null==ce.ngModule){const Sr=(H?ze:this.parentInjector).get(Bl,null);Sr&&(p=Sr)}const ht=rr(null!==(v=ce.componentType)&&void 0!==v?v:{}),zt=(null==ht?void 0:ht.id,null),un=null!==(M=null==zt?void 0:zt.firstChild)&&void 0!==M?M:null,Rn=ce.create(ze,u,un,p),nr=!!zt&&!jc(this._hostTNode);return this.insertImpl(Rn.hostView,Z,nr),Rn}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const u=s._lView;if(function mu(n){return Yr(n[qr])}(u)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const H=u[qr],Z=new dI(H,H[di],H[qr]);Z.detach(Z.indexOf(s))}}const v=this._adjustIndex(o),D=this._lContainer;return gT(D,u,v,!l),s.attachToViewContainerRef(),hm(yo(D),v,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ls(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Dp(this._lContainer,o);l&&(jh(yo(this._lContainer),o),Cm(l[Cn],l))}detach(s){const o=this._adjustIndex(s,-1),l=Dp(this._lContainer,o);return l&&null!=jh(yo(this._lContainer),o)?new vo(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function ls(n){return n[8]}function yo(n){return n[8]||(n[8]=[])}function ql(n,s){let o;const l=s[n.index];return Yr(l)?o=l:(o=__(l,s,null,n),s[n.index]=o,ig(s,o)),Nw(o,s,n,l),new dI(o,n,s)}let Nw=function Kf(n,s,o,l){if(n[Ci])return;let u;u=8&o.type?ii(l):function Ow(n,s){const o=n[qn],l=o.createComment(""),u=Cs(s,n);return Vd(o,Cp(o,u),l,function Tp(n,s){return n.nextSibling(s)}(o,u),!1),l}(s,o),n[Ci]=u};class fI{constructor(s){this.queryList=s,this.matches=null}clone(){return new fI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let p=0;p<l;p++){const v=o.getByIndex(p);u.push(this.queries[v.indexInDeclarationView].clone())}return new Yg(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==vI(s,o).matches&&this.queries[o].setDirty()}}class Lw{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class pI{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,p=this.getByIndex(l).embeddedTView(s,u);p&&(p.indexInDeclarationView=l,null!==o?o.push(p):o=[p])}return null!==o?new pI(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Zi{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Zi(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const p=l[u];this.matchTNodeWithReadOption(s,o,US(o,p)),this.matchTNodeWithReadOption(s,o,Mu(o,s,p,!1,!1))}else l===qf?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Mu(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===mf||u===qg||u===qf&&4&o.type)this.addMatch(o.index,-2);else{const p=Mu(o,s,u,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function US(n,s){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function qs(n,s,o,l){return-1===o?function _T(n,s){return 11&n.type?gf(n,s):4&n.type?dy(n,s):null}(s,n):-2===o?function Fw(n,s,o){return o===mf?gf(s,n):o===qf?dy(s,n):o===qg?ql(s,n):void 0}(n,s,l):fl(n,n[Cn],o,s)}function $w(n,s,o,l){const u=s[Di].queries[l];if(null===u.matches){const p=n.data,v=o.matches,D=[];for(let M=0;M<v.length;M+=2){const H=v[M];D.push(H<0?null:qs(s,p[H],v[M+1],o.metadata.read))}u.matches=D}return u.matches}function gI(n,s,o,l){const u=n.queries.getByIndex(o),p=u.matches;if(null!==p){const v=$w(n,s,u,o);for(let D=0;D<p.length;D+=2){const M=p[D];if(M>0)l.push(v[D/2]);else{const H=p[D+1],Z=s[-M];for(let ce=Vi;ce<Z.length;ce++){const ze=Z[ce];ze[oo]===ze[qr]&&gI(ze[Cn],ze,H,l)}if(null!==Z[Ti]){const ce=Z[Ti];for(let ze=0;ze<ce.length;ze++){const ht=ce[ze];gI(ht[Cn],ht,H,l)}}}}}return l}function mI(n){const s=en(),o=jr(),l=te();ve(l+1);const u=vI(o,l);if(n.dirty&&function kh(n){return 4==(4&n[Gn])}(s)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const p=u.crossesNgTemplate?gI(o,s,l,[]):$w(o,s,u,l);n.reset(p,YD),n.notifyOnChanges()}return!0}return!1}function Bw(n,s,o){const l=jr();l.firstCreatePass&&(jw(l,new Lw(n,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),ET(l,en(),s)}function Uw(n,s,o,l){const u=jr();if(u.firstCreatePass){const p=hs();jw(u,new Lw(s,o,l),p.index),function bT(n,s){const o=n.contentQueries||(n.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,s)}(u,n),2==(2&o)&&(u.staticContentQueries=!0)}ET(u,en(),o)}function Vw(){return function IT(n,s){return n[Di].queries[s].queryList}(en(),te())}function ET(n,s,o){const l=new gd(4==(4&o));(function Df(n,s,o,l){const u=VE(s);u.push(o),n.firstCreatePass&&jE(n).push(l,u.length-1)})(n,s,l,l.destroy),null===s[Di]&&(s[Di]=new Yg),s[Di].queries.push(new fI(l))}function jw(n,s,o){null===n.queries&&(n.queries=new pI),n.queries.track(new Zi(s,o))}function vI(n,s){return n.queries.getByIndex(s)}function _I(n){return!!Ri(n)}const $T=new Pi("Application Initializer");let Xw=(()=>{var n;class s{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p}),this.appInits=null!==(l=vt($T,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const p of this.appInits){const v=p();if(Mv(v))l.push(v);else if(Ig(v)){const D=new Promise((M,H)=>{v.subscribe({complete:M,error:H})});l.push(D)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{u()}).catch(p=>{this.reject(p)}),0===l.length&&u(),this.initialized=!0}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),Qw=(()=>{var n;class s{log(l){console.log(l)}warn(l){console.warn(l)}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),s})();const xI=new Pi("LocaleId",{providedIn:"root",factory:()=>vt(xI,xn.Optional|xn.SkipSelf)||function GS(){return typeof $localize<"u"&&$localize.locale||Ws}()}),Ph=new Pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jw=(()=>{var n;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new we.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();class eD{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let tD=(()=>{var n;class s{compileModuleSync(l){return new jg(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),v=vc(Ri(l).declarations).reduce((D,M)=>{const H=rr(M);return H&&D.push(new tu(H)),D},[]);return new eD(u,v)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const kI=new Pi(""),pu=new Pi("");let LI,ZT=(()=>{var n;class s{constructor(l,u,p){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LI||(function XT(n){LI=n}(p),p.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Co.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,p){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==v),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:p})}whenStable(l,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,p){return[]}}return(n=s).\u0275fac=function(l){return new(l||n)(Ge(Co),Ge(aD),Ge(pu))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),s})(),aD=(()=>{var n;class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){var p,v;return null!==(p=null===(v=LI)||void 0===v?void 0:v.findTestabilityInTree(this,l,u))&&void 0!==p?p:null}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),s})(),_d=null;const lD=new Pi("AllowMultipleToken"),FI=new Pi("PlatformDestroyListeners"),cD=new Pi("appBootstrapListener");class JT{constructor(s,o){this.name=s,this.token=o}}function eS(n,s,o=[]){const l=`Platform: ${s}`,u=new Pi(l);return(p=[])=>{let v=fD();if(!v||v.injector.get(lD,!1)){const D=[...o,...p,{provide:u,useValue:!0}];n?n(D):function XS(n){if(_d&&!_d.get(lD,!1))throw new Ce(400,!1);(function Ey(){!function Dl(n){$a=n}(()=>{throw new Ce(600,!1)})})(),_d=n;const s=n.get(tS);(function dD(n){const s=n.get(jl,null);null==s||s.forEach(o=>o())})(n)}(function hD(n=[],s){return vl.create({name:s,providers:[{provide:Km,useValue:"platform"},{provide:FI,useValue:new Set([()=>_d=null])},...n]})}(D,l))}return function JS(n){const s=fD();if(!s)throw new Ce(401,!1);return s}()}}function fD(){var n,s;return null!==(n=null===(s=_d)||void 0===s?void 0:s.get(tS))&&void 0!==n?n:null}let tS=(()=>{var n;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const p=function eA(n="zone.js",s){return"noop"===n?new Jp:"zone.js"===n?new Co(s):n}(null==u?void 0:u.ngZone,function nS(n){var s,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(s=null==n?void 0:n.eventCoalescing)&&void 0!==s&&s,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return p.run(()=>{const v=function uu(n,s,o){return new Y0(n,s,o)}(l.moduleType,this.injector,function aS(n){return[{provide:Co,useFactory:n},{provide:lf,multi:!0,useFactory:()=>{const s=vt(nA,{optional:!0});return()=>s.initialize()}},{provide:oS,useFactory:tA},{provide:d_,useFactory:$o}]}(()=>p)),D=v.injector.get(Qc,null);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:H=>{D.handleError(H)}});v.onDestroy(()=>{BI(this._modules,v),M.unsubscribe()})}),function rS(n,s,o){try{const l=o();return Mv(l)?l.catch(u=>{throw s.runOutsideAngular(()=>n.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>n.handleError(l)),l}}(D,p,()=>{const M=v.injector.get(Xw);return M.runInitializers(),M.donePromise.then(()=>(function Gb(n){At(n,"Expected localeId to be defined"),"string"==typeof n&&(E0=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(xI,Ws)||Ws),this._moduleDoBootstrap(v),v))})})}bootstrapModule(l,u=[]){const p=iS({},u);return function ZS(n,s,o){const l=new jg(o);return Promise.resolve(l)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(l){const u=l.injector.get(im);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new Ce(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(FI,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=s).\u0275fac=function(l){return new(l||n)(Ge(vl))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),s})();function iS(n,s){return Array.isArray(s)?s.reduce(iS,n):{...n,...s}}let im=(()=>{var n;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vt(oS),this.zoneIsStable=vt(d_),this.componentTypes=[],this.components=[],this.isStable=vt(Jw).hasPendingTasks.pipe((0,je.w)(l=>l?(0,De.of)(!1):this.zoneIsStable),(0,Fe.x)(),(0,fe.B)()),this._injector=vt(Bl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const p=l instanceof sn;if(!this._injector.get(Xw).done)throw!p&&Ii(l),new Ce(405,!1);let D;D=p?l:this._injector.get(Jm).resolveComponentFactory(l),this.componentTypes.push(D.componentType);const M=function uD(n){return n.isBoundToModule}(D)?void 0:this._injector.get(cu),Z=D.create(vl.NULL,[],u||D.selector,M),ce=Z.location.nativeElement,ze=Z.injector.get(kI,null);return null==ze||ze.registerApplication(ce),Z.onDestroy(()=>{this.detachView(Z.hostView),BI(this.components,Z),null==ze||ze.unregisterApplication(ce)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;BI(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(cD,[]);u.push(...this._bootstrapListeners),u.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>BI(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();function BI(n,s){const o=n.indexOf(s);o>-1&&n.splice(o,1)}const oS=new Pi("",{providedIn:"root",factory:()=>vt(Qc).handleError.bind(void 0)});function tA(){const n=vt(Co),s=vt(Qc);return o=>n.runOutsideAngular(()=>s.handleError(o))}let nA=(()=>{var n;class s{constructor(){this.zone=vt(Co),this.applicationRef=vt(im)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();function iA(){return!1}function sA(){}let oA=(()=>{class s{}return s.__NG_ELEMENT_ID__=aA,s})();function aA(n){return function lA(n,s,o){if(co(n)&&!o){const l=Ms(n.index,s);return new vo(l,l)}return 47&n.type?new vo(s[ni],s):null}(hs(),en(),16==(16&n))}class cS{constructor(){}supports(s){return ug(s)}create(s){return new gA(s)}}const pA=(n,s)=>s;class gA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||pA}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,p=null;for(;o||l;){const v=!l||o&&o.currentIndex<hS(l,u,p)?o:l,D=hS(v,u,p),M=v.currentIndex;if(v===l)u--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)u++;else{p||(p=[]);const H=D-u,Z=M-u;if(H!=Z){for(let ze=0;ze<H;ze++){const ht=ze<p.length?p[ze]:p[ze]=0,zt=ht+ze;Z<=zt&&zt<H&&(p[ze]=ht+1)}p[v.previousIndex]=Z-H}}D!==M&&s(v,D,M)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ug(s))throw new Ce(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,p,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let D=0;D<this.length;D++)p=s[D],v=this._trackByFn(D,p),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,p,v,D)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,v,D),l=!0),o=o._next}else u=0,function QE(n,s){if(Array.isArray(n))for(let o=0;o<n.length;o++)s(n[o]);else{const o=n[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,D=>{v=this._trackByFn(u,D),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,D,v,u)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,v,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,u)):s=this._addAfter(new uS(o,l),p,u),s}_verifyReinsertion(s,o,l,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,p=s._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new dS),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dS),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class uS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class dS{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new mA,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hS(n,s,o){const l=n.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class fS{constructor(){}supports(s){return s instanceof Map||rd(s)}create(){return new vA}}class vA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||rd(s)))throw new Ce(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const p=u._prev,v=u._next;return p&&(p._next=v),v&&(v._prev=p),u._next=null,u._prev=null,u}const l=new yA(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class yA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pS(){return new yD([new cS])}let yD=(()=>{var n;class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const p=u.factories.slice();l=l.concat(p)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||pS()),deps:[[s,new Bc,new Rd]]}}find(l){const u=this.factories.find(p=>p.supports(l));if(null!=u)return u;throw new Ce(901,!1)}}return(n=s).\u0275prov=mt({token:n,providedIn:"root",factory:pS}),s})();function Tc(){return new zI([new fS])}let zI=(()=>{var n;class s{constructor(l){this.factories=l}static create(l,u){if(u){const p=u.factories.slice();l=l.concat(p)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Tc()),deps:[[s,new Bc,new Rd]]}}find(l){const u=this.factories.find(p=>p.supports(l));if(u)return u;throw new Ce(901,!1)}}return(n=s).\u0275prov=mt({token:n,providedIn:"root",factory:Tc}),s})();const vS=eS(null,"core",[]);let yS=(()=>{var n;class s{constructor(l){}}return(n=s).\u0275fac=function(l){return new(l||n)(Ge(im))},n.\u0275mod=_r({type:n}),n.\u0275inj=gt({}),s})();function ha(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Oh(n,s){const o=rr(n),l=s.elementInjector||zp();return new tu(o).create(l,s.projectableNodes,s.hostElement,s.environmentInjector)}function CS(n){const s=rr(n);if(!s)return null;const o=new tu(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>Xe});var d=x(9058),g=x(4537),X=x(7592),re=x(7879);class we{constructor(Ue,Se){this._delegate=Ue,this.firebase=Se,(0,X._addComponent)(Ue,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(Ue,Se=X._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(Ue);return!We.isInitialized()&&"EXPLICIT"===(null===(ct=We.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Se})}_removeServiceInstance(Ue,Se=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(Se)}_addComponent(Ue){(0,X._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,X._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function Fe(){const et=function je(et){const Ue={},Se={__esModule:!0,initializeApp:function Ce(Re,Oe={}){const Ee=X.initializeApp(Re,Oe);if((0,d.r3)(Ue,Ee.name))return Ue[Ee.name];const Ye=new et(Ee,Se);return Ue[Ee.name]=Ye,Ye},app:We,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function _e(Re){const Oe=Re.name,Ee=Oe.replace("-compat","");if(X._registerComponent(Re)&&"PUBLIC"===Re.type){const Ye=(pe=We())=>{if("function"!=typeof pe[Ee])throw fe.create("invalid-app-argument",{appName:Oe});return pe[Ee]()};void 0!==Re.serviceProps&&(0,d.ZB)(Ye,Re.serviceProps),Se[Ee]=Ye,et.prototype[Ee]=function(...pe){return this._getService.bind(this,Oe).apply(this,Re.multipleInstances?pe:[])}}return"PUBLIC"===Re.type?Se[Ee]:null},removeApp:function ct(Re){delete Ue[Re]},useAsService:function He(Re,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:X}};function We(Re){if(!(0,d.r3)(Ue,Re=Re||X._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Re});return Ue[Re]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ve(){return Object.keys(Ue).map(Re=>Ue[Re])}}),We.App=et,Se}(we);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Ue(Se){(0,d.ZB)(et,Se)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),et}(),de=new re.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=ue;!function Ne(et){(0,X.registerVersion)("@firebase/app-compat","0.2.13",et)}()},7592:(rn,it,x)=>{"use strict";x.r(it),x.d(it,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>gt,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>st,_addOrOverwriteComponent:()=>ut,_apps:()=>Me,_clearComponents:()=>tt,_components:()=>Qe,_getProvider:()=>Tt,_registerComponent:()=>At,_removeServiceInstance:()=>tn,deleteApp:()=>vn,getApp:()=>Xt,getApps:()=>_n,initializeApp:()=>Ht,onLog:()=>bn,registerVersion:()=>dn,setLogLevel:()=>ir});var d=x(5861),g=x(4537),X=x(7879),re=x(9058),we=x(1878);class De{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function fe(_t){const Ze=_t.getComponent();return"VERSION"===(null==Ze?void 0:Ze.type)}(Pt)){const Zt=Pt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Pt=>Pt).join(" ")}}const je="@firebase/app",ue=new X.Yd("@firebase/app"),se="[DEFAULT]",ge={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Me=new Map,Qe=new Map;function st(_t,Ze){try{_t.container.addComponent(Ze)}catch(Pt){ue.debug(`Component ${Ze.name} failed to register with FirebaseApp ${_t.name}`,Pt)}}function ut(_t,Ze){_t.container.addOrOverwriteComponent(Ze)}function At(_t){const Ze=_t.name;if(Qe.has(Ze))return ue.debug(`There were multiple attempts to register component ${Ze}.`),!1;Qe.set(Ze,_t);for(const Pt of Me.values())st(Pt,_t);return!0}function Tt(_t,Ze){const Pt=_t.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),_t.container.getProvider(Ze)}function tn(_t,Ze,Pt=se){Tt(_t,Ze).clearInstance(Pt)}function tt(){Qe.clear()}const mt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yt{constructor(Ze,Pt,Zt){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const gt="9.23.0";function Ht(_t,Ze={}){let Pt=_t;"object"!=typeof Ze&&(Ze={name:Ze});const Zt=Object.assign({name:se,automaticDataCollectionEnabled:!1},Ze),an=Zt.name;if("string"!=typeof an||!an)throw mt.create("bad-app-name",{appName:String(an)});if(Pt||(Pt=(0,re.aH)()),!Pt)throw mt.create("no-options");const In=Me.get(an);if(In){if((0,re.vZ)(Pt,In.options)&&(0,re.vZ)(Zt,In.config))return In;throw mt.create("duplicate-app",{appName:an})}const Bn=new g.H0(an);for(const ee of Qe.values())Bn.addComponent(ee);const $e=new yt(Pt,Zt,Bn);return Me.set(an,$e),$e}function Xt(_t=se){const Ze=Me.get(_t);if(!Ze&&_t===se&&(0,re.aH)())return Ht();if(!Ze)throw mt.create("no-app",{appName:_t});return Ze}function _n(){return Array.from(Me.values())}function vn(_t){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(_t){const Ze=_t.name;Me.has(Ze)&&(Me.delete(Ze),yield Promise.all(_t.container.getProviders().map(Pt=>Pt.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function dn(_t,Ze,Pt){var Zt;let an=null!==(Zt=ge[_t])&&void 0!==Zt?Zt:_t;Pt&&(an+=`-${Pt}`);const In=an.match(/\s|\//),Bn=Ze.match(/\s|\//);if(In||Bn){const $e=[`Unable to register library "${an}" with version "${Ze}":`];return In&&$e.push(`library name "${an}" contains illegal characters (whitespace or "/")`),In&&Bn&&$e.push("and"),Bn&&$e.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void ue.warn($e.join(" "))}At(new g.wA(`${an}-version`,()=>({library:an,version:Ze}),"VERSION"))}function bn(_t,Ze){if(null!==_t&&"function"!=typeof _t)throw mt.create("invalid-log-argument");(0,X.Am)(_t,Ze)}function ir(_t){(0,X.Ub)(_t)}const lr="firebase-heartbeat-database",xn=1,Pn="firebase-heartbeat-store";let Un=null;function Zn(){return Un||(Un=(0,we.X3)(lr,xn,{upgrade:(_t,Ze)=>{0===Ze&&_t.createObjectStore(Pn)}}).catch(_t=>{throw mt.create("idb-open",{originalErrorMessage:_t.message})})),Un}function vr(){return(vr=(0,d.Z)(function*(_t){try{return yield(yield Zn()).transaction(Pn).objectStore(Pn).get(Ut(_t))}catch(Ze){if(Ze instanceof re.ZR)ue.warn(Ze.message);else{const Pt=mt.create("idb-get",{originalErrorMessage:null==Ze?void 0:Ze.message});ue.warn(Pt.message)}}})).apply(this,arguments)}function Nt(_t,Ze){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(_t,Ze){try{const Zt=(yield Zn()).transaction(Pn,"readwrite");yield Zt.objectStore(Pn).put(Ze,Ut(_t)),yield Zt.done}catch(Pt){if(Pt instanceof re.ZR)ue.warn(Pt.message);else{const Zt=mt.create("idb-set",{originalErrorMessage:null==Pt?void 0:Pt.message});ue.warn(Zt.message)}}})).apply(this,arguments)}function Ut(_t){return`${_t.name}!${_t.options.appId}`}class Sn{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new zr(Pt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var Ze=this;return(0,d.Z)(function*(){const Zt=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=yr();if(null===Ze._heartbeatsCache&&(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise),Ze._heartbeatsCache.lastSentHeartbeatDate!==an&&!Ze._heartbeatsCache.heartbeats.some(In=>In.date===an))return Ze._heartbeatsCache.heartbeats.push({date:an,agent:Zt}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(In=>{const Bn=new Date(In.date).valueOf();return Date.now()-Bn<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache)})()}getHeartbeatsHeader(){var Ze=this;return(0,d.Z)(function*(){if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null===Ze._heartbeatsCache||0===Ze._heartbeatsCache.heartbeats.length)return"";const Pt=yr(),{heartbeatsToSend:Zt,unsentEntries:an}=function Xr(_t,Ze=1024){const Pt=[];let Zt=_t.slice();for(const an of _t){const In=Pt.find(Bn=>Bn.agent===an.agent);if(In){if(In.dates.push(an.date),br(Pt)>Ze){In.dates.pop();break}}else if(Pt.push({agent:an.agent,dates:[an.date]}),br(Pt)>Ze){Pt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:Zt}}(Ze._heartbeatsCache.heartbeats),In=(0,re.L)(JSON.stringify({version:2,heartbeats:Zt}));return Ze._heartbeatsCache.lastSentHeartbeatDate=Pt,an.length>0?(Ze._heartbeatsCache.heartbeats=an,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),In})()}}function yr(){return(new Date).toISOString().substring(0,10)}class zr{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,d.Z)(function*(){return(yield Ze._canUseIndexedDBPromise)&&(yield function cr(_t){return vr.apply(this,arguments)}(Ze.app))||{heartbeats:[]}})()}overwrite(Ze){var Pt=this;return(0,d.Z)(function*(){var Zt;if(yield Pt._canUseIndexedDBPromise){const In=yield Pt.read();return Nt(Pt.app,{lastSentHeartbeatDate:null!==(Zt=Ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:In.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Pt=this;return(0,d.Z)(function*(){var Zt;if(yield Pt._canUseIndexedDBPromise){const In=yield Pt.read();return Nt(Pt.app,{lastSentHeartbeatDate:null!==(Zt=Ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Ze.heartbeats]})}})()}}function br(_t){return(0,re.L)(JSON.stringify({version:2,heartbeats:_t})).length}!function fr(_t){At(new g.wA("platform-logger",Ze=>new De(Ze),"PRIVATE")),At(new g.wA("heartbeat",Ze=>new Sn(Ze),"PRIVATE")),dn(je,"0.9.13",_t),dn(je,"0.9.13","esm2017"),dn("fire-js","")}("")},4097:(rn,it,x)=>{"use strict";x.d(it,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=x(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(rn,it,x)=>{"use strict";x.d(it,{Z:()=>d.Z});var d=x(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(rn,it,x)=>{"use strict";x.r(it);var d=x(5861),g=x(3399),X=x(9058),re=x(7592),we=x(7582),De=x(7879),fe=x(4537);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xe=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new De.Yd("@firebase/auth");function Ce(_,...h){ct.logLevel<=De.in.ERROR&&ct.error(`Auth (${re.SDK_VERSION}): ${_}`,...h)}function Ve(_,...h){throw Oe(_,...h)}function _e(_,...h){return Oe(_,...h)}function He(_,h,m){const b=Object.assign(Object.assign({},et()),{[h]:m});return new X.LL("auth","Firebase",b).create(h,{appName:_.name})}function Re(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ve(_,"argument-error"),He(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...h){if("string"!=typeof _){const m=h[0],b=[...h.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return Ue.create(_,...h)}function Ee(_,h,...m){if(!_)throw Oe(h,...m)}function Ye(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ce(h),new Error(h)}function pe(_,h){_||Ye(h)}function Ae(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Be(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class at{constructor(h,m){this.shortDelay=h,this.longDelay=m,pe(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(_,h){pe(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class ge{static initialize(h,m,b){this.fetchImpl=h,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new at(3e4,6e4);function st(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function ut(_,h,m,b){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(_,h,m,b,K={}){return Tt(_,K,(0,d.Z)(function*(){let ne={},Ke={};b&&("GET"===h?Ke=b:ne={body:JSON.stringify(b)});const wt=(0,X.xO)(Object.assign({key:_.config.apiKey},Ke)).slice(1),on=yield _._getAdditionalHeaders();return on["Content-Type"]="application/json",_.languageCode&&(on["X-Firebase-Locale"]=_.languageCode),ge.fetch()(mt(_,_.config.apiHost,m,wt),Object.assign({method:h,headers:on,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Tt(_,h,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(_,h,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Me),h);try{const K=new yt(_),ne=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Ke=yield ne.json();if("needConfirmation"in Ke)throw gt(_,"account-exists-with-different-credential",Ke);if(ne.ok&&!("errorMessage"in Ke))return Ke;{const wt=ne.ok?Ke.errorMessage:Ke.error.message,[on,En]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===on)throw gt(_,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===on)throw gt(_,"email-already-in-use",Ke);if("USER_DISABLED"===on)throw gt(_,"user-disabled",Ke);const zn=b[on]||on.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw He(_,zn,En);Ve(_,zn)}}catch(K){if(K instanceof X.ZR)throw K;Ve(_,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function tt(_,h,m,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(_,h,m,b,K={}){const ne=yield ut(_,h,m,b,K);return"mfaPendingCredential"in ne&&Ve(_,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function mt(_,h,m,b){const K=`${h}${m}?${b}`;return _.config.emulator?se(_.config,K):`${_.config.apiScheme}://${K}`}class yt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gt(_,h,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const K=_e(_,h,b);return K.customData._tokenResponse=m,K}function Xt(){return(Xt=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function bn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function xn(){return(xn=(0,d.Z)(function*(_,h=!1){const m=(0,X.m9)(_),b=yield m.getIdToken(h),K=Un(b);Ee(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const ne="object"==typeof K.firebase?K.firebase:void 0,Ke=null==ne?void 0:ne.sign_in_provider;return{claims:K,token:b,authTime:bn(Pn(K.auth_time)),issuedAtTime:bn(Pn(K.iat)),expirationTime:bn(Pn(K.exp)),signInProvider:Ke||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function Pn(_){return 1e3*Number(_)}function Un(_){const[h,m,b]=_.split(".");if(void 0===h||void 0===m||void 0===b)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,X.tV)(m);return K?JSON.parse(K):(Ce("Failed to decode base64 JWT payload"),null)}catch(K){return Ce("Caught error parsing JWT payload as JSON",null==K?void 0:K.toString()),null}}function cr(_,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(b){throw b instanceof X.ZR&&function Nt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}class Fn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&h.schedule(!0))}h.schedule()})()}}class Ut{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(_){return dr.apply(this,arguments)}function dr(){return dr=(0,d.Z)(function*(_){var h;const m=_.auth,b=yield _.getIdToken(),K=yield cr(_,function cn(_,h){return dn.apply(this,arguments)}(m,{idToken:b}));Ee(null==K?void 0:K.users.length,m,"internal-error");const ne=K.users[0];_._notifyReloadListener(ne);const Ke=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?function zr(_){return _.map(h=>{var{providerId:m}=h,b=(0,we._T)(h,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(ne.providerUserInfo):[],wt=function Xr(_,h){return[..._.filter(b=>!h.some(K=>K.providerId===b.providerId)),...h]}(_.providerData,Ke),zn=!!_.isAnonymous&&!(_.email&&ne.passwordHash||null!=wt&&wt.length),Kn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:wt,metadata:new Ut(ne.createdAt,ne.lastLoginAt),isAnonymous:zn};Object.assign(_,Kn)}),dr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(_){const h=(0,X.m9)(_);yield jn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function fr(){return(fr=(0,d.Z)(function*(_,h){const m=yield Tt(_,{},(0,d.Z)(function*(){const b=(0,X.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:ne}=_.config,Ke=mt(_,K,"/v1/token",`key=${ne}`),wt=yield _._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(Ke,{method:"POST",headers:wt,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class _t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(typeof h.idToken<"u","internal-error"),Ee(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Zn(_){const h=Un(_);return Ee(h,"internal-error"),Ee(typeof h.exp<"u","internal-error"),Ee(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var b=this;return(0,d.Z)(function*(){return Ee(!b.accessToken||b.refreshToken,h,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(h,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var b=this;return(0,d.Z)(function*(){const{accessToken:K,refreshToken:ne,expiresIn:Ke}=yield function br(_,h){return fr.apply(this,arguments)}(h,m);b.updateTokensAndExpiration(K,ne,Number(Ke))})()}updateTokensAndExpiration(h,m,b){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(h,m){const{refreshToken:b,accessToken:K,expirationTime:ne}=m,Ke=new _t;return b&&(Ee("string"==typeof b,"internal-error",{appName:h}),Ke.refreshToken=b),K&&(Ee("string"==typeof K,"internal-error",{appName:h}),Ke.accessToken=K),ne&&(Ee("number"==typeof ne,"internal-error",{appName:h}),Ke.expirationTime=ne),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new _t,this.toJSON())}_performRefresh(){return Ye("not implemented")}}function Ze(_,h){Ee("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Pt{constructor(h){var{uid:m,auth:b,stsTokenManager:K}=h,ne=(0,we._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Ut(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,d.Z)(function*(){const b=yield cr(m,m.stsTokenManager.getToken(m.auth,h));return Ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(h){return function lr(_){return xn.apply(this,arguments)}(this,h)}reload(){return function Sn(_){return yr.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new Pt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var b=this;return(0,d.Z)(function*(){let K=!1;h.idToken&&h.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(h),K=!0),m&&(yield jn(b)),yield b.auth._persistUserIfCurrent(b),K&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var h=this;return(0,d.Z)(function*(){const m=yield h.getIdToken();return yield cr(h,function Ht(_,h){return Xt.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var b,K,ne,Ke,wt,on,En,zn;const Kn=null!==(b=m.displayName)&&void 0!==b?b:void 0,qi=null!==(K=m.email)&&void 0!==K?K:void 0,Aa=null!==(ne=m.phoneNumber)&&void 0!==ne?ne:void 0,Fd=null!==(Ke=m.photoURL)&&void 0!==Ke?Ke:void 0,Hc=null!==(wt=m.tenantId)&&void 0!==wt?wt:void 0,ml=null!==(on=m._redirectEventId)&&void 0!==on?on:void 0,zc=null!==(En=m.createdAt)&&void 0!==En?En:void 0,Fu=null!==(zn=m.lastLoginAt)&&void 0!==zn?zn:void 0,{uid:Gc,emailVerified:wm,isAnonymous:$d,providerData:Bd,stsTokenManager:tf}=m;Ee(Gc&&tf,h,"internal-error");const Dm=_t.fromJSON(this.name,tf);Ee("string"==typeof Gc,h,"internal-error"),Ze(Kn,h.name),Ze(qi,h.name),Ee("boolean"==typeof wm,h,"internal-error"),Ee("boolean"==typeof $d,h,"internal-error"),Ze(Aa,h.name),Ze(Fd,h.name),Ze(Hc,h.name),Ze(ml,h.name),Ze(zc,h.name),Ze(Fu,h.name);const wp=new Pt({uid:Gc,auth:h,email:qi,emailVerified:wm,displayName:Kn,isAnonymous:$d,photoURL:Fd,phoneNumber:Aa,tenantId:Hc,stsTokenManager:Dm,createdAt:zc,lastLoginAt:Fu});return Bd&&Array.isArray(Bd)&&(wp.providerData=Bd.map($u=>Object.assign({},$u))),ml&&(wp._redirectEventId=ml),wp}static _fromIdTokenResponse(h,m,b=!1){return(0,d.Z)(function*(){const K=new _t;K.updateFromServerResponse(m);const ne=new Pt({uid:m.localId,auth:h,stsTokenManager:K,isAnonymous:b});return yield jn(ne),ne})()}}const Zt=new Map;function an(_){pe(_ instanceof Function,"Expected a class definition");let h=Zt.get(_);return h?(pe(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Zt.set(_,h),h)}const Bn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var K=this;return(0,d.Z)(function*(){K.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const K=b.storage[m];return void 0===K?null:K})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function $e(_,h,m){return`firebase:${_}:${h}:${m}`}class ee{constructor(h,m,b){this.persistence=h,this.auth=m,this.userKey=b;const{config:K,name:ne}=this.auth;this.fullUserKey=$e(this.userKey,K.apiKey,ne),this.fullPersistenceKey=$e("persistence",K.apiKey,ne),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?Pt._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,d.Z)(function*(){if(m.persistence===h)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new ee(an(Bn),h,b);const K=(yield Promise.all(m.map(function(){var En=(0,d.Z)(function*(zn){if(yield zn._isAvailable())return zn});return function(zn){return En.apply(this,arguments)}}()))).filter(En=>En);let ne=K[0]||an(Bn);const Ke=$e(b,h.config.apiKey,h.name);let wt=null;for(const En of m)try{const zn=yield En._get(Ke);if(zn){const Kn=Pt._fromJSON(h,zn);En!==ne&&(wt=Kn),ne=En;break}}catch{}const on=K.filter(En=>En._shouldAllowMigration);return ne._shouldAllowMigration&&on.length?(ne=on[0],wt&&(yield ne._set(Ke,wt.toJSON())),yield Promise.all(m.map(function(){var En=(0,d.Z)(function*(zn){if(zn!==ne)try{yield zn._remove(Ke)}catch{}});return function(zn){return En.apply(this,arguments)}}())),new ee(ne,h,b)):new ee(ne,h,b)})()}}function J(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Te(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(W(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Mt(h))return"Blackberry";if(vt(h))return"Webos";if(B(h))return"Safari";if((h.includes("chrome/")||ae(h))&&!h.includes("edge/"))return"Chrome";if(Ge(h))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function W(_=(0,X.z$)()){return/firefox\//i.test(_)}function B(_=(0,X.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ae(_=(0,X.z$)()){return/crios\//i.test(_)}function Te(_=(0,X.z$)()){return/iemobile/i.test(_)}function Ge(_=(0,X.z$)()){return/android/i.test(_)}function Mt(_=(0,X.z$)()){return/blackberry/i.test(_)}function vt(_=(0,X.z$)()){return/webos/i.test(_)}function Yt(_=(0,X.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Le(_=(0,X.z$)()){return Yt(_)||Ge(_)||vt(_)||Mt(_)||/windows phone/i.test(_)||Te(_)}function ft(_,h=[]){let m;switch(_){case"Browser":m=J((0,X.z$)());break;case"Worker":m=`${J((0,X.z$)())}-${_}`;break;default:m=_}const b=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${b}`}function Gt(){return(Gt=(0,d.Z)(function*(_){return(yield ut(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(_,h){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(_,h){return ut(_,"GET","/v2/recaptchaConfig",st(_,h))})).apply(this,arguments)}function Qn(_){return void 0!==_&&void 0!==_.getResponse}function tr(_){return void 0!==_&&void 0!==_.enterprise}class Ur{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function hr(_){return new Promise((h,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=h,b.onerror=K=>{const ne=_e("internal-error");ne.customData=K,m(ne)},b.type="text/javascript",b.charset="UTF-8",function Ai(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(b)})}function Br(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Ar{constructor(h){this.type="recaptcha-enterprise",this.auth=Er(h)}verify(h="verify",m=!1){var b=this;return(0,d.Z)(function*(){function ne(){return ne=(0,d.Z)(function*(wt){if(!m){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var on=(0,d.Z)(function*(En,zn){wn(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kn=>{if(void 0!==Kn.recaptchaKey){const qi=new Ur(Kn);return null==wt.tenantId?wt._agentRecaptchaConfig=qi:wt._tenantRecaptchaConfigs[wt.tenantId]=qi,En(qi.siteKey)}zn(new Error("recaptcha Enterprise site key undefined"))}).catch(Kn=>{zn(Kn)})});return function(En,zn){return on.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Ke(wt,on,En){const zn=window.grecaptcha;tr(zn)?zn.enterprise.ready(()=>{zn.enterprise.execute(wt,{action:h}).then(Kn=>{on(Kn)}).catch(()=>{on("NO_RECAPTCHA")})}):En(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,on)=>{(function K(wt){return ne.apply(this,arguments)})(b.auth).then(En=>{if(!m&&tr(window.grecaptcha))Ke(En,wt,on);else{if(typeof window>"u")return void on(new Error("RecaptchaVerifier is only supported in browser"));hr("https://www.google.com/recaptcha/enterprise.js?render="+En).then(()=>{Ke(En,wt,on)}).catch(zn=>{on(zn)})}}).catch(En=>{on(En)})})})()}}function Jr(_,h,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(_,h,m,b=!1){const K=new Ar(_);let ne;try{ne=yield K.verify(m)}catch{ne=yield K.verify(m,!0)}const Ke=Object.assign({},h);return Object.assign(Ke,b?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ke})).apply(this,arguments)}class Or{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const b=ne=>new Promise((Ke,wt)=>{try{Ke(h(ne))}catch(on){wt(on)}});b.onAbort=m,this.queue.push(b);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===h)return;const b=[];try{for(const K of m.queue)yield K(h),K.onAbort&&b.push(K.onAbort)}catch(K){b.reverse();for(const ne of b)try{ne()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==K?void 0:K.message})}})()}}class ki{constructor(h,m,b,K){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,m){var b=this;return m&&(this._popupRedirectResolver=an(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var K,ne;if(!b._deleted&&(b.persistenceManager=yield ee.create(b,h),!b._deleted)){if(null!==(K=b._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(ne=b.currentUser)||void 0===ne?void 0:ne.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,d.Z)(function*(){var b;const K=yield m.assertedPersistence.getCurrentUser();let ne=K,Ke=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const wt=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,on=null==ne?void 0:ne._redirectEventId,En=yield m.tryRedirectSignIn(h);(!wt||wt===on)&&null!=En&&En.user&&(ne=En.user,Ke=!0)}if(!ne)return m.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ke)try{yield m.beforeStateQueue.runMiddleware(ne)}catch(wt){ne=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(wt))}return ne?m.reloadAndSetCurrentUserOrClear(ne):m.directlySetCurrentUser(null)}return Ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ne._redirectEventId?m.directlySetCurrentUser(ne):m.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,d.Z)(function*(){try{yield jn(h)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function St(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,d.Z)(function*(){const b=h?(0,X.m9)(h):null;return b&&Ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(h,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return h&&Ee(b.tenantId===h.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(h)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(h),b.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(an(h))}))}initializeRecaptchaConfig(){var h=this;return(0,d.Z)(function*(){const m=yield wn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Ur(m);null==h.tenantId?h._agentRecaptchaConfig=b:h._tenantRecaptchaConfigs[h.tenantId]=b,b.emailPasswordEnabled&&new Ar(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new X.LL("auth","Firebase",h())}onAuthStateChanged(h,m,b){return this.registerStateListener(this.authStateSubscription,h,m,b)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,b){return this.registerStateListener(this.idTokenSubscription,h,m,b)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var b=this;return(0,d.Z)(function*(){const K=yield b.getOrInitRedirectPersistenceManager(m);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=h&&an(h)||m._popupRedirectResolver;Ee(b,m,"argument-error"),m.redirectPersistenceManager=yield ee.create(m,[an(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,d.Z)(function*(){var b,K;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===h?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,d.Z)(function*(){if(h===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,b,K){if(this._deleted)return()=>{};const ne="function"==typeof m?m:m.next.bind(m),Ke=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Ke,this,"internal-error"),Ke.then(()=>ne(this.currentUser)),"function"==typeof m?h.addObserver(m,b,K):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":h.clientVersion};h.app.options.appId&&(b["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(b["X-Firebase-Client"]=K);const ne=yield h._getAppCheckToken();return ne&&(b["X-Firebase-AppCheck"]=ne),b})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=b&&b.error&&function We(_,...h){ct.logLevel<=De.in.WARN&&ct.warn(`Auth (${re.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${b.error}`),null==b?void 0:b.token})()}}function Er(_){return(0,X.m9)(_)}class _i{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,X.ne)(m=>this.observer=m)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nt(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function $(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class be{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return Ye("not implemented")}_getIdTokenResponse(h){return Ye("not implemented")}_linkToIdToken(h,m){return Ye("not implemented")}_getReauthenticationResolver(h){return Ye("not implemented")}}function dt(_,h){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:resetPassword",st(_,h))})).apply(this,arguments)}function Ct(_,h){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:update",st(_,h))})).apply(this,arguments)}function fn(_,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithPassword",st(_,h))})).apply(this,arguments)}function Xn(_,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:sendOobCode",st(_,h))})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(_,h){return Xn(_,h)})).apply(this,arguments)}function ui(_,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(_,h){return Xn(_,h)})).apply(this,arguments)}function rr(_,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(_,h){return Xn(_,h)})).apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(_,h){return Xn(_,h)})).apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithEmailLink",st(_,h))})).apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithEmailLink",st(_,h))})).apply(this,arguments)}class Ns extends be{constructor(h,m,b,K=null){super("password",b),this._email=h,this._password=m,this._tenantId=K}static _fromEmailAndPassword(h,m){return new Ns(h,m,"password")}static _fromEmailAndCode(h,m,b=null){return new Ns(h,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const K={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=h._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ne=yield Jr(h,K,"signInWithPassword");return fn(h,ne)}return fn(h,K).catch(function(){var ne=(0,d.Z)(function*(Ke){if("auth/missing-recaptcha-token"===Ke.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const wt=yield Jr(h,K,"signInWithPassword");return fn(h,wt)}return Promise.reject(Ke)});return function(Ke){return ne.apply(this,arguments)}}());case"emailLink":return function Ri(_,h){return Ks.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ve(h,"internal-error")}})()}_linkToIdToken(h,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Ct(h,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Vo(_,h){return Qi.apply(this,arguments)}(h,{idToken:m,email:b._email,oobCode:b._password});default:Ve(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function gs(_,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithIdp",st(_,h))})).apply(this,arguments)}class Gn extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Gn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:K}=m,ne=(0,we._T)(m,["providerId","signInMethod"]);if(!b||!K)return null;const Ke=new Gn(b,K);return Ke.idToken=ne.idToken||void 0,Ke.accessToken=ne.accessToken||void 0,Ke.secret=ne.secret,Ke.nonce=ne.nonce,Ke.pendingToken=ne.pendingToken||null,Ke}_getIdTokenResponse(h){return gs(h,this.buildRequest())}_linkToIdToken(h,m){const b=this.buildRequest();return b.idToken=m,gs(h,b)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,gs(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,X.xO)(m)}return h}}function Kr(){return(Kr=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:sendVerificationCode",st(_,h))})).apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithPhoneNumber",st(_,h))})).apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(_,h){const m=yield tt(_,"POST","/v1/accounts:signInWithPhoneNumber",st(_,h));if(m.temporaryProof)throw gt(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const cs={USER_NOT_FOUND:"user-not-found"};function qn(){return(qn=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithPhoneNumber",st(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),cs)})).apply(this,arguments)}class Bi extends be{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Bi({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Bi({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function ms(_,h){return di.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function As(_,h){return ti.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function so(_,h){return qn.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:b,verificationCode:K}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:b,code:K}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:b,phoneNumber:K,temporaryProof:ne}=h;return b||m||K||ne?new Bi({verificationId:m,verificationCode:b,phoneNumber:K,temporaryProof:ne}):null}}class ni{constructor(h){var m,b,K,ne,Ke,wt;const on=(0,X.zd)((0,X.pd)(h)),En=null!==(m=on.apiKey)&&void 0!==m?m:null,zn=null!==(b=on.oobCode)&&void 0!==b?b:null,Kn=function xo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=on.mode)&&void 0!==K?K:null);Ee(En&&zn&&Kn,"argument-error"),this.apiKey=En,this.operation=Kn,this.code=zn,this.continueUrl=null!==(ne=on.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ke=on.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(wt=on.tenantId)&&void 0!==wt?wt:null}static parseLink(h){const m=function Ys(_){const h=(0,X.zd)((0,X.pd)(_)).link,m=h?(0,X.zd)((0,X.pd)(h)).deep_link_id:null,b=(0,X.zd)((0,X.pd)(_)).deep_link_id;return(b?(0,X.zd)((0,X.pd)(b)).link:null)||b||m||h||_}(h);try{return new ni(m)}catch{return null}}}let ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return Ns._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const K=ni.parseLink(b);return Ee(K,"argument-error"),Ns._fromEmailAndCode(m,K.code,K.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Di{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class us extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class vs extends us{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in m&&"signInMethod"in m,"argument-error"),Gn._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),Gn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return vs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return vs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:K,pendingToken:ne,nonce:Ke,providerId:wt}=h;if(!b&&!K&&!m&&!ne||!wt)return null;try{return new vs(wt)._credential({idToken:m,accessToken:b,nonce:Ke,pendingToken:ne})}catch{return null}}}let Zs=(()=>{class _ extends us{constructor(){super("facebook.com")}static credential(m){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ji=(()=>{class _ extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:K}=m;if(!b&&!K)return null;try{return _.credential(b,K)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ui=(()=>{class _ extends us{constructor(){super("github.com")}static credential(m){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ar extends be{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return gs(h,this.buildRequest())}_linkToIdToken(h,m){const b=this.buildRequest();return b.idToken=m,gs(h,b)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,gs(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:K,pendingToken:ne}=m;return b&&K&&ne&&b===K?new ar(b,ne):null}static _create(h,m){return new ar(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lo extends Di{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return lo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return lo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=ar.fromJSON(h);return Ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:b}=h;if(!m||!b)return null;try{return ar._create(b,m)}catch{return null}}}let jo=(()=>{class _ extends us{constructor(){super("twitter.com")}static credential(m,b){return Gn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:K}=m;if(!b||!K)return null;try{return _.credential(b,K)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ci(_,h){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signUp",st(_,h))})).apply(this,arguments)}class Ti{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,b,K=!1){return(0,d.Z)(function*(){const ne=yield Pt._fromIdTokenResponse(h,b,K),Ke=es(b);return new Ti({user:ne,providerId:Ke,_tokenResponse:b,operationType:m})})()}static _forOperation(h,m,b){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(b,!0);const K=es(b);return new Ti({user:h,providerId:K,_tokenResponse:b,operationType:m})})()}}function es(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ho(){return(Ho=(0,d.Z)(function*(_){var h;const m=Er(_);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new Ti({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ci(m,{returnSecureToken:!0}),K=yield Ti._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class Ei extends X.ZR{constructor(h,m,b,K){var ne;super(m.code,m.message),this.operationType=b,this.user=K,Object.setPrototypeOf(this,Ei.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(h,m,b,K){return new Ei(h,m,b,K)}}function Yr(_,h,m,b){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ei._fromErrorAndOperation(_,ne,h,b):ne})}function ks(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function zi(){return zi=(0,d.Z)(function*(_,h){const m=(0,X.m9)(_);yield Po(!0,m,h);const{providerUserInfo:b}=yield function _n(_,h){return vn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),K=ks(b||[]);return m.providerData=m.providerData.filter(ne=>K.has(ne.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),zi.apply(this,arguments)}function gi(_,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(_,h,m=!1){const b=yield cr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return Ti._forOperation(_,"link",b)})).apply(this,arguments)}function Po(_,h,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(_,h,m){yield jn(h);const K=!1===_?"provider-already-linked":"no-such-provider";Ee(ks(h.providerData).has(m)===_,h.auth,K)})).apply(this,arguments)}function _o(_,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(_,h,m=!1){const{auth:b}=_,K="reauthenticate";try{const ne=yield cr(_,Yr(b,K,h,_),m);Ee(ne.idToken,b,"internal-error");const Ke=Un(ne.idToken);Ee(Ke,b,"internal-error");const{sub:wt}=Ke;return Ee(_.uid===wt,b,"user-mismatch"),Ti._forOperation(_,K,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&Ve(b,"user-mismatch"),ne}})).apply(this,arguments)}function Jo(_,h){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(_,h,m=!1){const b="signIn",K=yield Yr(_,b,h),ne=yield Ti._fromIdTokenResponse(_,b,K);return m||(yield _._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function zo(_,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(_,h){return Jo(Er(_),h)})).apply(this,arguments)}function el(_,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(_,h){const m=(0,X.m9)(_);return yield Po(!1,m,h.providerId),gi(m,h)})).apply(this,arguments)}function tl(_,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(_,h){return _o((0,X.m9)(_),h)})).apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(_,h){return tt(_,"POST","/v1/accounts:signInWithCustomToken",st(_,h))})).apply(this,arguments)}function G(){return G=(0,d.Z)(function*(_,h){const m=Er(_),b=yield function q(_,h){return N.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),K=yield Ti._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(K.user),K}),G.apply(this,arguments)}class Ie{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Qt._fromServerResponse(h,m):"totpInfo"in m?y._fromServerResponse(h,m):Ve(h,"internal-error")}}class Qt extends Ie{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Qt(m)}}class y extends Ie{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new y(m)}}function j(_,h,m){var b;Ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),Ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ee(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(Ee(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function F(){return F=(0,d.Z)(function*(_,h,m){var b;const K=Er(_),ne={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=K._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Ke=yield Jr(K,ne,"getOobCode",!0);m&&j(K,Ke,m),yield ui(K,Ke)}else m&&j(K,ne,m),yield ui(K,ne).catch(function(){var Ke=(0,d.Z)(function*(wt){if("auth/missing-recaptcha-token"!==wt.code)return Promise.reject(wt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const on=yield Jr(K,ne,"getOobCode",!0);m&&j(K,on,m),yield ui(K,on)}});return function(wt){return Ke.apply(this,arguments)}}())}),F.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(_,h,m){yield dt((0,X.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Dn(){return Dn=(0,d.Z)(function*(_,h){yield function Lt(_,h){return Vt.apply(this,arguments)}((0,X.m9)(_),{oobCode:h})}),Dn.apply(this,arguments)}function Hn(_,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(_,h){const m=(0,X.m9)(_),b=yield dt(m,{oobCode:h}),K=b.requestType;switch(Ee(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(b.mfaInfo,m,"internal-error");default:Ee(b.email,m,"internal-error")}let ne=null;return b.mfaInfo&&(ne=Ie._fromServerResponse(Er(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:ne},operation:K}})).apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(_,h){const{data:m}=yield Hn((0,X.m9)(_),h);return m.email})).apply(this,arguments)}function Qs(){return Qs=(0,d.Z)(function*(_,h,m){var b;const K=Er(_),ne={returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"};let Ke;if(null!==(b=K._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const En=yield Jr(K,ne,"signUpPassword");Ke=Ci(K,En)}else Ke=Ci(K,ne).catch(function(){var En=(0,d.Z)(function*(zn){if("auth/missing-recaptcha-token"===zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kn=yield Jr(K,ne,"signUpPassword");return Ci(K,Kn)}return Promise.reject(zn)});return function(zn){return En.apply(this,arguments)}}());const wt=yield Ke.catch(En=>Promise.reject(En)),on=yield Ti._fromIdTokenResponse(K,"signIn",wt);return yield K._updateCurrentUser(on.user),on}),Qs.apply(this,arguments)}function No(){return No=(0,d.Z)(function*(_,h,m){var b;const K=Er(_),ne={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function Ke(wt,on){Ee(on.handleCodeInApp,K,"argument-error"),on&&j(K,wt,on)}if(null!==(b=K._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const wt=yield Jr(K,ne,"getOobCode",!0);Ke(wt,m),yield rr(K,wt)}else Ke(ne,m),yield rr(K,ne).catch(function(){var wt=(0,d.Z)(function*(on){if("auth/missing-recaptcha-token"!==on.code)return Promise.reject(on);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const En=yield Jr(K,ne,"getOobCode",!0);Ke(En,m),yield rr(K,En)}});return function(on){return wt.apply(this,arguments)}}())}),No.apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_),K=ws.credentialWithLink(h,m||Ae());return Ee(K._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),zo(b,K)})).apply(this,arguments)}function Zl(){return(Zl=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:createAuthUri",st(_,h))})).apply(this,arguments)}function Js(){return Js=(0,d.Z)(function*(_,h){const b={identifier:h,continueUri:Be()?Ae():"http://localhost"},{signinMethods:K}=yield function Fa(_,h){return Zl.apply(this,arguments)}((0,X.m9)(_),b);return K||[]}),Js.apply(this,arguments)}function rl(){return rl=(0,d.Z)(function*(_,h){const m=(0,X.m9)(_),K={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&j(m.auth,K,h);const{email:ne}=yield function pi(_,h){return oi.apply(this,arguments)}(m.auth,K);ne!==_.email&&(yield _.reload())}),rl.apply(this,arguments)}function sl(){return sl=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&j(b.auth,ne,m);const{email:Ke}=yield function ei(_,h){return Ii.apply(this,arguments)}(b.auth,ne);Ke!==_.email&&(yield _.reload())}),sl.apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(_,h){return ut(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Mc(){return Mc=(0,d.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const b=(0,X.m9)(_),ne={idToken:yield b.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},Ke=yield cr(b,function Xl(_,h){return Ac.apply(this,arguments)}(b.auth,ne));b.displayName=Ke.displayName||null,b.photoURL=Ke.photoUrl||null;const wt=b.providerData.find(({providerId:on})=>"password"===on);wt&&(wt.displayName=b.displayName,wt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Ke)}),Mc.apply(this,arguments)}function Dl(_,h,m){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(_,h,m){const{auth:b}=_,ne={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),m&&(ne.password=m);const Ke=yield cr(_,Ct(b,ne));yield _._updateTokensIfNecessary(Ke,!0)})).apply(this,arguments)}class ya{constructor(h,m,b={}){this.isNewUser=h,this.providerId=m,this.profile=b}}class ta extends ya{constructor(h,m,b,K){super(h,m,b),this.username=K}}class Jl extends ya{constructor(h,m){super(h,"facebook.com",m)}}class T extends ta{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class z extends ya{constructor(h,m){super(h,"google.com",m)}}class xe extends ta{constructor(h,m,b){super(h,"twitter.com",m,b)}}function L(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ql(_){var h,m;if(!_)return null;const{providerId:b}=_,K=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ne=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&null!=_&&_.idToken){const Ke=null===(m=null===(h=Un(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ke)return new ya(ne,"anonymous"!==Ke&&"custom"!==Ke?Ke:null)}if(!b)return null;switch(b){case"facebook.com":return new Jl(ne,K);case"github.com":return new T(ne,K);case"google.com":return new z(ne,K);case"twitter.com":return new xe(ne,K,_.screenName||null);case"custom":case"anonymous":return new ya(ne,null);default:return new ya(ne,b,K)}}(m)}class ri{constructor(h,m,b){this.type=h,this.credential=m,this.auth=b}static _fromIdtoken(h,m){return new ri("enroll",h,m)}static _fromMfaPendingCredential(h){return new ri("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,b;if(null!=h&&h.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ri._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(b=h.multiFactorSession)&&void 0!==b&&b.idToken)return ri._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Fs{constructor(h,m,b){this.session=h,this.hints=m,this.signInResolver=b}static _fromError(h,m){const b=Er(h),K=m.customData._serverResponse,ne=(K.mfaInfo||[]).map(wt=>Ie._fromServerResponse(b,wt));Ee(K.mfaPendingCredential,b,"internal-error");const Ke=ri._fromMfaPendingCredential(K.mfaPendingCredential);return new Fs(Ke,ne,function(){var wt=(0,d.Z)(function*(on){const En=yield on._process(b,Ke);delete K.mfaInfo,delete K.mfaPendingCredential;const zn=Object.assign(Object.assign({},K),{idToken:En.idToken,refreshToken:En.refreshToken});switch(m.operationType){case"signIn":const Kn=yield Ti._fromIdTokenResponse(b,m.operationType,zn);return yield b._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return Ee(m.user,b,"internal-error"),Ti._forOperation(m.user,m.operationType,zn);default:Ve(b,"internal-error")}});return function(on){return wt.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,d.Z)(function*(){return m.signInResolver(h)})()}}class ii{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Ie._fromServerResponse(h.auth,b)))})}static _fromUser(h){return new ii(h)}getSession(){var h=this;return(0,d.Z)(function*(){return ri._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,m){var b=this;return(0,d.Z)(function*(){const K=h,ne=yield b.getSession(),Ke=yield cr(b.user,K._process(b.user.auth,ne,m));return yield b.user._updateTokensIfNecessary(Ke),b.user.reload()})()}unenroll(h){var m=this;return(0,d.Z)(function*(){const b="string"==typeof h?h:h.uid,K=yield m.user.getIdToken();try{const ne=yield cr(m.user,function _a(_,h){return ut(_,"POST","/v2/accounts/mfaEnrollment:withdraw",st(_,h))}(m.user.auth,{idToken:K,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ke})=>Ke!==b),yield m.user._updateTokensIfNecessary(ne),yield m.user.reload()}catch(ne){throw ne}})()}}const Li=new WeakMap,Cs="__sak";class Cl{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ua=(()=>{class _ extends Cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gu(){const _=(0,X.z$)();return B(_)||Yt(_)}()&&function It(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Le(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const K=this.storage.getItem(b),ne=this.localCache[b];K!==ne&&m(b,ne,K)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((wt,on,En)=>{this.notifyListeners(wt,En)});const K=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wt=this.storage.getItem(K);if(m.newValue!==wt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!b)return}const ne=()=>{const wt=this.storage.getItem(K);!b&&this.localCache[K]===wt||this.notifyListeners(K,wt)},Ke=this.storage.getItem(K);!function Je(){return(0,X.w1)()&&10===document.documentMode}()||Ke===m.newValue||m.newValue===m.oldValue?ne():setTimeout(ne,10)}notifyListeners(m,b){this.localCache[m]=b;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var K=()=>super._set,ne=this;return(0,d.Z)(function*(){yield K().call(ne,m,b),ne.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,K=this;return(0,d.Z)(function*(){const ne=yield b().call(K,m);return K.localCache[m]=JSON.stringify(ne),ne})()}_remove(m){var b=()=>super._remove,K=this;return(0,d.Z)(function*(){yield b().call(K,m),delete K.localCache[m]})()}}return _.type="LOCAL",_})(),Bs=(()=>{class _ extends Cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Rc=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(ne=>ne.isListeningto(m));if(b)return b;const K=new _(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const K=m,{eventId:ne,eventType:Ke,data:wt}=K.data,on=b.handlersMap[Ke];if(null==on||!on.size)return;K.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ke});const En=Array.from(on).map(function(){var Kn=(0,d.Z)(function*(qi){return qi(K.origin,wt)});return function(qi){return Kn.apply(this,arguments)}}()),zn=yield function Tl(_){return Promise.all(_.map(function(){var h=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return h.apply(this,arguments)}}()))}(En);K.ports[0].postMessage({status:"done",eventId:ne,eventType:Ke,response:zn})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ll(_="",h=10){let m="";for(let b=0;b<h;b++)m+=Math.floor(10*Math.random());return _+m}class ra{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,b=50){var K=this;return(0,d.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ke,wt;return new Promise((on,En)=>{const zn=ll("",20);ne.port1.start();const Kn=setTimeout(()=>{En(new Error("unsupported_event"))},b);wt={messageChannel:ne,onMessage(qi){const Aa=qi;if(Aa.data.eventId===zn)switch(Aa.data.status){case"ack":clearTimeout(Kn),Ke=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),on(Aa.data.response);break;default:clearTimeout(Kn),clearTimeout(Ke),En(new Error("invalid_response"))}}},K.handlers.add(wt),ne.port1.addEventListener("message",wt.onMessage),K.target.postMessage({eventType:h,eventId:zn,data:m},[ne.port2])}).finally(()=>{wt&&K.removeMessageHandler(wt)})})()}}function Fi(){return window}function gr(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function ec(){return(ec=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nc="firebaseLocalStorageDb",bi="firebaseLocalStorage",rc="fbase_key";class Va{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xc(_,h){return _.transaction([bi],h?"readwrite":"readonly").objectStore(bi)}function yu(){const _=indexedDB.open(nc,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(bi,{keyPath:rc})}catch(K){m(K)}}),_.addEventListener("success",(0,d.Z)(function*(){const b=_.result;b.objectStoreNames.contains(bi)?h(b):(b.close(),yield function vu(){const _=indexedDB.deleteDatabase(nc);return new Va(_).toPromise()}(),h(yield yu()))}))})}function en(_,h,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(_,h,m){const b=xc(_,!0).put({[rc]:h,value:m});return new Va(b).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,d.Z)(function*(_,h){const m=xc(_,!1).get(h),b=yield new Va(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function hs(_,h){const m=xc(_,!0).delete(h);return new Va(m).toPromise()}const Go=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield yu()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let K=0;for(;;)try{const ne=yield b._openDb();return yield m(ne)}catch(ne){if(K++>3)throw ne;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return gr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Rc._getInstance(function ns(){return gr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(K,ne){return{keyProcessed:(yield m._poll()).includes(ne.key)}});return function(K,ne){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(K,ne){return["keyChanged"]});return function(K,ne){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,K;if(m.activeServiceWorker=yield function Lh(){return ec.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ra(m.activeServiceWorker);const ne=yield m.sender._send("ping",{},800);ne&&null!==(b=ne[0])&&void 0!==b&&b.fulfilled&&null!==(K=ne[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function tc(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield yu();return yield en(m,Cs,"1"),yield hs(m,Cs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var K=this;return(0,d.Z)(function*(){return K._withPendingWrite((0,d.Z)(function*(){return yield K._withRetries(ne=>en(ne,m,b)),K.localCache[m]=b,K.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const K=yield b._withRetries(ne=>function Sl(_,h){return ja.apply(this,arguments)}(ne,m));return b.localCache[m]=K,K})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(K=>hs(K,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(Ke=>{const wt=xc(Ke,!1).getAll();return new Va(wt).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const K=[],ne=new Set;for(const{fbase_key:Ke,value:wt}of b)ne.add(Ke),JSON.stringify(m.localCache[Ke])!==JSON.stringify(wt)&&(m.notifyListeners(Ke,wt),K.push(Ke));for(const Ke of Object.keys(m.localCache))m.localCache[Ke]&&!ne.has(Ke)&&(m.notifyListeners(Ke,null),K.push(Ke));return K})()}notifyListeners(m,b){this.localCache[m]=b;const K=this.listeners[m];if(K)for(const ne of Array.from(K))ne(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),ho=1e12;class _u{constructor(h){this.auth=h,this.counter=ho,this._widgets=new Map}render(h,m){const b=this.counter;return this._widgets.set(b,new dl(h,this.auth.name,m||{})),this.counter++,b}reset(h){var m;const b=h||ho;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(h){var m;return(null===(m=this._widgets.get(h||ho))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(h||ho))||void 0===b||b.execute(),""})()}}class dl{constructor(h,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof h?document.getElementById(h):h;Ee(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ea(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Iu=Br("rcb"),w=new at(3e4,6e4);class P{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Fi().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return Ee(function C(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)&&Qn(Fi().grecaptcha)?Promise.resolve(Fi().grecaptcha):new Promise((b,K)=>{const ne=Fi().setTimeout(()=>{K(_e(h,"network-request-failed"))},w.get());Fi()[Iu]=()=>{Fi().clearTimeout(ne),delete Fi()[Iu];const wt=Fi().grecaptcha;if(!wt||!Qn(wt))return void K(_e(h,"internal-error"));const on=wt.render;wt.render=(En,zn)=>{const Kn=on(En,zn);return this.counter++,Kn},this.hostLanguage=m,b(wt)},hr(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Iu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ne),K(_e(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=Fi().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class k{load(h){return(0,d.Z)(function*(){return new _u(h)})()}clearedOneInstance(){}}const te="recaptcha",ve={theme:"light",type:"image"};class pt{constructor(h,m=Object.assign({},ve),b){this.parameters=m,this.type=te,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(b),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof h?document.getElementById(h):h;Ee(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new k:new P,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),b=h.getAssertedRecaptcha();return b.getResponse(m)||new Promise(ne=>{const Ke=wt=>{wt&&(h.tokenChangeListeners.delete(Ke),ne(wt))};h.tokenChangeListeners.add(Ke),h.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof h)h(m);else if("string"==typeof h){const b=Fi()[h];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){Ee(Be()&&!gr(),h.auth,"internal-error"),yield function pn(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Kt(_){return Gt.apply(this,arguments)}(h.auth);Ee(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rt{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Bi._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function sr(){return(sr=(0,d.Z)(function*(_,h,m){const b=Er(_),K=yield ko(b,h,(0,X.m9)(m));return new Rt(K,ne=>zo(b,ne))})).apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_);yield Po(!1,b,"phone");const K=yield ko(b.auth,h,(0,X.m9)(m));return new Rt(K,ne=>el(b,ne))})).apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_),K=yield ko(b.auth,h,(0,X.m9)(m));return new Rt(K,ne=>tl(b,ne))})).apply(this,arguments)}function ko(_,h,m){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,d.Z)(function*(_,h,m){var b;const K=yield m.verify();try{let ne;if(Ee("string"==typeof K,_,"argument-error"),Ee(m.type===te,_,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Ke=ne.session;if("phoneNumber"in ne)return Ee("enroll"===Ke.type,_,"internal-error"),(yield function $s(_,h){return ut(_,"POST","/v2/accounts/mfaEnrollment:start",st(_,h))}(_,{idToken:Ke.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Ke.type,_,"internal-error");const wt=(null===(b=ne.multiFactorHint)||void 0===b?void 0:b.uid)||ne.multiFactorUid;return Ee(wt,_,"missing-multi-factor-info"),(yield function Al(_,h){return ut(_,"POST","/v2/accounts/mfaSignIn:start",st(_,h))}(_,{mfaPendingCredential:Ke.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ke}=yield function qr(_,h){return Kr.apply(this,arguments)}(_,{phoneNumber:ne.phoneNumber,recaptchaToken:K});return Ke}}finally{m._reset()}}),Wi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(_,h){yield gi((0,X.m9)(_),h)})).apply(this,arguments)}let Lo=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Er(m)}verifyPhoneNumber(m,b){return ko(this.auth,m,(0,X.m9)(b))}static credential(m,b){return Bi._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:K}=m;return b&&K?Bi._fromTokenResponse(b,K):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function sa(_,h){return h?an(h):(Ee(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Eo extends be{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return gs(h,this._buildIdpRequest())}_linkToIdToken(h,m){return gs(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return gs(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function sp(_){return Jo(_.auth,new Eo(_),_.bypassAuthState)}function Oc(_){const{auth:h,user:m}=_;return Ee(m,h,"internal-error"),_o(m,new Eo(_),_.bypassAuthState)}function Ml(_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(_){const{auth:h,user:m}=_;return Ee(m,h,"internal-error"),gi(m,new Eo(_),_.bypassAuthState)})).apply(this,arguments)}class za{constructor(h,m,b,K,ne=!1){this.auth=h,this.resolver=b,this.user=K,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,d.Z)(function*(b,K){h.pendingPromise={resolve:b,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(b,K){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:K,postBody:ne,tenantId:Ke,error:wt,type:on}=h;if(wt)return void m.reject(wt);const En={auth:m.auth,requestUri:b,sessionId:K,tenantId:Ke||void 0,postBody:ne||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(on)(En))}catch(zn){m.reject(zn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return sp;case"linkViaPopup":case"linkViaRedirect":return Ml;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:Ve(this.auth,"internal-error")}}resolve(h){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wo=new at(2e3,1e4);function oa(){return(oa=(0,d.Z)(function*(_,h,m){const b=Er(_);Re(_,h,Di);const K=sa(b,m);return new Lc(b,"signInViaPopup",h,K).executeNotNull()})).apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_);Re(b.auth,h,Di);const K=sa(b.auth,m);return new Lc(b.auth,"reauthViaPopup",h,K,b).executeNotNull()})).apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_);Re(b.auth,h,Di);const K=sa(b.auth,m);return new Lc(b.auth,"linkViaPopup",h,K,b).executeNotNull()})).apply(this,arguments)}let Lc=(()=>{class _ extends za{constructor(m,b,K,ne,Ke){super(m,b,ne,Ke),this.provider=K,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return Ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){pe(1===m.filter.length,"Popup operations only handle one event");const b=ll();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,K;this.pollId=null!==(K=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Wo.get())};m()}}return _.currentPopupAction=null,_})();const hl="pendingRedirect",Rl=new Map;class My extends za{constructor(h,m,b=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Rl.get(m.auth._key());if(!b){try{const ne=(yield function bu(_,h){return bd.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;b=()=>Promise.resolve(ne)}catch(K){b=()=>Promise.reject(K)}Rl.set(m.auth._key(),b)}return m.bypassAuthState||Rl.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(b,h);if("unknown"!==h.type){if(h.eventId){const K=yield b.auth._redirectUserForId(h.eventId);if(K)return b.user=K,m().call(b,h);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function bd(){return(bd=(0,d.Z)(function*(_,h){const m=Ga(h),b=um(_);if(!(yield b._isAvailable()))return!1;const K="true"===(yield b._get(m));return yield b._remove(m),K})).apply(this,arguments)}function wd(_,h){return ap.apply(this,arguments)}function ap(){return(ap=(0,d.Z)(function*(_,h){return um(_)._set(Ga(h),"true")})).apply(this,arguments)}function wu(_,h){Rl.set(_._key(),h)}function um(_){return an(_._redirectPersistence)}function Ga(_){return $e(hl,_.config.apiKey,_.name)}function sc(_,h,m){return function lp(_,h,m){return Wa.apply(this,arguments)}(_,h,m)}function Wa(){return(Wa=(0,d.Z)(function*(_,h,m){const b=Er(_);Re(_,h,Di),yield b._initializationPromise;const K=sa(b,m);return yield wd(K,b),K._openRedirect(b,h,"signInViaRedirect")})).apply(this,arguments)}function Fc(_,h,m){return function oc(_,h,m){return cp.apply(this,arguments)}(_,h,m)}function cp(){return(cp=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_);Re(b.auth,h,Di),yield b.auth._initializationPromise;const K=sa(b.auth,m);yield wd(K,b.auth);const ne=yield Cd(b);return K._openRedirect(b.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function $h(_,h,m){return function Bh(_,h,m){return Du.apply(this,arguments)}(_,h,m)}function Du(){return(Du=(0,d.Z)(function*(_,h,m){const b=(0,X.m9)(_);Re(b.auth,h,Di),yield b.auth._initializationPromise;const K=sa(b.auth,m);yield Po(!1,b,h.providerId),yield wd(K,b.auth);const ne=yield Cd(b);return K._openRedirect(b.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function Dd(){return(Dd=(0,d.Z)(function*(_,h){return yield Er(_)._initializationPromise,wa(_,h,!1)})).apply(this,arguments)}function wa(_,h){return $c.apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(_,h,m=!1){const b=Er(_),K=sa(b,h),Ke=yield new My(b,K,m).execute();return Ke&&!m&&(delete Ke.user._redirectEventId,yield b._persistUserIfCurrent(Ke.user),yield b._setRedirectUser(null,h)),Ke})).apply(this,arguments)}function Cd(_){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(_){const h=ll(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Tu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(h,b)&&(m=!0,this.sendToConsumer(h,b),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ac(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var b;if(h.error&&!Su(h)){const K=(null===(b=h.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,K))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const b=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&b}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xl(h))}saveEventToCache(h){this.cachedEventUids.add(xl(h)),this.lastProcessedEventTime=Date.now()}}function xl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Su({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function lc(_){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(_,h={}){return ut(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Mu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fl=/^https?/;function Ru(){return(Ru=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield lc(_);for(const m of h)try{if(pl(m))return}catch{}Ve(_,"unauthorized-domain")})).apply(this,arguments)}function pl(_){const h=Ae(),{protocol:m,hostname:b}=new URL(h);if(_.startsWith("chrome-extension://")){const Ke=new URL(_);return""===Ke.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&Ke.hostname===b}if(!fl.test(m))return!1;if(Mu.test(_))return b===_;const K=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(b)}const Pl=new at(3e4,6e4);function Uh(){const _=Fi().___jsl;if(null!=_&&_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let qo=null;const qa=new at(5e3,15e3),dm="__/auth/iframe",Td="emulator/auth/iframe",xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ol(_){const h=_.config;Ee(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?se(h,Td):`https://${_.config.authDomain}/${dm}`,b={apiKey:h.apiKey,appName:_.name,v:re.SDK_VERSION},K=cc.get(_.config.apiHost);K&&(b.eid=K);const ne=_._getFrameworks();return ne.length&&(b.fw=ne.join(",")),`${m}?${(0,X.xO)(b).slice(1)}`}function S(){return S=(0,d.Z)(function*(_){const h=yield function Vh(_){return qo=qo||function fo(_){return new Promise((h,m)=>{var b,K,ne;function Ke(){Uh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Uh(),m(_e(_,"network-request-failed"))},timeout:Pl.get()})}if(null!==(K=null===(b=Fi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Fi().gapi)||void 0===ne||!ne.load){const wt=Br("iframefcb");return Fi()[wt]=()=>{gapi.load?Ke():m(_e(_,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${wt}`).catch(on=>m(on))}Ke()}}).catch(h=>{throw qo=null,h})}(_),qo}(_),m=Fi().gapi;return Ee(m,_,"internal-error"),h.open({where:document.body,url:Ol(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},b=>new Promise(function(){var K=(0,d.Z)(function*(ne,Ke){yield b.restyle({setHideOnLeave:!1});const wt=_e(_,"network-request-failed"),on=Fi().setTimeout(()=>{Ke(wt)},qa.get());function En(){Fi().clearTimeout(on),ne(b)}b.ping(En).then(En,()=>{Ke(wt)})});return function(ne,Ke){return K.apply(this,arguments)}}()))}),S.apply(this,arguments)}const O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const er="__/auth/handler",Cr="emulator/auth/handler",mr=encodeURIComponent("fac");function bo(_,h,m,b,K,ne){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(_,h,m,b,K,ne){Ee(_.config.authDomain,_,"auth-domain-config-required"),Ee(_.config.apiKey,_,"invalid-api-key");const Ke={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:re.SDK_VERSION,eventId:K};if(h instanceof Di){h.setDefaultLanguage(_.languageCode),Ke.providerId=h.providerId||"",(0,X.xb)(h.getCustomParameters())||(Ke.customParameters=JSON.stringify(h.getCustomParameters()));for(const[zn,Kn]of Object.entries(ne||{}))Ke[zn]=Kn}if(h instanceof us){const zn=h.getScopes().filter(Kn=>""!==Kn);zn.length>0&&(Ke.scopes=zn.join(","))}_.tenantId&&(Ke.tid=_.tenantId);const wt=Ke;for(const zn of Object.keys(wt))void 0===wt[zn]&&delete wt[zn];const on=yield _._getAppCheckToken(),En=on?`#${mr}=${encodeURIComponent(on)}`:"";return`${function is({config:_}){return _.emulator?se(_,Cr):`https://${_.authDomain}/${er}`}(_)}?${(0,X.xO)(wt).slice(1)}${En}`})).apply(this,arguments)}const dc="webStorageSupport",Ko=class Ka{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=wa,this._overrideRedirectResult=wu}_openPopup(h,m,b,K){var ne=this;return(0,d.Z)(function*(){var Ke;pe(null===(Ke=ne.eventManagers[h._key()])||void 0===Ke?void 0:Ke.manager,"_initialize() not called before _openPopup()");const wt=yield bo(h,m,b,Ae(),K);return function Nn(_,h,m,b=500,K=600){const ne=Math.max((window.screen.availHeight-K)/2,0).toString(),Ke=Math.max((window.screen.availWidth-b)/2,0).toString();let wt="";const on=Object.assign(Object.assign({},O),{width:b.toString(),height:K.toString(),top:ne,left:Ke}),En=(0,X.z$)().toLowerCase();m&&(wt=ae(En)?"_blank":m),W(En)&&(h=h||"http://localhost",on.scrollbars="yes");const zn=Object.entries(on).reduce((qi,[Aa,Fd])=>`${qi}${Aa}=${Fd},`,"");if(function ln(_=(0,X.z$)()){var h;return Yt(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(En)&&"_self"!==wt)return function An(_,h){const m=document.createElement("a");m.href=_,m.target=h;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(h||"",wt),new Bt(null);const Kn=window.open(h||"",wt,zn);Ee(Kn,_,"popup-blocked");try{Kn.focus()}catch{}return new Bt(Kn)}(h,wt,ll())})()}_openRedirect(h,m,b,K){var ne=this;return(0,d.Z)(function*(){return yield ne._originValidation(h),function ip(_){Fi().location.href=_}(yield bo(h,m,b,Ae(),K)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:K,promise:ne}=this.eventManagers[m];return K?Promise.resolve(K):(pe(ne,"If manager is not set, promise should be"),ne)}const b=this.initAndGetManager(h);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(h){var m=this;return(0,d.Z)(function*(){const b=yield function uc(_){return S.apply(this,arguments)}(h),K=new Tu(h);return b.register("authEvent",ne=>(Ee(null==ne?void 0:ne.authEvent,h,"invalid-auth-event"),{status:K.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:K},m.iframes[h._key()]=b,K})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(dc,{type:dc},K=>{var ne;const Ke=null===(ne=null==K?void 0:K[0])||void 0===ne?void 0:ne[dc];void 0!==Ke&&m(!!Ke),Ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function up(_){return Ru.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Le()||B()||Yt()}};class Ss{constructor(h){this.factorId=h}_process(h,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,b);case"signin":return this._finalizeSignIn(h,m.credential);default:return Ye("unexpected MultiFactorSessionType")}}}class Ya extends Ss{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ya(h)}_finalizeEnroll(h,m,b){return function uo(_,h){return ut(_,"POST","/v2/accounts/mfaEnrollment:finalize",st(_,h))}(h,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Pc(_,h){return ut(_,"POST","/v2/accounts/mfaSignIn:finalize",st(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hm=(()=>{class _{constructor(){}static assertion(m){return Ya._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var pm="@firebase/auth";class Ca{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(b=>{h((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hc(){return window}(0,X.Pz)("authIdTokenMaxAge"),function Ad(_){(0,re._registerComponent)(new fe.wA("auth",(h,{options:m})=>{const b=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Ke,authDomain:wt}=b.options;Ee(Ke&&!Ke.includes(":"),"invalid-api-key",{appName:b.name});const on={apiKey:Ke,authDomain:wt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ft(_)},En=new ki(b,K,ne,on);return function Mi(_,h){const m=(null==h?void 0:h.persistence)||[],b=(Array.isArray(m)?m:[m]).map(an);null!=h&&h.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(b,null==h?void 0:h.popupRedirectResolver)}(En,m),En},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,b)=>{h.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new fe.wA("auth-internal",h=>{const m=Er(h.getProvider("auth").getImmediate());return new Ca(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(pm,"0.23.2",function Hh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,re.registerVersion)(pm,"0.23.2","esm2017")}("Browser");function Md(){return Md=(0,d.Z)(function*(_,h,m){var b;const{BuildInfo:K}=hc();pe(h.sessionId,"AuthEvent did not contain a session ID");const ne=yield function vi(_){return xd.apply(this,arguments)}(h.sessionId),Ke={};return Yt()?Ke.ibi=K.packageName:Ge()?Ke.apn=K.packageName:Ve(_,"operation-not-supported-in-this-environment"),K.displayName&&(Ke.appDisplayName=K.displayName),Ke.sessionId=ne,bo(_,m,h.type,void 0,null!==(b=h.eventId)&&void 0!==b?b:void 0,Ke)}),Md.apply(this,arguments)}function hp(){return(hp=(0,d.Z)(function*(_){const{BuildInfo:h}=hc(),m={};Yt()?m.iosBundleId=h.packageName:Ge()?m.androidPackageName=h.packageName:Ve(_,"operation-not-supported-in-this-environment"),yield lc(_,m)})).apply(this,arguments)}function Bc(){return(Bc=(0,d.Z)(function*(_,h,m){const{cordova:b}=hc();let K=()=>{};try{yield new Promise((ne,Ke)=>{let wt=null;function on(){var Kn;ne();const qi=null===(Kn=b.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof qi&&qi(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function En(){wt||(wt=window.setTimeout(()=>{Ke(_e(_,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===(null==document?void 0:document.visibilityState)&&En()}h.addPassiveListener(on),document.addEventListener("resume",En,!1),Ge()&&document.addEventListener("visibilitychange",zn,!1),K=()=>{h.removePassiveListener(on),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",zn,!1),wt&&window.clearTimeout(wt)}})}finally{K()}})).apply(this,arguments)}function xd(){return(xd=(0,d.Z)(function*(_){const h=function fp(_){if(pe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ky extends Tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.Z)(function*(){yield h.initPromise})()}}function fc(_){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(_){const h=yield gp()._get(qh(_));return h&&(yield gp()._remove(qh(_))),h})).apply(this,arguments)}function Pu(){const _=[];for(let m=0;m<20;m++){const b=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return _.join("")}function gp(){return an(Ua)}function qh(_){return $e("authEvent",_.config.apiKey,_.name)}function Kh(_){if(null==_||!_.includes("?"))return{};const[h,...m]=_.split("?");return(0,X.zd)(m.join("?"))}const to=class Pd{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=wu}_initialize(h){var m=this;return(0,d.Z)(function*(){const b=h._key();let K=m.eventManagers.get(b);return K||(K=new ky(h),m.eventManagers.set(b,K),m.attachCallbackListeners(h,K)),K})()}_openPopup(h){Ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,b,K){var ne=this;return(0,d.Z)(function*(){!function eo(_){var h,m,b,K,ne,Ke,wt,on,En,zn;const Kn=hc();Ee("function"==typeof(null===(h=null==Kn?void 0:Kn.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(typeof(null===(m=null==Kn?void 0:Kn.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(ne=null===(K=null===(b=null==Kn?void 0:Kn.cordova)||void 0===b?void 0:b.plugins)||void 0===K?void 0:K.browsertab)||void 0===ne?void 0:ne.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(on=null===(wt=null===(Ke=null==Kn?void 0:Kn.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===on?void 0:on.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(zn=null===(En=null==Kn?void 0:Kn.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===zn?void 0:zn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ke=yield ne._initialize(h);yield Ke.initialized(),Ke.resetRedirect(),function Fh(){Rl.clear()}(),yield ne._originValidation(h);const wt=function Za(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Pu(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(h,b,K);yield function On(_,h){return gp()._set(qh(_),h)}(h,wt);const on=yield function Oy(_,h,m){return Md.apply(this,arguments)}(h,wt,m),En=yield function Rd(_){const{cordova:h}=hc();return new Promise(m=>{h.plugins.browsertab.isAvailable(b=>{let K=null;b?h.plugins.browsertab.openUrl(_):K=h.InAppBrowser.open(_,function qt(_=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(K)})})}(on);return function Ny(_,h,m){return Bc.apply(this,arguments)}(h,Ke,En)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wh(_){return hp.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:b,handleOpenURL:K,BuildInfo:ne}=hc(),Ke=setTimeout((0,d.Z)(function*(){yield fc(h),m.onEvent(gl())}),500),wt=function(){var zn=(0,d.Z)(function*(Kn){clearTimeout(Ke);const qi=yield fc(h);let Aa=null;qi&&null!=Kn&&Kn.url&&(Aa=function pp(_,h){var m,b;const K=function Fy(_){const h=Kh(_),m=h.link?decodeURIComponent(h.link):void 0,b=Kh(m).link,K=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Kh(K).link||K||b||m||_}(h);if(K.includes("/__/auth/callback")){const ne=Kh(K),Ke=ne.firebaseError?function Ly(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,wt=null===(b=null===(m=null==Ke?void 0:Ke.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],on=wt?_e(wt):null;return on?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:K,postBody:null}}return null}(qi,Kn.url)),m.onEvent(Aa||gl())});return function(qi){return zn.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,wt);const on=K,En=`${ne.packageName.toLowerCase()}://`;hc().handleOpenURL=function(){var zn=(0,d.Z)(function*(Kn){if(Kn.toLowerCase().startsWith(En)&&wt({url:Kn}),"function"==typeof on)try{on(Kn)}catch(qi){console.error(qi)}});return function(Kn){return zn.apply(this,arguments)}}()}};function gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function xs(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Od(_=(0,X.z$)()){return!("file:"!==xs()&&"ionic:"!==xs()&&"capacitor:"!==xs()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function $y(){try{const _=self.localStorage,h=ll();if(_)return _.setItem(h,"1"),_.removeItem(h),!function YI(_=(0,X.z$)()){return function Ta(){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vm(_=(0,X.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,X.hl)()}catch{return Vc()&&(0,X.hl)()}return!1}function Vc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _p(){return(function vp(){return"http:"===xs()||"https:"===xs()}()||(0,X.ru)()||Od())&&!function yp(){return(0,X.b$)()||(0,X.UG)()}()&&$y()&&!Vc()}function Yh(){return Od()&&typeof document<"u"}function Ou(){return(Ou=(0,d.Z)(function*(){return!!Yh()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const wo={LOCAL:"local",NONE:"none",SESSION:"session"},pc=Ee,kl="persistence";function Nu(_){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(_){yield _._initializationPromise;const h=Ll(),m=$e(kl,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function Ll(){var _;try{return(null===(_=function Ip(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const By=Ee;class Sa{constructor(){this.browserResolver=an(Ko),this.cordovaResolver=an(to),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=wa,this._overrideRedirectResult=wu}_initialize(h){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,b,K){var ne=this;return(0,d.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(h,m,b,K)})()}_openRedirect(h,m,b,K){var ne=this;return(0,d.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(h,m,b,K)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Yh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return By(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Nd(){return Ou.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function ym(_){return _.unwrap()}function ku(_){return Im(_)}function Im(_){const{_tokenResponse:h}=_ instanceof X.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof X.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Lo.credentialFromResult(_);const m=h.providerId;if(!m||m===Fe.PASSWORD)return null;let b;switch(m){case Fe.GOOGLE:b=Ji;break;case Fe.FACEBOOK:b=Zs;break;case Fe.GITHUB:b=Ui;break;case Fe.TWITTER:b=jo;break;default:const{oauthIdToken:K,oauthAccessToken:ne,oauthTokenSecret:Ke,pendingToken:wt,nonce:on}=h;return ne||Ke||K||wt?wt?m.startsWith("saml.")?ar._create(m,wt):Gn._fromParams({providerId:m,signInMethod:m,pendingToken:wt,idToken:K,accessToken:ne}):new vs(m).credential({idToken:K,accessToken:ne,rawNonce:on}):null}return _ instanceof X.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Fo(_,h){return h.catch(m=>{throw m instanceof X.ZR&&function Ep(_,h){var m;const b=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Jh(_,function Io(_,h){var m;const b=(0,X.m9)(_),K=h;return Ee(h.customData.operationType,b,"argument-error"),Ee(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Fs._fromError(b,K)}(_,h));else if(b){const K=Im(h),ne=h;K&&(ne.credential=K,ne.tenantId=b.tenantId||void 0,ne.email=b.email||void 0,ne.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const K=m.user;return{operationType:m.operationType,credential:ku(m),additionalUserInfo:L(m),user:ss.getOrCreate(K)}})}function kd(_,h){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,d.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:b=>Fo(_,m.confirm(b))}})).apply(this,arguments)}class Jh{constructor(h,m){this.resolver=m,this.auth=function _m(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Fo(ym(this.auth),this.resolver.resolveSignIn(h))}}class ss{constructor(h){this._delegate=h,this.multiFactor=function Ba(_){const h=(0,X.m9)(_);return Li.has(h)||Li.set(h,ii._fromUser(h)),Li.get(h)}(h)}static getOrCreate(h){return ss.USER_MAP.has(h)||ss.USER_MAP.set(h,new ss(h)),ss.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,d.Z)(function*(){return Fo(m.auth,el(m._delegate,h))})()}linkWithPhoneNumber(h,m){var b=this;return(0,d.Z)(function*(){return kd(b.auth,function Si(_,h,m){return Gi.apply(this,arguments)}(b._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,d.Z)(function*(){return Fo(m.auth,function op(_,h,m){return Eu.apply(this,arguments)}(m._delegate,h,Sa))})()}linkWithRedirect(h){var m=this;return(0,d.Z)(function*(){return yield Nu(Er(m.auth)),$h(m._delegate,h,Sa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,d.Z)(function*(){return Fo(m.auth,tl(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return kd(this.auth,function Wr(_,h,m){return rs.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Fo(this.auth,function ic(_,h,m){return kc.apply(this,arguments)}(this._delegate,h,Sa))}reauthenticateWithRedirect(h){var m=this;return(0,d.Z)(function*(){return yield Nu(Er(m.auth)),Fc(m._delegate,h,Sa)})()}sendEmailVerification(h){return function ea(_,h){return rl.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,d.Z)(function*(){return yield function co(_,h){return zi.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function $a(_,h){return Dl((0,X.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function ol(_,h){return Dl((0,X.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Vs(_,h){return mi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function wl(_,h){return Mc.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function il(_,h,m){return sl.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ss.USER_MAP=new WeakMap;const Fl=Ee;let Ld=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=m.options;Fl(K,"invalid-api-key",{appName:m.name}),Fl(K,"invalid-api-key",{appName:m.name});const ne=typeof window<"u"?Sa:void 0;this._delegate=b.initialize({options:{persistence:po(K,m.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function ot(_,h,m){const b=Er(_);Ee(b._canInitEmulator,b,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),b,"invalid-emulator-scheme");const K=!(null==m||!m.disableWarnings),ne=nt(h),{host:Ke,port:wt}=function V(_){const h=nt(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(b);if(K){const ne=K[1];return{host:ne,port:$(b.substr(ne.length+1))}}{const[ne,Ke]=b.split(":");return{host:ne,port:$(Ke)}}}(h);b.config.emulator={url:`${ne}//${Ke}${null===wt?"":`:${wt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Ke,port:wt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function ie(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function yn(_,h){return Dn.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Hn(this._delegate,m)}confirmPasswordReset(m,b){return function oe(_,h,m){return Ot.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var K=this;return(0,d.Z)(function*(){return Fo(K._delegate,function ts(_,h,m){return Qs.apply(this,arguments)}(K._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function nl(_,h){return Js.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function bl(_,h){const m=ni.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Fl(_p(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function ba(_,h){return Dd.apply(this,arguments)}(m._delegate,Sa);return b?Fo(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function KI(_,h){Er(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,b,K){const{next:ne,error:Ke,complete:wt}=Lu(m,b,K);return this._delegate.onAuthStateChanged(ne,Ke,wt)}onIdTokenChanged(m,b,K){const{next:ne,error:Ke,complete:wt}=Lu(m,b,K);return this._delegate.onIdTokenChanged(ne,Ke,wt)}sendSignInLinkToEmail(m,b){return function Ls(_,h,m){return No.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function I(_,h,m){return F.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let K;switch(function Zh(_,h){pc(Object.values(wo).includes(h),_,"invalid-persistence-type"),(0,X.b$)()?pc(h!==wo.SESSION,_,"unsupported-persistence-type"):(0,X.UG)()?pc(h===wo.NONE,_,"unsupported-persistence-type"):Vc()?pc(h===wo.NONE||h===wo.LOCAL&&(0,X.hl)(),_,"unsupported-persistence-type"):pc(h===wo.NONE||$y(),_,"unsupported-persistence-type")}(b._delegate,m),m){case wo.SESSION:K=Bs;break;case wo.LOCAL:K=(yield an(Go)._isAvailable())?Go:Ua;break;case wo.NONE:K=Bn;break;default:return Ve("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Fo(this._delegate,function Vi(_){return Ho.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Fo(this._delegate,zo(this._delegate,m))}signInWithCustomToken(m){return Fo(this._delegate,function le(_,h){return G.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Fo(this._delegate,function Ds(_,h,m){return zo((0,X.m9)(_),ws.credential(h,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Fo(this._delegate,function ji(_,h,m){return Yl.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return kd(this._delegate,function Mn(_,h,m){return sr.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return Fl(_p(),b._delegate,"operation-not-supported-in-this-environment"),Fo(b._delegate,function Nc(_,h,m){return oa.apply(this,arguments)}(b._delegate,m,Sa))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return Fl(_p(),b._delegate,"operation-not-supported-in-this-environment"),yield Nu(b._delegate),sc(b._delegate,m,Sa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Vr(_,h){return ys.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=wo,_})();function Lu(_,h,m){let b=_;"function"!=typeof _&&({next:b,error:h,complete:m}=_);const K=b;return{next:Ke=>K(Ke&&ss.getOrCreate(Ke)),error:h,complete:m}}function po(_,h){const m=function Xh(_,h){const m=Ll();if(!m)return[];const b=$e(kl,_,h);switch(m.getItem(b)){case wo.NONE:return[Bn];case wo.LOCAL:return[Go,Bs];case wo.SESSION:return[Bs];default:return[]}}(_,h);if(typeof self<"u"&&!m.includes(Go)&&m.push(Go),typeof window<"u")for(const b of[Ua,Bs])m.includes(b)||m.push(b);return m.includes(Bn)||m.push(Bn),m}class gc{constructor(){this.providerId="phone",this._delegate=new Lo(ym(g.Z.auth()))}static credential(h,m){return Lo.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}gc.PHONE_SIGN_IN_METHOD=Lo.PHONE_SIGN_IN_METHOD,gc.PROVIDER_ID=Lo.PROVIDER_ID;const Em=Ee;class bp{constructor(h,m,b=g.Z.app()){var K;Em(null===(K=b.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new pt(h,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ef(_){_.INTERNAL.registerComponent(new fe.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),b=h.getProvider("auth");return new Ld(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ws,FacebookAuthProvider:Zs,GithubAuthProvider:Ui,GoogleAuthProvider:Ji,OAuthProvider:vs,SAMLAuthProvider:lo,PhoneAuthProvider:gc,PhoneMultiFactorGenerator:hm,RecaptchaVerifier:bp,TwitterAuthProvider:jo,Auth:Ld,AuthCredential:be,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},95:(rn,it,x)=>{"use strict";x.d(it,{NI:()=>be,oH:()=>Mr,cw:()=>Mt,sg:()=>Gn,u5:()=>tl,Fd:()=>ar,qQ:()=>lo,Cf:()=>He,JU:()=>Xe,a5:()=>bn,JJ:()=>Pn,JL:()=>Un,UX:()=>ma,kI:()=>Ee,_Y:()=>ui});var d=x(5879),g=x(6814),X=x(2459),re=x(5592),we=x(7453),De=x(4829),fe=x(4564),je=x(8251),Fe=x(7400),ue=x(2714),ye=x(7398);let me=(()=>{var q;class N{constructor(G,Ie){this._renderer=G,this._elementRef=Ie,this.onChange=Qt=>{},this.onTouched=()=>{}}setProperty(G,Ie){this._renderer.setProperty(this._elementRef.nativeElement,G,Ie)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return(q=N).\u0275fac=function(G){return new(G||q)(d.Y36(d.Qsj),d.Y36(d.SBq))},q.\u0275dir=d.lG2({type:q}),N})(),Ne=(()=>{var q;class N extends me{}return(q=N).\u0275fac=function(){let le;return function(Ie){return(le||(le=d.n5z(q)))(Ie||q)}}(),q.\u0275dir=d.lG2({type:q,features:[d.qOj]}),N})();const Xe=new d.OlP("NgValueAccessor"),Se={provide:Xe,useExisting:(0,d.Gpc)(()=>Ce),multi:!0},We=new d.OlP("CompositionEventMode");let Ce=(()=>{var q;class N extends me{constructor(G,Ie,Qt){super(G,Ie),this._compositionMode=Qt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const q=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(G){this.setProperty("value",null==G?"":G)}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return(q=N).\u0275fac=function(G){return new(G||q)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(We,8))},q.\u0275dir=d.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,Ie){1&G&&d.NdJ("input",function(y){return Ie._handleInput(y.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(y){return Ie._compositionEnd(y.target.value)})},features:[d._Bn([Se]),d.qOj]}),N})();function Ve(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function _e(q){return null!=q&&"number"==typeof q.length}const He=new d.OlP("NgValidators"),Re=new d.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(N){return Ye(N)}static max(N){return pe(N)}static required(N){return function Ae(q){return Ve(q.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Be(q){return!0===q.value?null:{required:!0}}(N)}static email(N){return function Dt(q){return Ve(q.value)||Oe.test(q.value)?null:{email:!0}}(N)}static minLength(N){return function jt(q){return N=>Ve(N.value)||!_e(N.value)?null:N.value.length<q?{minlength:{requiredLength:q,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function St(q){return N=>_e(N.value)&&N.value.length>q?{maxlength:{requiredLength:q,actualLength:N.value.length}}:null}(N)}static pattern(N){return function at(q){if(!q)return se;let N,le;return"string"==typeof q?(le="","^"!==q.charAt(0)&&(le+="^"),le+=q,"$"!==q.charAt(q.length-1)&&(le+="$"),N=new RegExp(le)):(le=q.toString(),N=q),G=>{if(Ve(G.value))return null;const Ie=G.value;return N.test(Ie)?null:{pattern:{requiredPattern:le,actualValue:Ie}}}}(N)}static nullValidator(N){return null}static compose(N){return Tt(N)}static composeAsync(N){return tt(N)}}function Ye(q){return N=>{if(Ve(N.value)||Ve(q))return null;const le=parseFloat(N.value);return!isNaN(le)&&le<q?{min:{min:q,actual:N.value}}:null}}function pe(q){return N=>{if(Ve(N.value)||Ve(q))return null;const le=parseFloat(N.value);return!isNaN(le)&&le>q?{max:{max:q,actual:N.value}}:null}}function se(q){return null}function ge(q){return null!=q}function Me(q){return(0,d.QGY)(q)?(0,X.D)(q):q}function Qe(q){let N={};return q.forEach(le=>{N=null!=le?{...N,...le}:N}),0===Object.keys(N).length?null:N}function st(q,N){return N.map(le=>le(q))}function At(q){return q.map(N=>function ut(q){return!q.validate}(N)?N:le=>N.validate(le))}function Tt(q){if(!q)return null;const N=q.filter(ge);return 0==N.length?null:function(le){return Qe(st(le,N))}}function tn(q){return null!=q?Tt(At(q)):null}function tt(q){if(!q)return null;const N=q.filter(ge);return 0==N.length?null:function(le){return function de(...q){const N=(0,fe.jO)(q),{args:le,keys:G}=(0,we.D)(q),Ie=new re.y(Qt=>{const{length:y}=le;if(!y)return void Qt.complete();const j=new Array(y);let I=y,F=y;for(let oe=0;oe<y;oe++){let Ot=!1;(0,De.Xf)(le[oe]).subscribe((0,je.x)(Qt,yn=>{Ot||(Ot=!0,F--),j[oe]=yn},()=>I--,void 0,()=>{(!I||!Ot)&&(F||Qt.next(G?(0,ue.n)(G,j):j),Qt.complete())}))}});return N?Ie.pipe((0,Fe.Z)(N)):Ie}(st(le,N).map(Me)).pipe((0,ye.U)(Qe))}}function Tn(q){return null!=q?tt(At(q)):null}function mt(q,N){return null===q?[N]:Array.isArray(q)?[...q,N]:[q,N]}function yt(q){return q._rawValidators}function gt(q){return q._rawAsyncValidators}function Ht(q){return q?Array.isArray(q)?q:[q]:[]}function Xt(q,N){return Array.isArray(q)?q.includes(N):q===N}function _n(q,N){const le=Ht(N);return Ht(q).forEach(Ie=>{Xt(le,Ie)||le.push(Ie)}),le}function vn(q,N){return Ht(N).filter(le=>!Xt(q,le))}class cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=tn(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,le){return!!this.control&&this.control.hasError(N,le)}getError(N,le){return this.control?this.control.getError(N,le):null}}class dn extends cn{get formDirective(){return null}get path(){return null}}class bn extends cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(N){this._cd=N}get isTouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.touched)}get isUntouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.untouched)}get isPristine(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pristine)}get isDirty(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.dirty)}get isValid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.valid)}get isInvalid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.invalid)}get isPending(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pending)}get isSubmitted(){var N;return!(null===(N=this._cd)||void 0===N||!N.submitted)}}let Pn=(()=>{var q;class N extends ir{constructor(G){super(G)}}return(q=N).\u0275fac=function(G){return new(G||q)(d.Y36(bn,2))},q.\u0275dir=d.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,Ie){2&G&&d.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[d.qOj]}),N})(),Un=(()=>{var q;class N extends ir{constructor(G){super(G)}}return(q=N).\u0275fac=function(G){return new(G||q)(d.Y36(dn,10))},q.\u0275dir=d.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,Ie){2&G&&d.ekj("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[d.qOj]}),N})();const Zt="VALID",an="INVALID",In="PENDING",Bn="DISABLED";function $e(q){return(B(q)?q.validators:q)||null}function J(q,N){return(B(N)?N.asyncValidators:q)||null}function B(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class Ge{constructor(N,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===an}get pending(){return this.status==In}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(_n(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(_n(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(vn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(vn(N,this._rawAsyncValidators))}hasValidator(N){return Xt(this._rawValidators,N)}hasAsyncValidator(N){return Xt(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(le=>{le.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(le=>{le.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=In,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const le=this._parentMarkedDirty(N.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(G=>{G.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:le}),this._onDisabledChange.forEach(G=>G(!0))}enable(N={}){const le=this._parentMarkedDirty(N.onlySelf);this.status=Zt,this._forEachChild(G=>{G.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:le}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zt||this.status===In)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=In,this._hasOwnPendingAsyncValidator=!0;const le=Me(this.asyncValidator(this));this._asyncValidationSubscription=le.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,le={}){this.errors=N,this._updateControlsErrors(!1!==le.emitEvent)}get(N){let le=N;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((G,Ie)=>G&&G._find(Ie),this)}getError(N,le){const G=le?this.get(le):this;return G&&G.errors?G.errors[N]:null}hasError(N,le){return!!this.getError(N,le)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?an:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(In)?In:this._anyControlsHaveStatus(an)?an:Zt}_anyControlsHaveStatus(N){return this._anyControls(le=>le.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){B(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function ee(q){return Array.isArray(q)?tn(q):q||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function W(q){return Array.isArray(q)?Tn(q):q||null}(this._rawAsyncValidators)}}class Mt extends Ge{constructor(N,le,G){super($e(le),J(G,le)),this.controls=N,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,le){return this.controls[N]?this.controls[N]:(this.controls[N]=le,le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange),le)}addControl(N,le,G={}){this.registerControl(N,le),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(N,le={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}setControl(N,le,G={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],le&&this.registerControl(N,le),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,le={}){(function Te(q,N,le){q._forEachChild((G,Ie)=>{if(void 0===le[Ie])throw new d.vHH(1002,"")})})(this,0,N),Object.keys(N).forEach(G=>{(function ae(q,N,le){const G=q.controls;if(!(N?Object.keys(G):G).length)throw new d.vHH(1e3,"");if(!G[le])throw new d.vHH(1001,"")})(this,!0,G),this.controls[G].setValue(N[G],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(N,le={}){null!=N&&(Object.keys(N).forEach(G=>{const Ie=this.controls[G];Ie&&Ie.patchValue(N[G],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(N={},le={}){this._forEachChild((G,Ie)=>{G.reset(N[Ie],{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le),this._updateTouched(le),this.updateValueAndValidity(le)}getRawValue(){return this._reduceChildren({},(N,le,G)=>(N[G]=le.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(le,G)=>!!G._syncPendingControls()||le);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(le=>{const G=this.controls[le];G&&N(G,le)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[le,G]of Object.entries(this.controls))if(this.contains(le)&&N(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(le,G,Ie)=>((G.enabled||this.disabled)&&(le[Ie]=G.value),le))}_reduceChildren(N,le){let G=N;return this._forEachChild((Ie,Qt)=>{G=le(G,Ie,Qt)}),G}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}const Je=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Le}),Le="always";function ft(q,N,le=Le){var G,Ie;Jt(q,N),N.valueAccessor.writeValue(q.value),(q.disabled||"always"===le)&&(null===(G=(Ie=N.valueAccessor).setDisabledState)||void 0===G||G.call(Ie,q.disabled)),function tr(q,N){N.valueAccessor.registerOnChange(le=>{q._pendingValue=le,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ai(q,N)})}(q,N),function hr(q,N){const le=(G,Ie)=>{N.valueAccessor.writeValue(G),Ie&&N.viewToModelUpdate(G)};q.registerOnChange(le),N._registerOnDestroy(()=>{q._unregisterOnChange(le)})}(q,N),function Ur(q,N){N.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ai(q,N),"submit"!==q.updateOn&&q.markAsTouched()})}(q,N),function wn(q,N){if(N.valueAccessor.setDisabledState){const le=G=>{N.valueAccessor.setDisabledState(G)};q.registerOnDisabledChange(le),N._registerOnDestroy(()=>{q._unregisterOnDisabledChange(le)})}}(q,N)}function Kt(q,N,le=!0){const G=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(G),N.valueAccessor.registerOnTouched(G)),Qn(q,N),q&&(N._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Gt(q,N){q.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(N)})}function Jt(q,N){const le=yt(q);null!==N.validator?q.setValidators(mt(le,N.validator)):"function"==typeof le&&q.setValidators([le]);const G=gt(q);null!==N.asyncValidator?q.setAsyncValidators(mt(G,N.asyncValidator)):"function"==typeof G&&q.setAsyncValidators([G]);const Ie=()=>q.updateValueAndValidity();Gt(N._rawValidators,Ie),Gt(N._rawAsyncValidators,Ie)}function Qn(q,N){let le=!1;if(null!==q){if(null!==N.validator){const Ie=yt(q);if(Array.isArray(Ie)&&Ie.length>0){const Qt=Ie.filter(y=>y!==N.validator);Qt.length!==Ie.length&&(le=!0,q.setValidators(Qt))}}if(null!==N.asyncValidator){const Ie=gt(q);if(Array.isArray(Ie)&&Ie.length>0){const Qt=Ie.filter(y=>y!==N.asyncValidator);Qt.length!==Ie.length&&(le=!0,q.setAsyncValidators(Qt))}}}const G=()=>{};return Gt(N._rawValidators,G),Gt(N._rawAsyncValidators,G),le}function Ai(q,N){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function $(q,N){const le=q.indexOf(N);le>-1&&q.splice(le,1)}function ie(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const be=class extends Ge{constructor(N=null,le,G){super($e(le),J(G,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=ie(N)?N.value:N)}setValue(N,le={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(N,le={}){this.setValue(N,le)}reset(N=this.defaultValue,le={}){this._applyFormState(N),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){$(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){$(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){ie(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}};let ui=(()=>{var q;class N{}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275dir=d.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})(),Ii=(()=>{var q;class N{}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({}),N})();const Ns=new d.OlP("NgModelWithFormControlWarning"),gs={provide:bn,useExisting:(0,d.Gpc)(()=>Mr)};let Mr=(()=>{var q;class N extends bn{set isDisabled(G){}constructor(G,Ie,Qt,y,j){super(),this._ngModelWarningConfig=y,this.callSetDisabledState=j,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(G),this._setAsyncValidators(Ie),this.valueAccessor=function _i(q,N){if(!N)return null;let le,G,Ie;return Array.isArray(N),N.forEach(Qt=>{Qt.constructor===Ce?le=Qt:function ki(q){return Object.getPrototypeOf(q.constructor)===Ne}(Qt)?G=Qt:Ie=Qt}),Ie||G||le||null}(0,Qt)}ngOnChanges(G){if(this._isControlChanged(G)){const Ie=G.form.previousValue;Ie&&Kt(Ie,this,!1),ft(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Or(q,N){if(!q.hasOwnProperty("model"))return!1;const le=q.model;return!!le.isFirstChange()||!Object.is(N,le.currentValue)})(G,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Kt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_isControlChanged(G){return G.hasOwnProperty("form")}}return(q=N)._ngModelWarningSentOnce=!1,q.\u0275fac=function(G){return new(G||q)(d.Y36(He,10),d.Y36(Re,10),d.Y36(Xe,10),d.Y36(Ns,8),d.Y36(Je,8))},q.\u0275dir=d.lG2({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([gs]),d.qOj,d.TTD]}),N})();const Cn={provide:dn,useExisting:(0,d.Gpc)(()=>Gn)};let Gn=(()=>{var q;class N extends dn{constructor(G,Ie,Qt){super(),this.callSetDisabledState=Qt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(G),this._setAsyncValidators(Ie)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const Ie=this.form.get(G.path);return ft(Ie,G,this.callSetDisabledState),Ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),Ie}getControl(G){return this.form.get(G.path)}removeControl(G){Kt(G.control||null,G,!1),function $i(q,N){const le=q.indexOf(N);le>-1&&q.splice(le,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,Ie){this.form.get(G.path).setValue(Ie)}onSubmit(G){var Ie;return this.submitted=!0,function Er(q,N){q._syncPendingControls(),N.forEach(le=>{const G=le.control;"submit"===G.updateOn&&G._pendingChange&&(le.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(G),"dialog"===(null==G||null===(Ie=G.target)||void 0===Ie?void 0:Ie.method)}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const Ie=G.control,Qt=this.form.get(G.path);Ie!==Qt&&(Kt(Ie||null,G),(q=>q instanceof be)(Qt)&&(ft(Qt,G,this.callSetDisabledState),G.control=Qt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const Ie=this.form.get(G.path);(function Br(q,N){Jt(q,N)})(Ie,G),Ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const Ie=this.form.get(G.path);Ie&&function Rr(q,N){return Qn(q,N)}(Ie,G)&&Ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jt(this.form,this),this._oldForm&&Qn(this._oldForm,this)}_checkFormPresent(){}}return(q=N).\u0275fac=function(G){return new(G||q)(d.Y36(He,10),d.Y36(Re,10),d.Y36(Je,8))},q.\u0275dir=d.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(G,Ie){1&G&&d.NdJ("submit",function(y){return Ie.onSubmit(y)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Cn]),d.qOj,d.TTD]}),N})();function Ji(q){return"number"==typeof q?q:parseFloat(q)}let Ui=(()=>{var q;class N{constructor(){this._validator=se}ngOnChanges(G){if(this.inputName in G){const Ie=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(Ie),this._validator=this._enabled?this.createValidator(Ie):se,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275dir=d.lG2({type:q,features:[d.TTD]}),N})();const ao={provide:He,useExisting:(0,d.Gpc)(()=>ar),multi:!0};let ar=(()=>{var q;class N extends Ui{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=G=>Ji(G),this.createValidator=G=>pe(G)}}return(q=N).\u0275fac=function(){let le;return function(Ie){return(le||(le=d.n5z(q)))(Ie||q)}}(),q.\u0275dir=d.lG2({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,Ie){2&G&&d.uIk("max",Ie._enabled?Ie.max:null)},inputs:{max:"max"},features:[d._Bn([ao]),d.qOj]}),N})();const fa={provide:He,useExisting:(0,d.Gpc)(()=>lo),multi:!0};let lo=(()=>{var q;class N extends Ui{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=G=>Ji(G),this.createValidator=G=>Ye(G)}}return(q=N).\u0275fac=function(){let le;return function(Ie){return(le||(le=d.n5z(q)))(Ie||q)}}(),q.\u0275dir=d.lG2({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,Ie){2&G&&d.uIk("min",Ie._enabled?Ie.min:null)},inputs:{min:"min"},features:[d._Bn([fa]),d.qOj]}),N})(),pa=(()=>{var q;class N{}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[Ii]}),N})(),tl=(()=>{var q;class N{static withConfig(G){var Ie;return{ngModule:N,providers:[{provide:Je,useValue:null!==(Ie=G.callSetDisabledState)&&void 0!==Ie?Ie:Le}]}}}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[pa]}),N})(),ma=(()=>{var q;class N{static withConfig(G){var Ie,Qt;return{ngModule:N,providers:[{provide:Ns,useValue:null!==(Ie=G.warnOnNgModelWithFormControl)&&void 0!==Ie?Ie:"always"},{provide:Je,useValue:null!==(Qt=G.callSetDisabledState)&&void 0!==Qt?Qt:Le}]}}}return(q=N).\u0275fac=function(G){return new(G||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[pa]}),N})()},6593:(rn,it,x)=>{"use strict";x.d(it,{Dx:()=>bn,b2:()=>Xt,q6:()=>mt});var d=x(5879),g=x(6814);class X extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends X{static makeCurrent(){(0,g.HT)(new re)}onAndCancel(J,W,B){return J.addEventListener(W,B),()=>{J.removeEventListener(W,B)}}dispatchEvent(J,W){J.dispatchEvent(W)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,W){return(W=W||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,W){return"window"===W?window:"document"===W?J:"body"===W?J.body:null}getBaseHref(J){const W=function De(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==W?null:function je(ee){fe=fe||document.createElement("a"),fe.setAttribute("href",ee);const J=fe.pathname;return"/"===J.charAt(0)?J:`/${J}`}(W)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,g.Mx)(document.cookie,J)}}let fe,we=null,ue=(()=>{var ee;class J{build(){return new XMLHttpRequest}}return(ee=J).\u0275fac=function(B){return new(B||ee)},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();const de=new d.OlP("EventManagerPlugins");let ye=(()=>{var ee;class J{constructor(B,ae){this._zone=ae,this._eventNameToPlugin=new Map,B.forEach(Te=>{Te.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,ae,Te){return this._findPluginFor(ae).addEventListener(B,ae,Te)}getZone(){return this._zone}_findPluginFor(B){let ae=this._eventNameToPlugin.get(B);if(ae)return ae;if(ae=this._plugins.find(Ge=>Ge.supports(B)),!ae)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(B,ae),ae}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(de),d.LFG(d.R0b))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();class me{constructor(J){this._doc=J}}const Ne="ng-app-id";let Xe=(()=>{var ee;class J{constructor(B,ae,Te,Ge={}){this.doc=B,this.appId=ae,this.nonce=Te,this.platformId=Ge,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(Ge),this.resetHostNodes()}addStyles(B){for(const ae of B)1===this.changeUsageCount(ae,1)&&this.onStyleAdded(ae)}removeStyles(B){for(const ae of B)this.changeUsageCount(ae,-1)<=0&&this.onStyleRemoved(ae)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach(ae=>ae.remove()),B.clear());for(const ae of this.getAllStyles())this.onStyleRemoved(ae);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const ae of this.getAllStyles())this.addStyleToHost(B,ae)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const ae of this.hostNodes)this.addStyleToHost(ae,B)}onStyleRemoved(B){var ae;const Te=this.styleRef;null===(ae=Te.get(B))||void 0===ae||null===(ae=ae.elements)||void 0===ae||ae.forEach(Ge=>Ge.remove()),Te.delete(B)}collectServerRenderedStyles(){var B;const ae=null===(B=this.doc.head)||void 0===B?void 0:B.querySelectorAll(`style[${Ne}="${this.appId}"]`);if(null!=ae&&ae.length){const Te=new Map;return ae.forEach(Ge=>{null!=Ge.textContent&&Te.set(Ge.textContent,Ge)}),Te}return null}changeUsageCount(B,ae){const Te=this.styleRef;if(Te.has(B)){const Ge=Te.get(B);return Ge.usage+=ae,Ge.usage}return Te.set(B,{usage:ae,elements:[]}),ae}getStyleElement(B,ae){const Te=this.styleNodesInDOM,Ge=null==Te?void 0:Te.get(ae);if((null==Ge?void 0:Ge.parentNode)===B)return Te.delete(ae),Ge.removeAttribute(Ne),Ge;{const Mt=this.doc.createElement("style");return this.nonce&&Mt.setAttribute("nonce",this.nonce),Mt.textContent=ae,this.platformIsServer&&Mt.setAttribute(Ne,this.appId),Mt}}addStyleToHost(B,ae){var Te;const Ge=this.getStyleElement(B,ae);B.appendChild(Ge);const Mt=this.styleRef,vt=null===(Te=Mt.get(ae))||void 0===Te?void 0:Te.elements;vt?vt.push(Ge):Mt.set(ae,{elements:[Ge],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(g.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ue=/%COMP%/g,Ve=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Re(ee,J){return J.map(W=>W.replace(Ue,ee))}let Oe=(()=>{var ee;class J{constructor(B,ae,Te,Ge,Mt,vt,Yt,qt=null){this.eventManager=B,this.sharedStylesHost=ae,this.appId=Te,this.removeStylesOnCompDestroy=Ge,this.doc=Mt,this.platformId=vt,this.ngZone=Yt,this.nonce=qt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(vt),this.defaultRenderer=new Ee(B,Mt,Yt,this.platformIsServer)}createRenderer(B,ae){if(!B||!ae)return this.defaultRenderer;this.platformIsServer&&ae.encapsulation===d.ifc.ShadowDom&&(ae={...ae,encapsulation:d.ifc.Emulated});const Te=this.getOrCreateRenderer(B,ae);return Te instanceof jt?Te.applyToHost(B):Te instanceof Dt&&Te.applyStyles(),Te}getOrCreateRenderer(B,ae){const Te=this.rendererByCompId;let Ge=Te.get(ae.id);if(!Ge){const Mt=this.doc,vt=this.ngZone,Yt=this.eventManager,qt=this.sharedStylesHost,ln=this.removeStylesOnCompDestroy,Je=this.platformIsServer;switch(ae.encapsulation){case d.ifc.Emulated:Ge=new jt(Yt,qt,ae,this.appId,ln,Mt,vt,Je);break;case d.ifc.ShadowDom:return new Be(Yt,qt,B,ae,Mt,vt,this.nonce,Je);default:Ge=new Dt(Yt,qt,ae,ln,Mt,vt,Je)}Te.set(ae.id,Ge)}return Ge}ngOnDestroy(){this.rendererByCompId.clear()}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(ye),d.LFG(Xe),d.LFG(d.AFp),d.LFG(Ve),d.LFG(g.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();class Ee{constructor(J,W,B,ae){this.eventManager=J,this.doc=W,this.ngZone=B,this.platformIsServer=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,W){return W?this.doc.createElementNS(et[W]||W,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,W){(Ae(J)?J.content:J).appendChild(W)}insertBefore(J,W,B){J&&(Ae(J)?J.content:J).insertBefore(W,B)}removeChild(J,W){J&&J.removeChild(W)}selectRootElement(J,W){let B="string"==typeof J?this.doc.querySelector(J):J;if(!B)throw new d.vHH(-5104,!1);return W||(B.textContent=""),B}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,W,B,ae){if(ae){W=ae+":"+W;const Te=et[ae];Te?J.setAttributeNS(Te,W,B):J.setAttribute(W,B)}else J.setAttribute(W,B)}removeAttribute(J,W,B){if(B){const ae=et[B];ae?J.removeAttributeNS(ae,W):J.removeAttribute(`${B}:${W}`)}else J.removeAttribute(W)}addClass(J,W){J.classList.add(W)}removeClass(J,W){J.classList.remove(W)}setStyle(J,W,B,ae){ae&(d.JOm.DashCase|d.JOm.Important)?J.style.setProperty(W,B,ae&d.JOm.Important?"important":""):J.style[W]=B}removeStyle(J,W,B){B&d.JOm.DashCase?J.style.removeProperty(W):J.style[W]=""}setProperty(J,W,B){J[W]=B}setValue(J,W){J.nodeValue=W}listen(J,W,B){if("string"==typeof J&&!(J=(0,g.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${W}`);return this.eventManager.addEventListener(J,W,this.decoratePreventDefault(B))}decoratePreventDefault(J){return W=>{if("__ngUnwrap__"===W)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(W)):J(W))&&W.preventDefault()}}}function Ae(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Be extends Ee{constructor(J,W,B,ae,Te,Ge,Mt,vt){super(J,Te,Ge,vt),this.sharedStylesHost=W,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=Re(ae.id,ae.styles);for(const qt of Yt){const ln=document.createElement("style");Mt&&ln.setAttribute("nonce",Mt),ln.textContent=qt,this.shadowRoot.appendChild(ln)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,W){return super.appendChild(this.nodeOrShadowRoot(J),W)}insertBefore(J,W,B){return super.insertBefore(this.nodeOrShadowRoot(J),W,B)}removeChild(J,W){return super.removeChild(this.nodeOrShadowRoot(J),W)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dt extends Ee{constructor(J,W,B,ae,Te,Ge,Mt,vt){super(J,Te,Ge,Mt),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=ae,this.styles=vt?Re(vt,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jt extends Dt{constructor(J,W,B,ae,Te,Ge,Mt,vt){const Yt=ae+"-"+B.id;super(J,W,B,Te,Ge,Mt,vt,Yt),this.contentAttr=function _e(ee){return"_ngcontent-%COMP%".replace(Ue,ee)}(Yt),this.hostAttr=function He(ee){return"_nghost-%COMP%".replace(Ue,ee)}(Yt)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,W){const B=super.createElement(J,W);return super.setAttribute(B,this.contentAttr,""),B}}let St=(()=>{var ee;class J extends me{constructor(B){super(B)}supports(B){return!0}addEventListener(B,ae,Te){return B.addEventListener(ae,Te,!1),()=>this.removeEventListener(B,ae,Te)}removeEventListener(B,ae,Te){return B.removeEventListener(ae,Te)}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(g.K0))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();const at=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Me=(()=>{var ee;class J extends me{constructor(B){super(B)}supports(B){return null!=J.parseEventName(B)}addEventListener(B,ae,Te){const Ge=J.parseEventName(ae),Mt=J.eventCallback(Ge.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(B,Ge.domEventName,Mt))}static parseEventName(B){const ae=B.toLowerCase().split("."),Te=ae.shift();if(0===ae.length||"keydown"!==Te&&"keyup"!==Te)return null;const Ge=J._normalizeKey(ae.pop());let Mt="",vt=ae.indexOf("code");if(vt>-1&&(ae.splice(vt,1),Mt="code."),at.forEach(qt=>{const ln=ae.indexOf(qt);ln>-1&&(ae.splice(ln,1),Mt+=qt+".")}),Mt+=Ge,0!=ae.length||0===Ge.length)return null;const Yt={};return Yt.domEventName=Te,Yt.fullKey=Mt,Yt}static matchEventFullKeyCode(B,ae){let Te=se[B.key]||B.key,Ge="";return ae.indexOf("code.")>-1&&(Te=B.code,Ge="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),at.forEach(Mt=>{Mt!==Te&&(0,ge[Mt])(B)&&(Ge+=Mt+".")}),Ge+=Te,Ge===ae)}static eventCallback(B,ae,Te){return Ge=>{J.matchEventFullKeyCode(Ge,B)&&Te.runGuarded(()=>ae(Ge))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(g.K0))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac}),J})();const mt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:g.bD},{provide:d.g9A,useValue:function Tt(){re.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function tt(){return(0,d.RDi)(document),document},deps:[]}]),yt=new d.OlP(""),gt=[{provide:d.rWj,useClass:class Fe{addToWindow(J){d.dqk.getAngularTestability=(B,ae=!0)=>{const Te=J.findTestabilityInTree(B,ae);if(null==Te)throw new d.vHH(5103,!1);return Te},d.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(B=>{const ae=d.dqk.getAllAngularTestabilities();let Te=ae.length,Ge=!1;const Mt=function(vt){Ge=Ge||vt,Te--,0==Te&&B(Ge)};ae.forEach(vt=>{vt.whenStable(Mt)})})}findTestabilityInTree(J,W,B){if(null==W)return null;const ae=J.getTestability(W);return null!=ae?ae:B?(0,g.q)().isShadowRoot(W)?this.findTestabilityInTree(J,W.host,!0):this.findTestabilityInTree(J,W.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ht=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function tn(){return new d.qLn},deps:[]},{provide:de,useClass:St,multi:!0,deps:[g.K0,d.R0b,d.Lbi]},{provide:de,useClass:Me,multi:!0,deps:[g.K0]},Oe,Xe,ye,{provide:d.FYo,useExisting:Oe},{provide:g.JF,useClass:ue,deps:[]},[]];let Xt=(()=>{var ee;class J{constructor(B){}static withServerTransition(B){return{ngModule:J,providers:[{provide:d.AFp,useValue:B.appId}]}}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(yt,12))},ee.\u0275mod=d.oAB({type:ee}),ee.\u0275inj=d.cJS({providers:[...Ht,...gt],imports:[g.ez,d.hGG]}),J})(),bn=(()=>{var ee;class J{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return(ee=J).\u0275fac=function(B){return new(B||ee)(d.LFG(g.K0))},ee.\u0275prov=d.Yz7({token:ee,factory:function(B){let ae=null;return ae=B?new B:function dn(){return new bn((0,d.LFG)(g.K0))}(),ae},providedIn:"root"}),J})();typeof window<"u"&&window},2692:(rn,it,x)=>{"use strict";x.d(it,{gz:()=>Qi,y6:()=>ui,OD:()=>_i,eC:()=>tt,wm:()=>kh,wN:()=>Ir,F0:()=>Li,rH:()=>Cl,Bz:()=>cl,Hx:()=>Sn});var d=x(5879),g=x(5592),X=x(4674),we=x(2459),De=x(2096),fe=x(5619),je=x(2572),Fe=x(6973),ue=x(5211),de=x(4829);function ye(w){return new g.y(A=>{(0,de.Xf)(w()).subscribe(A)})}var me=x(8407);function Ne(w,A){const P=(0,X.m)(w)?w:()=>w,C=k=>k.error(P());return new g.y(A?k=>A.schedule(C,0,k):C)}var Xe=x(6232),et=x(7394),Ue=x(9360),Se=x(8251);function ct(){return(0,Ue.e)((w,A)=>{let P=null;w._refCount++;const C=(0,Se.x)(A,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(P=null);const k=w._connection,te=P;P=null,k&&(!te||k===te)&&k.unsubscribe(),A.unsubscribe()});w.subscribe(C),C.closed||(P=w.connect())})}class We extends g.y{constructor(A,P){super(),this.source=A,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new et.w0;const P=this.getSubject();A.add(this.source.subscribe((0,Se.x)(P,void 0,()=>{this._teardown(),P.complete()},C=>{this._teardown(),P.error(C)},()=>this._teardown()))),A.closed&&(this._connection=null,A=et.w0.EMPTY)}return A}refCount(){return ct()(this)}}var Ce=x(8645),Ve=x(6814),_e=x(7398),He=x(4664),Re=x(8180),Oe=x(7921),Ee=x(2181),Ye=x(1631),pe=x(1374),Ae=x(6328),Be=x(9397);function Dt(w){return(0,Ue.e)((A,P)=>{let te,C=null,k=!1;C=A.subscribe((0,Se.x)(P,void 0,void 0,ve=>{te=(0,de.Xf)(w(ve,Dt(w)(A))),C?(C.unsubscribe(),C=null,te.subscribe(P)):k=!0})),k&&(C.unsubscribe(),C=null,te.subscribe(P))})}var jt=x(6699),St=x(3572);function at(w){return w<=0?()=>Xe.E:(0,Ue.e)((A,P)=>{let C=[];A.subscribe((0,Se.x)(P,k=>{C.push(k),w<C.length&&C.shift()},()=>{for(const k of C)P.next(k);P.complete()},void 0,()=>{C=null}))})}var se=x(3026),ge=x(2737),st=x(4716),ut=x(2420),Tt=x(7537),tn=x(6593);const tt="primary",Tn=Symbol("RouteTitle");class mt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const P=this.params[A];return Array.isArray(P)?P[0]:P}return null}getAll(A){if(this.has(A)){const P=this.params[A];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function yt(w){return new mt(w)}function gt(w,A,P){const C=P.path.split("/");if(C.length>w.length||"full"===P.pathMatch&&(A.hasChildren()||C.length<w.length))return null;const k={};for(let te=0;te<C.length;te++){const ve=C[te],pt=w[te];if(ve.startsWith(":"))k[ve.substring(1)]=pt;else if(ve!==pt.path)return null}return{consumed:w.slice(0,C.length),posParams:k}}function Xt(w,A){const P=w?Object.keys(w):void 0,C=A?Object.keys(A):void 0;if(!P||!C||P.length!=C.length)return!1;let k;for(let te=0;te<P.length;te++)if(k=P[te],!_n(w[k],A[k]))return!1;return!0}function _n(w,A){if(Array.isArray(w)&&Array.isArray(A)){if(w.length!==A.length)return!1;const P=[...w].sort(),C=[...A].sort();return P.every((k,te)=>C[te]===k)}return w===A}function vn(w){return w.length>0?w[w.length-1]:null}function cn(w){return function re(w){return!!w&&(w instanceof g.y||(0,X.m)(w.lift)&&(0,X.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,we.D)(Promise.resolve(w)):(0,De.of)(w)}const dn={exact:function xn(w,A,P){if(!jn(w.segments,A.segments)||!cr(w.segments,A.segments,P)||w.numberOfChildren!==A.numberOfChildren)return!1;for(const C in A.children)if(!w.children[C]||!xn(w.children[C],A.children[C],P))return!1;return!0},subset:Un},bn={exact:function lr(w,A){return Xt(w,A)},subset:function Pn(w,A){return Object.keys(A).length<=Object.keys(w).length&&Object.keys(A).every(P=>_n(w[P],A[P]))},ignored:()=>!0};function ir(w,A,P){return dn[P.paths](w.root,A.root,P.matrixParams)&&bn[P.queryParams](w.queryParams,A.queryParams)&&!("exact"===P.fragment&&w.fragment!==A.fragment)}function Un(w,A,P){return Zn(w,A,A.segments,P)}function Zn(w,A,P,C){if(w.segments.length>P.length){const k=w.segments.slice(0,P.length);return!(!jn(k,P)||A.hasChildren()||!cr(k,P,C))}if(w.segments.length===P.length){if(!jn(w.segments,P)||!cr(w.segments,P,C))return!1;for(const k in A.children)if(!w.children[k]||!Un(w.children[k],A.children[k],C))return!1;return!0}{const k=P.slice(0,w.segments.length),te=P.slice(w.segments.length);return!!(jn(w.segments,k)&&cr(w.segments,k,C)&&w.children[tt])&&Zn(w.children[tt],A,te,C)}}function cr(w,A,P){return A.every((C,k)=>bn[P](w[k].parameters,C.parameters))}class vr{constructor(A=new Nt([],{}),P={},C=null){this.root=A,this.queryParams=P,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Xr.serialize(this)}}class Nt{constructor(A,P){this.segments=A,this.children=P,this.parent=null,Object.values(P).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zr(this)}}class Fn{constructor(A,P){this.path=A,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return In(this)}}function jn(w,A){return w.length===A.length&&w.every((P,C)=>P.path===A[C].path)}let Sn=(()=>{var w;class A{}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new yr},providedIn:"root"}),A})();class yr{parse(A){const P=new vt(A);return new vr(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(A){const P=`/${br(A.root,!0)}`,C=function $e(w){const A=Object.keys(w).map(P=>{const C=w[P];return Array.isArray(C)?C.map(k=>`${_t(P)}=${_t(k)}`).join("&"):`${_t(P)}=${_t(C)}`}).filter(P=>!!P);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${P}${C}${"string"==typeof A.fragment?`#${function Ze(w){return encodeURI(w)}(A.fragment)}`:""}`}}const Xr=new yr;function zr(w){return w.segments.map(A=>In(A)).join("/")}function br(w,A){if(!w.hasChildren())return zr(w);if(A){const P=w.children[tt]?br(w.children[tt],!1):"",C=[];return Object.entries(w.children).forEach(([k,te])=>{k!==tt&&C.push(`${k}:${br(te,!1)}`)}),C.length>0?`${P}(${C.join("//")})`:P}{const P=function dr(w,A){let P=[];return Object.entries(w.children).forEach(([C,k])=>{C===tt&&(P=P.concat(A(k,C)))}),Object.entries(w.children).forEach(([C,k])=>{C!==tt&&(P=P.concat(A(k,C)))}),P}(w,(C,k)=>k===tt?[br(w.children[tt],!1)]:[`${k}:${br(C,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[tt]?`${zr(w)}/${P[0]}`:`${zr(w)}/(${P.join("//")})`}}function fr(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _t(w){return fr(w).replace(/%3B/gi,";")}function Pt(w){return fr(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(w){return decodeURIComponent(w)}function an(w){return Zt(w.replace(/\+/g,"%20"))}function In(w){return`${Pt(w.path)}${function Bn(w){return Object.keys(w).map(A=>`;${Pt(A)}=${Pt(w[A])}`).join("")}(w.parameters)}`}const ee=/^[^\/()?;#]+/;function J(w){const A=w.match(ee);return A?A[0]:""}const W=/^[^\/()?;=#]+/,ae=/^[^=?&#]+/,Ge=/^[^&#]+/;class vt{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(A.length>0||Object.keys(P).length>0)&&(C[tt]=new Nt(A,P)),C}parseSegment(){const A=J(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(A),new Fn(Zt(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const P=function B(w){const A=w.match(W);return A?A[0]:""}(this.remaining);if(!P)return;this.capture(P);let C="";if(this.consumeOptional("=")){const k=J(this.remaining);k&&(C=k,this.capture(C))}A[Zt(P)]=Zt(C)}parseQueryParam(A){const P=function Te(w){const A=w.match(ae);return A?A[0]:""}(this.remaining);if(!P)return;this.capture(P);let C="";if(this.consumeOptional("=")){const ve=function Mt(w){const A=w.match(Ge);return A?A[0]:""}(this.remaining);ve&&(C=ve,this.capture(C))}const k=an(P),te=an(C);if(A.hasOwnProperty(k)){let ve=A[k];Array.isArray(ve)||(ve=[ve],A[k]=ve),ve.push(te)}else A[k]=te}parseParens(A){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=J(this.remaining),k=this.remaining[C.length];if("/"!==k&&")"!==k&&";"!==k)throw new d.vHH(4010,!1);let te;C.indexOf(":")>-1?(te=C.slice(0,C.indexOf(":")),this.capture(te),this.capture(":")):A&&(te=tt);const ve=this.parseChildren();P[te]=1===Object.keys(ve).length?ve[tt]:new Nt([],ve),this.consumeOptional("//")}return P}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new d.vHH(4011,!1)}}function Yt(w){return w.segments.length>0?new Nt([],{[tt]:w}):w}function qt(w){const A={};for(const C of Object.keys(w.children)){const te=qt(w.children[C]);if(C===tt&&0===te.segments.length&&te.hasChildren())for(const[ve,pt]of Object.entries(te.children))A[ve]=pt;else(te.segments.length>0||te.hasChildren())&&(A[C]=te)}return function ln(w){if(1===w.numberOfChildren&&w.children[tt]){const A=w.children[tt];return new Nt(w.segments.concat(A.segments),A.children)}return w}(new Nt(w.segments,A))}function Je(w){return w instanceof vr}function It(w){var A;let P;const te=Yt(function C(ve){const pt={};for(const Rt of ve.children){const Mn=C(Rt);pt[Rt.outlet]=Mn}const pn=new Nt(ve.url,pt);return ve===w&&(P=pn),pn}(w.root));return null!==(A=P)&&void 0!==A?A:te}function ft(w,A,P,C){let k=w;for(;k.parent;)k=k.parent;if(0===A.length)return wn(k,k,k,P,C);const te=function tr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Qn(!0,0,w);let A=0,P=!1;const C=w.reduce((k,te,ve)=>{if("object"==typeof te&&null!=te){if(te.outlets){const pt={};return Object.entries(te.outlets).forEach(([pn,Rt])=>{pt[pn]="string"==typeof Rt?Rt.split("/"):Rt}),[...k,{outlets:pt}]}if(te.segmentPath)return[...k,te.segmentPath]}return"string"!=typeof te?[...k,te]:0===ve?(te.split("/").forEach((pt,pn)=>{0==pn&&"."===pt||(0==pn&&""===pt?P=!0:".."===pt?A++:""!=pt&&k.push(pt))}),k):[...k,te]},[]);return new Qn(P,A,C)}(A);if(te.toRoot())return wn(k,k,new Nt([],{}),P,C);const ve=function Ai(w,A,P){if(w.isAbsolute)return new Ur(A,!0,0);if(!P)return new Ur(A,!1,NaN);if(null===P.parent)return new Ur(P,!0,0);const C=Kt(w.commands[0])?0:1;return function hr(w,A,P){let C=w,k=A,te=P;for(;te>k;){if(te-=k,C=C.parent,!C)throw new d.vHH(4005,!1);k=C.segments.length}return new Ur(C,!1,k-te)}(P,P.segments.length-1+C,w.numberOfDoubleDots)}(te,k,w),pt=ve.processChildren?pr(ve.segmentGroup,ve.index,te.commands):Rr(ve.segmentGroup,ve.index,te.commands);return wn(k,ve.segmentGroup,pt,P,C)}function Kt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Gt(w){return"object"==typeof w&&null!=w&&w.outlets}function wn(w,A,P,C,k){let ve,te={};C&&Object.entries(C).forEach(([pn,Rt])=>{te[pn]=Array.isArray(Rt)?Rt.map(Mn=>`${Mn}`):`${Rt}`}),ve=w===A?P:Jt(w,A,P);const pt=Yt(qt(ve));return new vr(pt,te,k)}function Jt(w,A,P){const C={};return Object.entries(w.children).forEach(([k,te])=>{C[k]=te===A?P:Jt(te,A,P)}),new Nt(w.segments,C)}class Qn{constructor(A,P,C){if(this.isAbsolute=A,this.numberOfDoubleDots=P,this.commands=C,A&&C.length>0&&Kt(C[0]))throw new d.vHH(4003,!1);const k=C.find(Gt);if(k&&k!==vn(C))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(A,P,C){this.segmentGroup=A,this.processChildren=P,this.index=C}}function Rr(w,A,P){if(w||(w=new Nt([],{})),0===w.segments.length&&w.hasChildren())return pr(w,A,P);const C=function Jn(w,A,P){let C=0,k=A;const te={match:!1,pathIndex:0,commandIndex:0};for(;k<w.segments.length;){if(C>=P.length)return te;const ve=w.segments[k],pt=P[C];if(Gt(pt))break;const pn=`${pt}`,Rt=C<P.length-1?P[C+1]:null;if(k>0&&void 0===pn)break;if(pn&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!Or(pn,Rt,ve))return te;C+=2}else{if(!Or(pn,{},ve))return te;C++}k++}return{match:!0,pathIndex:k,commandIndex:C}}(w,A,P),k=P.slice(C.commandIndex);if(C.match&&C.pathIndex<w.segments.length){const te=new Nt(w.segments.slice(0,C.pathIndex),{});return te.children[tt]=new Nt(w.segments.slice(C.pathIndex),w.children),pr(te,0,k)}return C.match&&0===k.length?new Nt(w.segments,{}):C.match&&!w.hasChildren()?Ar(w,A,P):C.match?pr(w,0,k):Ar(w,A,P)}function pr(w,A,P){if(0===P.length)return new Nt(w.segments,{});{const C=function Br(w){return Gt(w[0])?w[0].outlets:{[tt]:w}}(P),k={};if(Object.keys(C).some(te=>te!==tt)&&w.children[tt]&&1===w.numberOfChildren&&0===w.children[tt].segments.length){const te=pr(w.children[tt],A,P);return new Nt(w.segments,te.children)}return Object.entries(C).forEach(([te,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(k[te]=Rr(w.children[te],A,ve))}),Object.entries(w.children).forEach(([te,ve])=>{void 0===C[te]&&(k[te]=ve)}),new Nt(w.segments,k)}}function Ar(w,A,P){const C=w.segments.slice(0,A);let k=0;for(;k<P.length;){const te=P[k];if(Gt(te)){const pn=Jr(te.outlets);return new Nt(C,pn)}if(0===k&&Kt(P[0])){C.push(new Fn(w.segments[A].path,wi(P[0]))),k++;continue}const ve=Gt(te)?te.outlets[tt]:`${te}`,pt=k<P.length-1?P[k+1]:null;ve&&pt&&Kt(pt)?(C.push(new Fn(ve,wi(pt))),k+=2):(C.push(new Fn(ve,{})),k++)}return new Nt(C,{})}function Jr(w){const A={};return Object.entries(w).forEach(([P,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(A[P]=Ar(new Nt([],{}),0,C))}),A}function wi(w){const A={};return Object.entries(w).forEach(([P,C])=>A[P]=`${C}`),A}function Or(w,A,P){return w==P.path&&Xt(A,P.parameters)}const ki="imperative";class Er{constructor(A,P){this.id=A,this.url=P}}class _i extends Er{constructor(A,P,C="imperative",k=null){super(A,P),this.type=0,this.navigationTrigger=C,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $i extends Er{constructor(A,P,C){super(A,P),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends Er{constructor(A,P,C,k){super(A,P),this.reason=C,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ot extends Er{constructor(A,P,C,k){super(A,P),this.reason=C,this.code=k,this.type=16}}class nt extends Er{constructor(A,P,C,k){super(A,P),this.error=C,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class V extends Er{constructor(A,P,C,k){super(A,P),this.urlAfterRedirects=C,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends Er{constructor(A,P,C,k){super(A,P),this.urlAfterRedirects=C,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends Er{constructor(A,P,C,k,te){super(A,P),this.urlAfterRedirects=C,this.state=k,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class be extends Er{constructor(A,P,C,k){super(A,P),this.urlAfterRedirects=C,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends Er{constructor(A,P,C,k){super(A,P),this.urlAfterRedirects=C,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ct{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wt{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(A,P,C){this.routerEvent=A,this.position=P,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xn{}class _r{constructor(A){this.url=A}}class oi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ui,this.attachRef=null}}let ui=(()=>{var w;class A{constructor(){this.contexts=new Map}onChildOutletCreated(C,k){const te=this.getOrCreateContext(C);te.outlet=k,this.contexts.set(C,te)}onChildOutletDestroyed(C){const k=this.getContext(C);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let k=this.getContext(C);return k||(k=new oi,this.contexts.set(C,k)),k}getContext(C){return this.contexts.get(C)||null}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();class bs{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const P=this.pathFromRoot(A);return P.length>1?P[P.length-2]:null}children(A){const P=rr(A,this._root);return P?P.children.map(C=>C.value):[]}firstChild(A){const P=rr(A,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(A){const P=Gr(A,this._root);return P.length<2?[]:P[P.length-2].children.map(k=>k.value).filter(k=>k!==A)}pathFromRoot(A){return Gr(A,this._root).map(P=>P.value)}}function rr(w,A){if(w===A.value)return A;for(const P of A.children){const C=rr(w,P);if(C)return C}return null}function Gr(w,A){if(w===A.value)return[A];for(const P of A.children){const C=Gr(w,P);if(C.length)return C.unshift(A),C}return[]}class ei{constructor(A,P){this.value=A,this.children=P}toString(){return`TreeNode(${this.value})`}}function Ii(w){const A={};return w&&w.children.forEach(P=>A[P.value.outlet]=P),A}class Ri extends bs{constructor(A,P){super(A),this.snapshot=P,Gn(this,A)}toString(){return this.snapshot.toString()}}function Ks(w,A){const P=function Vo(w,A){const ve=new Mr([],{},{},"",{},tt,A,null,{});return new Cn("",new ei(ve,[]))}(0,A),C=new fe.X([new Fn("",{})]),k=new fe.X({}),te=new fe.X({}),ve=new fe.X({}),pt=new fe.X(""),pn=new Qi(C,k,ve,pt,te,tt,A,P.root);return pn.snapshot=P.root,new Ri(new ei(pn,[]),P)}class Qi{constructor(A,P,C,k,te,ve,pt,pn){var Rt,Mn;this.urlSubject=A,this.paramsSubject=P,this.queryParamsSubject=C,this.fragmentSubject=k,this.dataSubject=te,this.outlet=ve,this.component=pt,this._futureSnapshot=pn,this.title=null!==(Rt=null===(Mn=this.dataSubject)||void 0===Mn?void 0:Mn.pipe((0,_e.U)(sr=>sr[Tn])))&&void 0!==Rt?Rt:(0,De.of)(void 0),this.url=A,this.params=P,this.queryParams=C,this.fragment=k,this.data=te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.U)(A=>yt(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.U)(A=>yt(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ns(w,A="emptyOnly"){const P=w.pathFromRoot;let C=0;if("always"!==A)for(C=P.length-1;C>=1;){const k=P[C],te=P[C-1];if(k.routeConfig&&""===k.routeConfig.path)C--;else{if(te.component)break;C--}}return function gs(w){return w.reduce((A,P)=>{var C;return{params:{...A.params,...P.params},data:{...A.data,...P.data},resolve:{...P.data,...A.resolve,...null===(C=P.routeConfig)||void 0===C?void 0:C.data,...P._resolvedData}}},{params:{},data:{},resolve:{}})}(P.slice(C))}class Mr{get title(){var A;return null===(A=this.data)||void 0===A?void 0:A[Tn]}constructor(A,P,C,k,te,ve,pt,pn,Rt){this.url=A,this.params=P,this.queryParams=C,this.fragment=k,this.data=te,this.outlet=ve,this.component=pt,this.routeConfig=pn,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends bs{constructor(A,P){super(P),this.url=A,Gn(this,P)}toString(){return qr(this._root)}}function Gn(w,A){A.value._routerState=w,A.children.forEach(P=>Gn(w,P))}function qr(w){const A=w.children.length>0?` { ${w.children.map(qr).join(", ")} } `:"";return`${w.value}${A}`}function Kr(w){if(w.snapshot){const A=w.snapshot,P=w._futureSnapshot;w.snapshot=P,Xt(A.queryParams,P.queryParams)||w.queryParamsSubject.next(P.queryParams),A.fragment!==P.fragment&&w.fragmentSubject.next(P.fragment),Xt(A.params,P.params)||w.paramsSubject.next(P.params),function Ht(w,A){if(w.length!==A.length)return!1;for(let P=0;P<w.length;++P)if(!Xt(w[P],A[P]))return!1;return!0}(A.url,P.url)||w.urlSubject.next(P.url),Xt(A.data,P.data)||w.dataSubject.next(P.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function ms(w,A){const P=Xt(w.params,A.params)&&function Ut(w,A){return jn(w,A)&&w.every((P,C)=>Xt(P.parameters,A[C].parameters))}(w.url,A.url);return P&&!(!w.parent!=!A.parent)&&(!w.parent||ms(w.parent,A.parent))}let di=(()=>{var w;class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=tt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ui),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(ti,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:k,previousValue:te}=C.name;if(k)return;this.isTrackedInParentContexts(te)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(te)),this.initializeOutletWithName()}}ngOnDestroy(){var C;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(C=this.inputBinder)||void 0===C||C.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){var k;return(null===(k=this.parentContexts.getContext(C))||void 0===k?void 0:k.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);null!=C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,k){var te;this.activated=C,this._activatedRoute=k,this.location.insert(C.hostView),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,k){var te;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=C;const ve=this.location,pn=C.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,Mn=new As(C,Rt,ve.injector);this.activated=ve.createComponent(pn,{index:ve.length,injector:Mn,environmentInjector:null!=k?k:this.environmentInjector}),this.changeDetector.markForCheck(),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),A})();class As{constructor(A,P,C){this.route=A,this.childContexts=P,this.parent=C}get(A,P){return A===Qi?this.route:A===ui?this.childContexts:this.parent.get(A,P)}}const ti=new d.OlP("");let cs=(()=>{var w;class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){var k;null===(k=this.outletDataSubscriptions.get(C))||void 0===k||k.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:k}=C,te=(0,je.a)([k.queryParams,k.params,k.data]).pipe((0,He.w)(([ve,pt,pn],Rt)=>(pn={...ve,...pt,...pn},0===Rt?(0,De.of)(pn):Promise.resolve(pn)))).subscribe(ve=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(C);const pt=(0,d.qFp)(k.component);if(pt)for(const{templateName:pn}of pt.inputs)C.activatedComponentRef.setInput(pn,ve[pn]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,te)}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),A})();function qn(w,A,P){if(P&&w.shouldReuseRoute(A.value,P.value.snapshot)){const C=P.value;C._futureSnapshot=A.value;const k=function Bi(w,A,P){return A.children.map(C=>{for(const k of P.children)if(w.shouldReuseRoute(C.value,k.value.snapshot))return qn(w,C,k);return qn(w,C)})}(w,A,P);return new ei(C,k)}{if(w.shouldAttach(A.value)){const te=w.retrieve(A.value);if(null!==te){const ve=te.route;return ve.value._futureSnapshot=A.value,ve.children=A.children.map(pt=>qn(w,pt)),ve}}const C=function xo(w){return new Qi(new fe.X(w.url),new fe.X(w.params),new fe.X(w.queryParams),new fe.X(w.fragment),new fe.X(w.data),w.outlet,w.component,w)}(A.value),k=A.children.map(te=>qn(w,te));return new ei(C,k)}}const Ys="ngNavigationCancelingError";function ni(w,A){const{redirectTo:P,navigationBehaviorOptions:C}=Je(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,k=oo(!1,0,A);return k.url=P,k.navigationBehaviorOptions=C,k}function oo(w,A,P){const C=new Error("NavigationCancelingError: "+(w||""));return C[Ys]=!0,C.cancellationCode=A,P&&(C.url=P),C}function Di(w){return w&&w[Ys]}let us=(()=>{var w;class A{}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(C,k){1&C&&d._UZ(0,"router-outlet")},dependencies:[di],encapsulation:2}),A})();function Ci(w){const A=w.children&&w.children.map(Ci),P=A?{...w,children:A}:{...w};return!P.component&&!P.loadComponent&&(A||P.loadChildren)&&P.outlet&&P.outlet!==tt&&(P.component=us),P}function ai(w){return w.outlet||tt}function es(w){var A;if(!w)return null;if(null!==(A=w.routeConfig)&&void 0!==A&&A._injector)return w.routeConfig._injector;for(let P=w.parent;P;P=P.parent){const C=P.routeConfig;if(null!=C&&C._loadedInjector)return C._loadedInjector;if(null!=C&&C._injector)return C._injector}return null}class Ei{constructor(A,P,C,k,te){this.routeReuseStrategy=A,this.futureState=P,this.currState=C,this.forwardEvent=k,this.inputBindingEnabled=te}activate(A){const P=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,C,A),Kr(this.futureState.root),this.activateChildRoutes(P,C,A)}deactivateChildRoutes(A,P,C){const k=Ii(P);A.children.forEach(te=>{const ve=te.value.outlet;this.deactivateRoutes(te,k[ve],C),delete k[ve]}),Object.values(k).forEach(te=>{this.deactivateRouteAndItsChildren(te,C)})}deactivateRoutes(A,P,C){const k=A.value,te=P?P.value:null;if(k===te)if(k.component){const ve=C.getContext(k.outlet);ve&&this.deactivateChildRoutes(A,P,ve.children)}else this.deactivateChildRoutes(A,P,C);else te&&this.deactivateRouteAndItsChildren(P,C)}deactivateRouteAndItsChildren(A,P){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,P):this.deactivateRouteAndOutlet(A,P)}detachAndStoreRouteSubtree(A,P){const C=P.getContext(A.value.outlet),k=C&&A.value.component?C.children:P,te=Ii(A);for(const ve of Object.keys(te))this.deactivateRouteAndItsChildren(te[ve],k);if(C&&C.outlet){const ve=C.outlet.detach(),pt=C.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:ve,route:A,contexts:pt})}}deactivateRouteAndOutlet(A,P){const C=P.getContext(A.value.outlet),k=C&&A.value.component?C.children:P,te=Ii(A);for(const ve of Object.keys(te))this.deactivateRouteAndItsChildren(te[ve],k);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(A,P,C){const k=Ii(P);A.children.forEach(te=>{this.activateRoutes(te,k[te.value.outlet],C),this.forwardEvent(new fn(te.value.snapshot))}),A.children.length&&this.forwardEvent(new Lt(A.value.snapshot))}activateRoutes(A,P,C){const k=A.value,te=P?P.value:null;if(Kr(k),k===te)if(k.component){const ve=C.getOrCreateContext(k.outlet);this.activateChildRoutes(A,P,ve.children)}else this.activateChildRoutes(A,P,C);else if(k.component){const ve=C.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const pt=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),ve.children.onOutletReAttached(pt.contexts),ve.attachRef=pt.componentRef,ve.route=pt.route.value,ve.outlet&&ve.outlet.attach(pt.componentRef,pt.route.value),Kr(pt.route.value),this.activateChildRoutes(A,null,ve.children)}else{const pt=es(k.snapshot);ve.attachRef=null,ve.route=k,ve.injector=pt,ve.outlet&&ve.outlet.activateWith(k,ve.injector),this.activateChildRoutes(A,null,ve.children)}}else this.activateChildRoutes(A,null,C)}}class Yr{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class ks{constructor(A,P){this.component=A,this.route=P}}function co(w,A,P){const C=w._root;return ds(C,A?A._root:null,P,[C.value])}function gi(w,A){const P=Symbol(),C=A.get(w,P);return C===P?"function"!=typeof w||(0,d.Z0I)(w)?A.get(w):w:C}function ds(w,A,P,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const te=Ii(A);return w.children.forEach(ve=>{(function Po(w,A,P,C,k={canDeactivateChecks:[],canActivateChecks:[]}){const te=w.value,ve=A?A.value:null,pt=P?P.getContext(w.value.outlet):null;if(ve&&te.routeConfig===ve.routeConfig){const pn=function pa(w,A,P){if("function"==typeof P)return P(w,A);switch(P){case"pathParamsChange":return!jn(w.url,A.url);case"pathParamsOrQueryParamsChange":return!jn(w.url,A.url)||!Xt(w.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(w,A)||!Xt(w.queryParams,A.queryParams);default:return!ms(w,A)}}(ve,te,te.routeConfig.runGuardsAndResolvers);pn?k.canActivateChecks.push(new Yr(C)):(te.data=ve.data,te._resolvedData=ve._resolvedData),ds(w,A,te.component?pt?pt.children:null:P,C,k),pn&&pt&&pt.outlet&&pt.outlet.isActivated&&k.canDeactivateChecks.push(new ks(pt.outlet.component,ve))}else ve&&_o(A,pt,k),k.canActivateChecks.push(new Yr(C)),ds(w,null,te.component?pt?pt.children:null:P,C,k)})(ve,te[ve.value.outlet],P,C.concat([ve.value]),k),delete te[ve.value.outlet]}),Object.entries(te).forEach(([ve,pt])=>_o(pt,P.getContext(ve),k)),k}function _o(w,A,P){const C=Ii(w),k=w.value;Object.entries(C).forEach(([te,ve])=>{_o(ve,k.component?A?A.children.getContext(te):null:A,P)}),P.canDeactivateChecks.push(new ks(k.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,k))}function Xs(w){return"function"==typeof w}function q(w){return w instanceof Fe.K||"EmptyError"===(null==w?void 0:w.name)}const N=Symbol("INITIAL_VALUE");function le(){return(0,He.w)(w=>(0,je.a)(w.map(A=>A.pipe((0,Re.q)(1),(0,Oe.O)(N)))).pipe((0,_e.U)(A=>{for(const P of A)if(!0!==P){if(P===N)return N;if(!1===P||P instanceof vr)return P}return!0}),(0,Ee.h)(A=>A!==N),(0,Re.q)(1)))}function yn(w){return(0,me.z)((0,Be.b)(A=>{if(Je(A))throw ni(0,A)}),(0,_e.U)(A=>!0===A))}class Hn{constructor(A){this.segmentGroup=A||null}}class wr{constructor(A){this.urlTree=A}}function Vr(w){return Ne(new Hn(w))}function ys(w){return Ne(new wr(w))}class Ds{constructor(A,P){this.urlSerializer=A,this.urlTree=P}noMatchError(A){return new d.vHH(4002,!1)}lineralizeSegments(A,P){let C=[],k=P.root;for(;;){if(C=C.concat(k.segments),0===k.numberOfChildren)return(0,De.of)(C);if(k.numberOfChildren>1||!k.children[tt])return Ne(new d.vHH(4e3,!1));k=k.children[tt]}}applyRedirectCommands(A,P,C){return this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),A,C)}applyRedirectCreateUrlTree(A,P,C,k){const te=this.createSegmentGroup(A,P.root,C,k);return new vr(te,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(A,P){const C={};return Object.entries(A).forEach(([k,te])=>{if("string"==typeof te&&te.startsWith(":")){const pt=te.substring(1);C[k]=P[pt]}else C[k]=te}),C}createSegmentGroup(A,P,C,k){const te=this.createSegments(A,P.segments,C,k);let ve={};return Object.entries(P.children).forEach(([pt,pn])=>{ve[pt]=this.createSegmentGroup(A,pn,C,k)}),new Nt(te,ve)}createSegments(A,P,C,k){return P.map(te=>te.path.startsWith(":")?this.findPosParam(A,te,k):this.findOrReturn(te,C))}findPosParam(A,P,C){const k=C[P.path.substring(1)];if(!k)throw new d.vHH(4001,!1);return k}findOrReturn(A,P){let C=0;for(const k of P){if(k.path===A.path)return P.splice(C),k;C++}return A}}const Ls={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function No(w,A,P,C,k){const te=bl(w,A,P);return te.matched?(C=function vs(w,A){var P;return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,A,`Route: ${w.path}`)),null!==(P=w._injector)&&void 0!==P?P:A}(A,C),function Dn(w,A,P,C){const k=A.canMatch;if(!k||0===k.length)return(0,De.of)(!0);const te=k.map(ve=>{const pt=gi(ve,w);return cn(function hi(w){return w&&Xs(w.canMatch)}(pt)?pt.canMatch(A,P):w.runInContext(()=>pt(A,P)))});return(0,De.of)(te).pipe(le(),yn())}(C,A,P).pipe((0,_e.U)(ve=>!0===ve?te:{...Ls}))):(0,De.of)(te)}function bl(w,A,P){var C,k;if(""===A.path)return"full"===A.pathMatch&&(w.hasChildren()||P.length>0)?{...Ls}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const ve=(A.matcher||gt)(P,w,A);if(!ve)return{...Ls};const pt={};Object.entries(null!==(C=ve.posParams)&&void 0!==C?C:{}).forEach(([Rt,Mn])=>{pt[Rt]=Mn.path});const pn=ve.consumed.length>0?{...pt,...ve.consumed[ve.consumed.length-1].parameters}:pt;return{matched:!0,consumedSegments:ve.consumed,remainingSegments:P.slice(ve.consumed.length),parameters:pn,positionalParamSegments:null!==(k=ve.posParams)&&void 0!==k?k:{}}}function ji(w,A,P,C){return P.length>0&&function Zl(w,A,P){return P.some(C=>Js(w,A,C)&&ai(C)!==tt)}(w,P,C)?{segmentGroup:new Nt(A,Fa(C,new Nt(P,w.children))),slicedSegments:[]}:0===P.length&&function nl(w,A,P){return P.some(C=>Js(w,A,C))}(w,P,C)?{segmentGroup:new Nt(w.segments,Yl(w,0,P,C,w.children)),slicedSegments:P}:{segmentGroup:new Nt(w.segments,w.children),slicedSegments:P}}function Yl(w,A,P,C,k){const te={};for(const ve of C)if(Js(w,P,ve)&&!k[ai(ve)]){const pt=new Nt([],{});te[ai(ve)]=pt}return{...k,...te}}function Fa(w,A){const P={};P[tt]=A;for(const C of w)if(""===C.path&&ai(C)!==tt){const k=new Nt([],{});P[ai(C)]=k}return P}function Js(w,A,P){return(!(w.hasChildren()||A.length>0)||"full"!==P.pathMatch)&&""===P.path}class sl{constructor(A,P,C,k,te,ve,pt){this.injector=A,this.configLoader=P,this.rootComponentType=C,this.config=k,this.urlTree=te,this.paramsInheritanceStrategy=ve,this.urlSerializer=pt,this.allowRedirects=!0,this.applyRedirects=new Ds(this.urlSerializer,this.urlTree)}noMatchError(A){return new d.vHH(4002,!1)}recognize(){const A=ji(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,tt).pipe(Dt(P=>{if(P instanceof wr)return this.allowRedirects=!1,this.urlTree=P.urlTree,this.match(P.urlTree);throw P instanceof Hn?this.noMatchError(P):P}),(0,_e.U)(P=>{const C=new Mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tt,this.rootComponentType,null,{}),k=new ei(C,P),te=new Cn("",k),ve=function Le(w,A,P=null,C=null){return ft(It(w),A,P,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,te.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(te._root),{state:te,tree:ve}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,tt).pipe(Dt(C=>{throw C instanceof Hn?this.noMatchError(C):C}))}inheritParamsAndData(A){const P=A.value,C=Ns(P,this.paramsInheritanceStrategy);P.params=Object.freeze(C.params),P.data=Object.freeze(C.data),A.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(A,P,C,k){return 0===C.segments.length&&C.hasChildren()?this.processChildren(A,P,C):this.processSegment(A,P,C,C.segments,k,!0)}processChildren(A,P,C){const k=[];for(const te of Object.keys(C.children))"primary"===te?k.unshift(te):k.push(te);return(0,we.D)(k).pipe((0,Ae.b)(te=>{const ve=C.children[te],pt=function Ti(w,A){const P=w.filter(C=>ai(C)===A);return P.push(...w.filter(C=>ai(C)!==A)),P}(P,te);return this.processSegmentGroup(A,pt,ve,te)}),(0,jt.R)((te,ve)=>(te.push(...ve),te)),(0,St.d)(null),function Me(w,A){const P=arguments.length>=2;return C=>C.pipe(w?(0,Ee.h)((k,te)=>w(k,te,C)):ge.y,at(1),P?(0,St.d)(A):(0,se.T)(()=>new Fe.K))}(),(0,Ye.z)(te=>{if(null===te)return Vr(C);const ve=wl(te);return function Xl(w){w.sort((A,P)=>A.value.outlet===tt?-1:P.value.outlet===tt?1:A.value.outlet.localeCompare(P.value.outlet))}(ve),(0,De.of)(ve)}))}processSegment(A,P,C,k,te,ve){return(0,we.D)(P).pipe((0,Ae.b)(pt=>{var pn;return this.processSegmentAgainstRoute(null!==(pn=pt._injector)&&void 0!==pn?pn:A,P,pt,C,k,te,ve).pipe(Dt(Rt=>{if(Rt instanceof Hn)return(0,De.of)(null);throw Rt}))}),(0,pe.P)(pt=>!!pt),Dt(pt=>{if(q(pt))return function rl(w,A,P){return 0===A.length&&!w.children[P]}(C,k,te)?(0,De.of)([]):Vr(C);throw pt}))}processSegmentAgainstRoute(A,P,C,k,te,ve,pt){return function ea(w,A,P,C){return!!(ai(w)===C||C!==tt&&Js(A,P,w))&&("**"===w.path||bl(A,w,P).matched)}(C,k,te,ve)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(A,k,C,te,ve,pt):pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,k,P,C,te,ve):Vr(k):Vr(k)}expandSegmentAgainstRouteUsingRedirect(A,P,C,k,te,ve){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,C,k,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(A,P,C,k,te,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,P,C,k){const te=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?ys(te):this.applyRedirects.lineralizeSegments(C,te).pipe((0,Ye.z)(ve=>{const pt=new Nt(ve,{});return this.processSegment(A,P,pt,ve,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,P,C,k,te,ve){const{matched:pt,consumedSegments:pn,remainingSegments:Rt,positionalParamSegments:Mn}=bl(P,k,te);if(!pt)return Vr(P);const sr=this.applyRedirects.applyRedirectCommands(pn,k.redirectTo,Mn);return k.redirectTo.startsWith("/")?ys(sr):this.applyRedirects.lineralizeSegments(k,sr).pipe((0,Ye.z)(Si=>this.processSegment(A,C,P,Si.concat(Rt),ve,!1)))}matchSegmentAgainstRoute(A,P,C,k,te,ve){let pt;if("**"===C.path){var pn,Rt;const Mn=k.length>0?vn(k).parameters:{},sr=new Mr(k,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(C),ai(C),null!==(pn=null!==(Rt=C.component)&&void 0!==Rt?Rt:C._loadedComponent)&&void 0!==pn?pn:null,C,ol(C));pt=(0,De.of)({snapshot:sr,consumedSegments:[],remainingSegments:[]}),P.children={}}else pt=No(P,C,k,A).pipe((0,_e.U)(({matched:Mn,consumedSegments:sr,remainingSegments:Si,parameters:Gi})=>{var Wr,rs;return Mn?{snapshot:new Mr(sr,Gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(C),ai(C),null!==(Wr=null!==(rs=C.component)&&void 0!==rs?rs:C._loadedComponent)&&void 0!==Wr?Wr:null,C,ol(C)),consumedSegments:sr,remainingSegments:Si}:null}));return pt.pipe((0,He.w)(Mn=>{var sr;return null===Mn?Vr(P):(A=null!==(sr=C._injector)&&void 0!==sr?sr:A,this.getChildConfig(A,C,k).pipe((0,He.w)(({routes:Si})=>{var Gi;const Wr=null!==(Gi=C._loadedInjector)&&void 0!==Gi?Gi:A,{snapshot:rs,consumedSegments:ko,remainingSegments:Wi}=Mn,{segmentGroup:Vs,slicedSegments:mi}=ji(P,ko,Wi,Si);if(0===mi.length&&Vs.hasChildren())return this.processChildren(Wr,Si,Vs).pipe((0,_e.U)(sa=>null===sa?null:[new ei(rs,sa)]));if(0===Si.length&&0===mi.length)return(0,De.of)([new ei(rs,[])]);const Lo=ai(C)===te;return this.processSegment(Wr,Si,Vs,mi,Lo?tt:te,!0).pipe((0,_e.U)(sa=>[new ei(rs,sa)]))})))}))}getChildConfig(A,P,C){return P.children?(0,De.of)({routes:P.children,injector:A}):P.loadChildren?void 0!==P._loadedRoutes?(0,De.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function Ot(w,A,P,C){const k=A.canLoad;if(void 0===k||0===k.length)return(0,De.of)(!0);const te=k.map(ve=>{const pt=gi(ve,w);return cn(function Oo(w){return w&&Xs(w.canLoad)}(pt)?pt.canLoad(A,P):w.runInContext(()=>pt(A,P)))});return(0,De.of)(te).pipe(le(),yn())}(A,P,C).pipe((0,Ye.z)(k=>k?this.configLoader.loadChildren(A,P).pipe((0,Be.b)(te=>{P._loadedRoutes=te.routes,P._loadedInjector=te.injector})):function Qs(w){return Ne(oo(!1,3))}())):(0,De.of)({routes:[],injector:A})}}function Ac(w){const A=w.value.routeConfig;return A&&""===A.path}function wl(w){const A=[],P=new Set;for(const C of w){if(!Ac(C)){A.push(C);continue}const k=A.find(te=>C.value.routeConfig===te.value.routeConfig);void 0!==k?(k.children.push(...C.children),P.add(k)):A.push(C)}for(const C of P){const k=wl(C.children);A.push(new ei(C.value,k))}return A.filter(C=>!P.has(C))}function $a(w){return w.data||{}}function ol(w){return w.resolve||{}}function T(w){return"string"==typeof w.title||null===w.title}function z(w){return(0,He.w)(A=>{const P=w(A);return P?(0,we.D)(P).pipe((0,_e.U)(()=>A)):(0,De.of)(A)})}const xe=new d.OlP("ROUTES");let L=(()=>{var w;class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,De.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const k=cn(C.loadComponent()).pipe((0,_e.U)($t),(0,Be.b)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=ve}),(0,st.x)(()=>{this.componentLoaders.delete(C)})),te=new We(k,()=>new Ce.x).pipe(ct());return this.componentLoaders.set(C,te),te}loadChildren(C,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,De.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ve=function he(w,A,P,C){return cn(w.loadChildren()).pipe((0,_e.U)($t),(0,Ye.z)(k=>k instanceof d.YKP||Array.isArray(k)?(0,De.of)(k):(0,we.D)(A.compileModuleAsync(k))),(0,_e.U)(k=>{C&&C(w);let te,ve,pt=!1;return Array.isArray(k)?(ve=k,!0):(te=k.create(P).injector,ve=te.get(xe,[],{optional:!0,self:!0}).flat()),{routes:ve.map(Ci),injector:te}}))}(k,this.compiler,C,this.onLoadEndListener).pipe((0,st.x)(()=>{this.childrenLoaders.delete(k)})),pt=new We(ve,()=>new Ce.x).pipe(ct());return this.childrenLoaders.set(k,pt),pt}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();function $t(w){return function qe(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let hn=(()=>{var w;class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.transitionAbortSubject=new Ce.x,this.configLoader=(0,d.f3M)(L),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Sn),this.rootContexts=(0,d.f3M)(ui),this.inputBindingEnabled=null!==(0,d.f3M)(ti,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=te=>this.events.next(new Ct(te)),this.configLoader.onLoadStartListener=te=>this.events.next(new rt(te))}complete(){var C;null===(C=this.transitions)||void 0===C||C.complete()}handleNavigationRequest(C){var k;const te=++this.navigationId;null===(k=this.transitions)||void 0===k||k.next({...this.transitions.value,...C,id:te})}setupNavigations(C,k,te){return this.transitions=new fe.X({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:C.urlHandlingStrategy.extract(k),urlAfterRedirects:C.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ki,restoredState:null,currentSnapshot:te.snapshot,targetSnapshot:null,currentRouterState:te,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(ve=>0!==ve.id),(0,_e.U)(ve=>({...ve,extractedUrl:C.urlHandlingStrategy.extract(ve.rawUrl)})),(0,He.w)(ve=>{this.currentTransition=ve;let pt=!1,pn=!1;return(0,De.of)(ve).pipe((0,Be.b)(Rt=>{this.currentNavigation={id:Rt.id,initialUrl:Rt.rawUrl,extractedUrl:Rt.extractedUrl,trigger:Rt.source,extras:Rt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,He.w)(Rt=>{var Mn;const sr=Rt.currentBrowserUrl.toString(),Si=!C.navigated||Rt.extractedUrl.toString()!==sr||sr!==Rt.currentUrlTree.toString(),Gi=null!==(Mn=Rt.extras.onSameUrlNavigation)&&void 0!==Mn?Mn:C.onSameUrlNavigation;if(!Si&&"reload"!==Gi){const Wr="";return this.events.next(new ot(Rt.id,this.urlSerializer.serialize(Rt.rawUrl),Wr,0)),Rt.resolve(null),Xe.E}if(C.urlHandlingStrategy.shouldProcessUrl(Rt.rawUrl))return(0,De.of)(Rt).pipe((0,He.w)(Wr=>{var rs,ko;const Wi=null===(rs=this.transitions)||void 0===rs?void 0:rs.getValue();return this.events.next(new _i(Wr.id,this.urlSerializer.serialize(Wr.extractedUrl),Wr.source,Wr.restoredState)),Wi!==(null===(ko=this.transitions)||void 0===ko?void 0:ko.getValue())?Xe.E:Promise.resolve(Wr)}),function Dl(w,A,P,C,k,te){return(0,Ye.z)(ve=>function il(w,A,P,C,k,te,ve="emptyOnly"){return new sl(w,A,P,C,k,ve,te).recognize()}(w,A,P,C,ve.extractedUrl,k,te).pipe((0,_e.U)(({state:pt,tree:pn})=>({...ve,targetSnapshot:pt,urlAfterRedirects:pn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,Be.b)(Wr=>{ve.targetSnapshot=Wr.targetSnapshot,ve.urlAfterRedirects=Wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Wr.urlAfterRedirects};const rs=new V(Wr.id,this.urlSerializer.serialize(Wr.extractedUrl),this.urlSerializer.serialize(Wr.urlAfterRedirects),Wr.targetSnapshot);this.events.next(rs)}));if(Si&&C.urlHandlingStrategy.shouldProcessUrl(Rt.currentRawUrl)){const{id:Wr,extractedUrl:rs,source:ko,restoredState:Wi,extras:Vs}=Rt,mi=new _i(Wr,this.urlSerializer.serialize(rs),ko,Wi);this.events.next(mi);const Lo=Ks(0,this.rootComponentType).snapshot;return this.currentTransition=ve={...Rt,targetSnapshot:Lo,urlAfterRedirects:rs,extras:{...Vs,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ve)}{const Wr="";return this.events.next(new ot(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),Wr,1)),Rt.resolve(null),Xe.E}}),(0,Be.b)(Rt=>{const Mn=new $(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(Mn)}),(0,_e.U)(Rt=>(this.currentTransition=ve={...Rt,guards:co(Rt.targetSnapshot,Rt.currentSnapshot,this.rootContexts)},ve)),function G(w,A){return(0,Ye.z)(P=>{const{targetSnapshot:C,currentSnapshot:k,guards:{canActivateChecks:te,canDeactivateChecks:ve}}=P;return 0===ve.length&&0===te.length?(0,De.of)({...P,guardsResult:!0}):function Ie(w,A,P,C){return(0,we.D)(w).pipe((0,Ye.z)(k=>function oe(w,A,P,C,k){const te=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,De.of)(!0);const ve=te.map(pt=>{var pn;const Rt=null!==(pn=es(A))&&void 0!==pn?pn:k,Mn=gi(pt,Rt);return cn(function el(w){return w&&Xs(w.canDeactivate)}(Mn)?Mn.canDeactivate(w,A,P,C):Rt.runInContext(()=>Mn(w,A,P,C))).pipe((0,pe.P)())});return(0,De.of)(ve).pipe(le())}(k.component,k.route,P,A,C)),(0,pe.P)(k=>!0!==k,!0))}(ve,C,k,w).pipe((0,Ye.z)(pt=>pt&&function Jo(w){return"boolean"==typeof w}(pt)?function Qt(w,A,P,C){return(0,we.D)(A).pipe((0,Ae.b)(k=>(0,ue.z)(function j(w,A){return null!==w&&A&&A(new Wt(w)),(0,De.of)(!0)}(k.route.parent,C),function y(w,A){return null!==w&&A&&A(new Vt(w)),(0,De.of)(!0)}(k.route,C),function F(w,A,P){const C=A[A.length-1],te=A.slice(0,A.length-1).reverse().map(ve=>function zi(w){const A=w.routeConfig?w.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:w,guards:A}:null}(ve)).filter(ve=>null!==ve).map(ve=>ye(()=>{const pt=ve.guards.map(pn=>{var Rt;const Mn=null!==(Rt=es(ve.node))&&void 0!==Rt?Rt:P,sr=gi(pn,Mn);return cn(function ga(w){return w&&Xs(w.canActivateChild)}(sr)?sr.canActivateChild(C,w):Mn.runInContext(()=>sr(C,w))).pipe((0,pe.P)())});return(0,De.of)(pt).pipe(le())}));return(0,De.of)(te).pipe(le())}(w,k.path,P),function I(w,A,P){const C=A.routeConfig?A.routeConfig.canActivate:null;if(!C||0===C.length)return(0,De.of)(!0);const k=C.map(te=>ye(()=>{var ve;const pt=null!==(ve=es(A))&&void 0!==ve?ve:P,pn=gi(te,pt);return cn(function zo(w){return w&&Xs(w.canActivate)}(pn)?pn.canActivate(A,w):pt.runInContext(()=>pn(A,w))).pipe((0,pe.P)())}));return(0,De.of)(k).pipe(le())}(w,k.route,P))),(0,pe.P)(k=>!0!==k,!0))}(C,te,w,A):(0,De.of)(pt)),(0,_e.U)(pt=>({...P,guardsResult:pt})))})}(this.environmentInjector,Rt=>this.events.next(Rt)),(0,Be.b)(Rt=>{if(ve.guardsResult=Rt.guardsResult,Je(Rt.guardsResult))throw ni(0,Rt.guardsResult);const Mn=new ie(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot,!!Rt.guardsResult);this.events.next(Mn)}),(0,Ee.h)(Rt=>!!Rt.guardsResult||(this.cancelNavigationTransition(Rt,"",3),!1)),z(Rt=>{if(Rt.guards.canActivateChecks.length)return(0,De.of)(Rt).pipe((0,Be.b)(Mn=>{const sr=new be(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(sr)}),(0,He.w)(Mn=>{let sr=!1;return(0,De.of)(Mn).pipe(function va(w,A){return(0,Ye.z)(P=>{const{targetSnapshot:C,guards:{canActivateChecks:k}}=P;if(!k.length)return(0,De.of)(P);let te=0;return(0,we.D)(k).pipe((0,Ae.b)(ve=>function Ql(w,A,P,C){const k=w.routeConfig,te=w._resolve;return void 0!==(null==k?void 0:k.title)&&!T(k)&&(te[Tn]=k.title),function ya(w,A,P,C){const k=function ta(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===k.length)return(0,De.of)({});const te={};return(0,we.D)(k).pipe((0,Ye.z)(ve=>function Jl(w,A,P,C){var k;const te=null!==(k=es(A))&&void 0!==k?k:C,ve=gi(w,te);return cn(ve.resolve?ve.resolve(A,P):te.runInContext(()=>ve(A,P)))}(w[ve],A,P,C).pipe((0,pe.P)(),(0,Be.b)(pt=>{te[ve]=pt}))),at(1),function Qe(w){return(0,_e.U)(()=>w)}(te),Dt(ve=>q(ve)?Xe.E:Ne(ve)))}(te,w,A,C).pipe((0,_e.U)(ve=>(w._resolvedData=ve,w.data=Ns(w,P).resolve,k&&T(k)&&(w.data[Tn]=k.title),null)))}(ve.route,C,w,A)),(0,Be.b)(()=>te++),at(1),(0,Ye.z)(ve=>te===k.length?(0,De.of)(P):Xe.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,Be.b)({next:()=>sr=!0,complete:()=>{sr||this.cancelNavigationTransition(Mn,"",2)}}))}),(0,Be.b)(Mn=>{const sr=new dt(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(sr)}))}),z(Rt=>{const Mn=sr=>{var Si;const Gi=[];null!==(Si=sr.routeConfig)&&void 0!==Si&&Si.loadComponent&&!sr.routeConfig._loadedComponent&&Gi.push(this.configLoader.loadComponent(sr.routeConfig).pipe((0,Be.b)(Wr=>{sr.component=Wr}),(0,_e.U)(()=>{})));for(const Wr of sr.children)Gi.push(...Mn(Wr));return Gi};return(0,je.a)(Mn(Rt.targetSnapshot.root)).pipe((0,St.d)(),(0,Re.q)(1))}),z(()=>this.afterPreactivation()),(0,_e.U)(Rt=>{const Mn=function so(w,A,P){const C=qn(w,A._root,P?P._root:void 0);return new Ri(C,A)}(C.routeReuseStrategy,Rt.targetSnapshot,Rt.currentRouterState);return this.currentTransition=ve={...Rt,targetRouterState:Mn},ve}),(0,Be.b)(()=>{this.events.next(new Xn)}),((w,A,P,C)=>(0,_e.U)(k=>(new Ei(A,k.targetRouterState,k.currentRouterState,P,C).activate(w),k)))(this.rootContexts,C.routeReuseStrategy,Rt=>this.events.next(Rt),this.inputBindingEnabled),(0,Re.q)(1),(0,Be.b)({next:Rt=>{var Mn;pt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $i(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects))),null===(Mn=C.titleStrategy)||void 0===Mn||Mn.updateTitle(Rt.targetRouterState.snapshot),Rt.resolve(!0)},complete:()=>{pt=!0}}),function At(w){return(0,Ue.e)((A,P)=>{(0,de.Xf)(w).subscribe((0,Se.x)(P,()=>P.complete(),ut.Z)),!P.closed&&A.subscribe(P)})}(this.transitionAbortSubject.pipe((0,Be.b)(Rt=>{throw Rt}))),(0,st.x)(()=>{var Rt;pt||pn||this.cancelNavigationTransition(ve,"",1),(null===(Rt=this.currentNavigation)||void 0===Rt?void 0:Rt.id)===ve.id&&(this.currentNavigation=null)}),Dt(Rt=>{if(pn=!0,Di(Rt))this.events.next(new Mi(ve.id,this.urlSerializer.serialize(ve.extractedUrl),Rt.message,Rt.cancellationCode)),function ws(w){return Di(w)&&Je(w.url)}(Rt)?this.events.next(new _r(Rt.url)):ve.resolve(!1);else{var Mn;this.events.next(new nt(ve.id,this.urlSerializer.serialize(ve.extractedUrl),Rt,null!==(Mn=ve.targetSnapshot)&&void 0!==Mn?Mn:void 0));try{ve.resolve(C.errorHandler(Rt))}catch(sr){ve.reject(sr)}}return Xe.E}))}))}cancelNavigationTransition(C,k,te){const ve=new Mi(C.id,this.urlSerializer.serialize(C.extractedUrl),k,te);this.events.next(ve),C.resolve(!1)}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();function Dr(w){return w!==ki}let Fr=(()=>{var w;class A{buildTitle(C){let k,te=C.root;for(;void 0!==te;){var ve;k=null!==(ve=this.getResolvedTitleForRoute(te))&&void 0!==ve?ve:k,te=te.children.find(pt=>pt.outlet===tt)}return k}getResolvedTitleForRoute(C){return C.data[Tn]}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)($r)},providedIn:"root"}),A})(),$r=(()=>{var w;class A extends Fr{constructor(C){super(),this.title=C}updateTitle(C){const k=this.buildTitle(C);void 0!==k&&this.title.setTitle(k)}}return(w=A).\u0275fac=function(C){return new(C||w)(d.LFG(tn.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})(),Ir=(()=>{var w;class A{}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Qr)},providedIn:"root"}),A})();class xi{shouldDetach(A){return!1}store(A,P){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,P){return A.routeConfig===P.routeConfig}}let Qr=(()=>{var w;class A extends xi{}return(w=A).\u0275fac=function(){let P;return function(k){return(P||(P=d.n5z(w)))(k||w)}}(),w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();const ri=new d.OlP("",{providedIn:"root",factory:()=>({})});let Fs=(()=>{var w;class A{}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Io)},providedIn:"root"}),A})(),Io=(()=>{var w;class A{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,k){return C}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();var $s=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}($s||{});function uo(w,A){w.events.pipe((0,Ee.h)(P=>P instanceof $i||P instanceof Mi||P instanceof nt||P instanceof ot),(0,_e.U)(P=>P instanceof $i||P instanceof ot?$s.COMPLETE:P instanceof Mi&&(0===P.code||1===P.code)?$s.REDIRECTING:$s.FAILED),(0,Ee.h)(P=>P!==$s.REDIRECTING),(0,Re.q)(1)).subscribe(()=>{A()})}function _s(w){throw w}function na(w,A,P){return A.parse("/")}const _a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ii={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Li=(()=>{var w;class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var C,k;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(C=null===(k=this.location.getState())||void 0===k?void 0:k.\u0275routerPageId)&&void 0!==C?C:this.currentPageId}get events(){return this._events}constructor(){var C,k;this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Ce.x,this.options=(0,d.f3M)(ri,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||_s,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||na,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Fs),this.routeReuseStrategy=(0,d.f3M)(Ir),this.titleStrategy=(0,d.f3M)(Fr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(C=null===(k=(0,d.f3M)(xe,{optional:!0}))||void 0===k?void 0:k.flat())&&void 0!==C?C:[],this.navigationTransitions=(0,d.f3M)(hn),this.urlSerializer=(0,d.f3M)(Sn),this.location=(0,d.f3M)(Ve.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(ti,{optional:!0}),this.eventsSubscription=new et.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ks(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(te=>{this.lastSuccessfulId=te.id,this.currentPageId=this.browserPageId},te=>{this.console.warn(`Unhandled Navigation Error: ${te}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:te}=this.navigationTransitions;if(null===te)return void(Cs(k)&&this._events.next(k));if(k instanceof _i)Dr(te.source)&&(this.browserUrlTree=te.extractedUrl);else if(k instanceof ot)this.rawUrlTree=te.rawUrl;else if(k instanceof V){if("eager"===this.urlUpdateStrategy){if(!te.extras.skipLocationChange){const ve=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl);this.setBrowserUrl(ve,te)}this.browserUrlTree=te.urlAfterRedirects}}else if(k instanceof Xn)this.currentUrlTree=te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),this.routerState=te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,te),this.browserUrlTree=te.urlAfterRedirects);else if(k instanceof Mi)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(te);else if(k instanceof _r){const ve=this.urlHandlingStrategy.merge(k.url,te.currentRawUrl),pt={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dr(te.source)};this.scheduleNavigation(ve,ki,null,pt,{resolve:te.resolve,reject:te.reject,promise:te.promise})}k instanceof nt&&this.restoreHistory(te,!0),k instanceof $i&&(this.navigated=!0),Cs(k)&&this._events.next(k)}catch(te){this.navigationTransitions.transitionAbortSubject.next(te)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ki,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const k="popstate"===C.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,k,C.state)},0)}))}navigateToSyncWithBrowser(C,k,te){const ve={replaceUrl:!0},pt=null!=te&&te.navigationId?te:null;if(te){const Rt={...te};delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(ve.state=Rt)}const pn=this.parseUrl(C);this.scheduleNavigation(pn,k,pt,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(Ci),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,k={}){const{relativeTo:te,queryParams:ve,fragment:pt,queryParamsHandling:pn,preserveFragment:Rt}=k,Mn=Rt?this.currentUrlTree.fragment:pt;let Si,sr=null;switch(pn){case"merge":sr={...this.currentUrlTree.queryParams,...ve};break;case"preserve":sr=this.currentUrlTree.queryParams;break;default:sr=ve||null}null!==sr&&(sr=this.removeEmptyProps(sr));try{Si=It(te?te.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||!C[0].startsWith("/"))&&(C=[]),Si=this.currentUrlTree.root}return ft(Si,C,sr,null!=Mn?Mn:null)}navigateByUrl(C,k={skipLocationChange:!1}){const te=Je(C)?C:this.parseUrl(C),ve=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(ve,ki,null,k)}navigate(C,k={skipLocationChange:!1}){return function Ba(w){for(let A=0;A<w.length;A++)if(null==w[A])throw new d.vHH(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,k),k)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let k;try{k=this.urlSerializer.parse(C)}catch(te){k=this.malformedUriErrorHandler(te,this.urlSerializer,C)}return k}isActive(C,k){let te;if(te=!0===k?{..._a}:!1===k?{...ii}:k,Je(C))return ir(this.currentUrlTree,C,te);const ve=this.parseUrl(C);return ir(this.currentUrlTree,ve,te)}removeEmptyProps(C){return Object.keys(C).reduce((k,te)=>{const ve=C[te];return null!=ve&&(k[te]=ve),k},{})}scheduleNavigation(C,k,te,ve,pt){if(this.disposed)return Promise.resolve(!1);let pn,Rt,Mn;pt?(pn=pt.resolve,Rt=pt.reject,Mn=pt.promise):Mn=new Promise((Si,Gi)=>{pn=Si,Rt=Gi});const sr=this.pendingTasks.add();return uo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sr))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:C,extras:ve,resolve:pn,reject:Rt,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Si=>Promise.reject(Si))}setBrowserUrl(C,k){const te=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(te)||k.extras.replaceUrl){const pt={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(te,"",pt)}else{const ve={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(te,"",ve)}}restoreHistory(C,k=!1){if("computed"===this.canceledNavigationResolution){var te;const pt=this.currentPageId-this.browserPageId;0!==pt?this.location.historyGo(pt):this.currentUrlTree===(null===(te=this.getCurrentNavigation())||void 0===te?void 0:te.finalUrl)&&0===pt&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,k){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:k}:{navigationId:C}}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();function Cs(w){return!(w instanceof Xn||w instanceof _r)}let Cl=(()=>{var w;class A{constructor(C,k,te,ve,pt,pn){var Rt;this.router=C,this.route=k,this.tabIndexAttribute=te,this.renderer=ve,this.el=pt,this.locationStrategy=pn,this.href=null,this.commands=null,this.onChanges=new Ce.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Mn=null===(Rt=pt.nativeElement.tagName)||void 0===Rt?void 0:Rt.toLowerCase();this.isAnchorElement="a"===Mn||"area"===Mn,this.isAnchorElement?this.subscription=C.events.subscribe(sr=>{sr instanceof $i&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,k,te,ve,pt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||k||te||ve||pt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var C;null===(C=this.subscription)||void 0===C||C.unsubscribe()}updateHref(){var C;this.href=null!==this.urlTree&&this.locationStrategy?null===(C=this.locationStrategy)||void 0===C?void 0:C.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const k=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(C,k){const te=this.renderer,ve=this.el.nativeElement;null!==k?te.setAttribute(ve,C,k):te.removeAttribute(ve,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(w=A).\u0275fac=function(C){return new(C||w)(d.Y36(Li),d.Y36(Qi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ve.S$))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,k){1&C&&d.NdJ("click",function(ve){return k.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&C&&d.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),A})();class Ms{}let kh=(()=>{var w;class A{preload(C,k){return k().pipe(Dt(()=>(0,De.of)(null)))}}return(w=A).\u0275fac=function(C){return new(C||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})(),mu=(()=>{var w;class A{constructor(C,k,te,ve,pt){this.router=C,this.injector=te,this.preloadingStrategy=ve,this.loader=pt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(C=>C instanceof $i),(0,Ae.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,k){const te=[];for(const Rt of k){var ve,pt;Rt.providers&&!Rt._injector&&(Rt._injector=(0,d.MMx)(Rt.providers,C,`Route: ${Rt.path}`));const Mn=null!==(ve=Rt._injector)&&void 0!==ve?ve:C,sr=null!==(pt=Rt._loadedInjector)&&void 0!==pt?pt:Mn;var pn;(Rt.loadChildren&&!Rt._loadedRoutes&&void 0===Rt.canLoad||Rt.loadComponent&&!Rt._loadedComponent)&&te.push(this.preloadConfig(Mn,Rt)),(Rt.children||Rt._loadedRoutes)&&te.push(this.processRoutes(sr,null!==(pn=Rt.children)&&void 0!==pn?pn:Rt._loadedRoutes))}return(0,we.D)(te).pipe((0,Tt.J)())}preloadConfig(C,k){return this.preloadingStrategy.preload(k,()=>{let te;te=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(C,k):(0,De.of)(null);const ve=te.pipe((0,Ye.z)(pt=>{var pn;return null===pt?(0,De.of)(void 0):(k._loadedRoutes=pt.routes,k._loadedInjector=pt.injector,this.processRoutes(null!==(pn=pt.injector)&&void 0!==pn?pn:C,pt.routes))}));if(k.loadComponent&&!k._loadedComponent){const pt=this.loader.loadComponent(k);return(0,we.D)([ve,pt]).pipe((0,Tt.J)())}return ve})}}return(w=A).\u0275fac=function(C){return new(C||w)(d.LFG(Li),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ms),d.LFG(L))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),A})();const Bs=new d.OlP("");let Tl=(()=>{var w;class A{constructor(C,k,te,ve,pt={}){this.urlSerializer=C,this.transitions=k,this.viewportScroller=te,this.zone=ve,this.options=pt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pt.scrollPositionRestoration=pt.scrollPositionRestoration||"disabled",pt.anchorScrolling=pt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof $i?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof ot&&0===C.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Wn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){var C,k;null===(C=this.routerEventsSubscription)||void 0===C||C.unsubscribe(),null===(k=this.scrollEventsSubscription)||void 0===k||k.unsubscribe()}}return(w=A).\u0275fac=function(C){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),A})();function ra(w,A){return{\u0275kind:w,\u0275providers:A}}function ec(){const w=(0,d.f3M)(d.zs3);return A=>{var P,C;const k=w.get(d.z2F);if(A!==k.components[0])return;const te=w.get(Li),ve=w.get(tc);1===w.get(ns)&&te.initialNavigation(),null===(P=w.get(rc,null,d.XFs.Optional))||void 0===P||P.setUpPreloading(),null===(C=w.get(Bs,null,d.XFs.Optional))||void 0===C||C.init(),te.resetRootComponentType(k.componentTypes[0]),ve.closed||(ve.next(),ve.complete(),ve.unsubscribe())}}const tc=new d.OlP("",{factory:()=>new Ce.x}),ns=new d.OlP("",{providedIn:"root",factory:()=>1}),rc=new d.OlP("");function Va(w){return ra(0,[{provide:rc,useExisting:mu},{provide:Ms,useExisting:w}])}const Sl=new d.OlP("ROUTER_FORROOT_GUARD"),ja=[Ve.Ye,{provide:Sn,useClass:yr},Li,ui,{provide:Qi,useFactory:function ll(w){return w.routerState.root},deps:[Li]},L,[]];function hs(){return new d.PXZ("Router",Li)}let cl=(()=>{var w;class A{constructor(C){}static forRoot(C,k){return{ngModule:A,providers:[ja,[],{provide:xe,multi:!0,useValue:C},{provide:Sl,useFactory:Al,deps:[[Li,new d.FiY,new d.tp0]]},{provide:ri,useValue:k||{}},null!=k&&k.useHash?{provide:Ve.S$,useClass:Ve.Do}:{provide:Ve.S$,useClass:Ve.b0},{provide:Bs,useFactory:()=>{const w=(0,d.f3M)(Ve.EM),A=(0,d.f3M)(d.R0b),P=(0,d.f3M)(ri),C=(0,d.f3M)(hn),k=(0,d.f3M)(Sn);return P.scrollOffset&&w.setOffset(P.scrollOffset),new Tl(k,C,w,A,P)}},null!=k&&k.preloadingStrategy?Va(k.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:hs},null!=k&&k.initialNavigation?Pc(k):[],null!=k&&k.bindToComponentInputs?ra(8,[cs,{provide:ti,useExisting:cs}]).\u0275providers:[],[{provide:Ed,useFactory:ec},{provide:d.tb,multi:!0,useExisting:Ed}]]}}static forChild(C){return{ngModule:A,providers:[{provide:xe,multi:!0,useValue:C}]}}}return(w=A).\u0275fac=function(C){return new(C||w)(d.LFG(Sl,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),A})();function Al(w){return"guarded"}function Pc(w){return["disabled"===w.initialNavigation?ra(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const A=(0,d.f3M)(Li);return()=>{A.setUpLocationChangeListener()}}},{provide:ns,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?ra(2,[{provide:ns,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:A=>{const P=A.get(Ve.V_,Promise.resolve());return()=>P.then(()=>new Promise(C=>{const k=A.get(Li),te=A.get(tc);uo(k,()=>{C(!0)}),A.get(hn).afterPreactivation=()=>(C(!0),te.closed?(0,De.of)(void 0):te),k.initialNavigation()}))}}]).\u0275providers:[]]}const Ed=new d.OlP("")},4303:(rn,it,x)=>{"use strict";x.d(it,{Jn:()=>gt,KN:()=>dn,Mq:()=>Xt,Xd:()=>At,qX:()=>Tt});var d=x(5861),g=x(4537),X=x(7879),re=x(9058),we=x(1878);class De{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function fe(_t){const Ze=_t.getComponent();return"VERSION"===(null==Ze?void 0:Ze.type)}(Pt)){const Zt=Pt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(Pt=>Pt).join(" ")}}const je="@firebase/app",ue=new X.Yd("@firebase/app"),se="[DEFAULT]",ge={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Me=new Map,Qe=new Map;function st(_t,Ze){try{_t.container.addComponent(Ze)}catch(Pt){ue.debug(`Component ${Ze.name} failed to register with FirebaseApp ${_t.name}`,Pt)}}function At(_t){const Ze=_t.name;if(Qe.has(Ze))return ue.debug(`There were multiple attempts to register component ${Ze}.`),!1;Qe.set(Ze,_t);for(const Pt of Me.values())st(Pt,_t);return!0}function Tt(_t,Ze){const Pt=_t.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),_t.container.getProvider(Ze)}const mt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yt{constructor(Ze,Pt,Zt){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const gt="10.5.0";function Xt(_t=se){const Ze=Me.get(_t);if(!Ze&&_t===se&&(0,re.aH)())return function Ht(_t,Ze={}){let Pt=_t;"object"!=typeof Ze&&(Ze={name:Ze});const Zt=Object.assign({name:se,automaticDataCollectionEnabled:!1},Ze),an=Zt.name;if("string"!=typeof an||!an)throw mt.create("bad-app-name",{appName:String(an)});if(Pt||(Pt=(0,re.aH)()),!Pt)throw mt.create("no-options");const In=Me.get(an);if(In){if((0,re.vZ)(Pt,In.options)&&(0,re.vZ)(Zt,In.config))return In;throw mt.create("duplicate-app",{appName:an})}const Bn=new g.H0(an);for(const ee of Qe.values())Bn.addComponent(ee);const $e=new yt(Pt,Zt,Bn);return Me.set(an,$e),$e}();if(!Ze)throw mt.create("no-app",{appName:_t});return Ze}function dn(_t,Ze,Pt){var Zt;let an=null!==(Zt=ge[_t])&&void 0!==Zt?Zt:_t;Pt&&(an+=`-${Pt}`);const In=an.match(/\s|\//),Bn=Ze.match(/\s|\//);if(In||Bn){const $e=[`Unable to register library "${an}" with version "${Ze}":`];return In&&$e.push(`library name "${an}" contains illegal characters (whitespace or "/")`),In&&Bn&&$e.push("and"),Bn&&$e.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void ue.warn($e.join(" "))}At(new g.wA(`${an}-version`,()=>({library:an,version:Ze}),"VERSION"))}const lr="firebase-heartbeat-database",xn=1,Pn="firebase-heartbeat-store";let Un=null;function Zn(){return Un||(Un=(0,we.X3)(lr,xn,{upgrade:(_t,Ze)=>{0===Ze&&_t.createObjectStore(Pn)}}).catch(_t=>{throw mt.create("idb-open",{originalErrorMessage:_t.message})})),Un}function vr(){return(vr=(0,d.Z)(function*(_t){try{return yield(yield Zn()).transaction(Pn).objectStore(Pn).get(Ut(_t))}catch(Ze){if(Ze instanceof re.ZR)ue.warn(Ze.message);else{const Pt=mt.create("idb-get",{originalErrorMessage:null==Ze?void 0:Ze.message});ue.warn(Pt.message)}}})).apply(this,arguments)}function Nt(_t,Ze){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(_t,Ze){try{const Zt=(yield Zn()).transaction(Pn,"readwrite");yield Zt.objectStore(Pn).put(Ze,Ut(_t)),yield Zt.done}catch(Pt){if(Pt instanceof re.ZR)ue.warn(Pt.message);else{const Zt=mt.create("idb-set",{originalErrorMessage:null==Pt?void 0:Pt.message});ue.warn(Zt.message)}}})).apply(this,arguments)}function Ut(_t){return`${_t.name}!${_t.options.appId}`}class Sn{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new zr(Pt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var Ze=this;return(0,d.Z)(function*(){const Zt=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=yr();if(null===Ze._heartbeatsCache&&(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise),Ze._heartbeatsCache.lastSentHeartbeatDate!==an&&!Ze._heartbeatsCache.heartbeats.some(In=>In.date===an))return Ze._heartbeatsCache.heartbeats.push({date:an,agent:Zt}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(In=>{const Bn=new Date(In.date).valueOf();return Date.now()-Bn<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache)})()}getHeartbeatsHeader(){var Ze=this;return(0,d.Z)(function*(){if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null===Ze._heartbeatsCache||0===Ze._heartbeatsCache.heartbeats.length)return"";const Pt=yr(),{heartbeatsToSend:Zt,unsentEntries:an}=function Xr(_t,Ze=1024){const Pt=[];let Zt=_t.slice();for(const an of _t){const In=Pt.find(Bn=>Bn.agent===an.agent);if(In){if(In.dates.push(an.date),br(Pt)>Ze){In.dates.pop();break}}else if(Pt.push({agent:an.agent,dates:[an.date]}),br(Pt)>Ze){Pt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:Zt}}(Ze._heartbeatsCache.heartbeats),In=(0,re.L)(JSON.stringify({version:2,heartbeats:Zt}));return Ze._heartbeatsCache.lastSentHeartbeatDate=Pt,an.length>0?(Ze._heartbeatsCache.heartbeats=an,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),In})()}}function yr(){return(new Date).toISOString().substring(0,10)}class zr{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,d.Z)(function*(){return(yield Ze._canUseIndexedDBPromise)&&(yield function cr(_t){return vr.apply(this,arguments)}(Ze.app))||{heartbeats:[]}})()}overwrite(Ze){var Pt=this;return(0,d.Z)(function*(){var Zt;if(yield Pt._canUseIndexedDBPromise){const In=yield Pt.read();return Nt(Pt.app,{lastSentHeartbeatDate:null!==(Zt=Ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:In.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Pt=this;return(0,d.Z)(function*(){var Zt;if(yield Pt._canUseIndexedDBPromise){const In=yield Pt.read();return Nt(Pt.app,{lastSentHeartbeatDate:null!==(Zt=Ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Ze.heartbeats]})}})()}}function br(_t){return(0,re.L)(JSON.stringify({version:2,heartbeats:_t})).length}!function fr(_t){At(new g.wA("platform-logger",Ze=>new De(Ze),"PRIVATE")),At(new g.wA("heartbeat",Ze=>new Sn(Ze),"PRIVATE")),dn(je,"0.9.20",_t),dn(je,"0.9.20","esm2017"),dn("fire-js","")}("")},4537:(rn,it,x)=>{"use strict";x.d(it,{H0:()=>je,wA:()=>X});var d=x(5861),g=x(9058);class X{constructor(ue,de,ye){this.name=ue,this.instanceFactory=de,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const re="[DEFAULT]";class we{constructor(ue,de){this.name=ue,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const de=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(de)){const ye=new g.BH;if(this.instancesDeferred.set(de,ye),this.isInitialized(de)||this.shouldAutoInitialize())try{const me=this.getOrInitializeService({instanceIdentifier:de});me&&ye.resolve(me)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ue){var de;const ye=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),me=null!==(de=null==ue?void 0:ue.optional)&&void 0!==de&&de;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ne){if(me)return null;throw Ne}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function fe(Fe){return"EAGER"===Fe.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[de,ye]of this.instancesDeferred.entries()){const me=this.normalizeInstanceIdentifier(de);try{const Ne=this.getOrInitializeService({instanceIdentifier:me});ye.resolve(Ne)}catch{}}}}clearInstance(ue=re){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,d.Z)(function*(){const de=Array.from(ue.instances.values());yield Promise.all([...de.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...de.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=re){return this.instances.has(ue)}getOptions(ue=re){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:de={}}=ue,ye=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const me=this.getOrInitializeService({instanceIdentifier:ye,options:de});for(const[Ne,Xe]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ne)&&Xe.resolve(me);return me}onInit(ue,de){var ye;const me=this.normalizeInstanceIdentifier(de),Ne=null!==(ye=this.onInitCallbacks.get(me))&&void 0!==ye?ye:new Set;Ne.add(ue),this.onInitCallbacks.set(me,Ne);const Xe=this.instances.get(me);return Xe&&ue(Xe,me),()=>{Ne.delete(ue)}}invokeOnInitCallbacks(ue,de){const ye=this.onInitCallbacks.get(de);if(ye)for(const me of ye)try{me(ue,de)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:de={}}){let ye=this.instances.get(ue);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=ue,Fe===re?void 0:Fe),options:de}),this.instances.set(ue,ye),this.instancesOptions.set(ue,de),this.invokeOnInitCallbacks(ye,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,ye)}catch{}var Fe;return ye||null}normalizeInstanceIdentifier(ue=re){return this.component?this.component.multipleInstances?ue:re:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const de=this.getProvider(ue.name);if(de.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);de.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const de=new we(ue,this);return this.providers.set(ue,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(rn,it,x)=>{"use strict";x.d(it,{Am:()=>Fe,Ub:()=>je,Yd:()=>fe,in:()=>g});const d=[];var g=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(g||{});const X={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},re=g.INFO,we={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},De=(ue,de,...ye)=>{if(de<ue.logLevel)return;const me=(new Date).toISOString(),Ne=we[de];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ne](`[${me}]  ${ue.name}:`,...ye)};class fe{constructor(de){this.name=de,this._logLevel=re,this._logHandler=De,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in g))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?X[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...de),this._logHandler(this,g.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...de),this._logHandler(this,g.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,g.INFO,...de),this._logHandler(this,g.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,g.WARN,...de),this._logHandler(this,g.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...de),this._logHandler(this,g.ERROR,...de)}}function je(ue){d.forEach(de=>{de.setLogLevel(ue)})}function Fe(ue,de){for(const ye of d){let me=null;de&&de.level&&(me=X[de.level]),ye.userLogHandler=null===ue?null:(Ne,Xe,...et)=>{const Ue=et.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Xe>=(null!=me?me:Ne.logLevel)&&ue({level:g[Xe].toLowerCase(),message:Ue,args:et,type:Ne.name})}}}},6761:(rn,it,x)=>{"use strict";x.d(it,{dr:()=>Xr,BJ:()=>zr,oU:()=>br,cs:()=>Ti,YG:()=>Zt,Sm:()=>an,W2:()=>Te,IJ:()=>vt,W4:()=>Yt,Gu:()=>Le,gu:()=>It,pK:()=>wn,Ie:()=>Jt,Q$:()=>Br,q_:()=>Rr,jP:()=>fa,yq:()=>pi,ZU:()=>oi,UN:()=>ai,yW:()=>ui,wd:()=>Gr,sr:()=>Ri,Pc:()=>Ie,r4:()=>q,HT:()=>_o,IN:()=>Oo,YI:()=>Vi,j9:()=>Zn,yF:()=>ga});var d=x(5861),g=x(5879),X=x(95),re=x(7582),we=x(4829),De=x(5592),fe=x(1631),je=x(4266),Fe=x(4674),ue=x(7400);const de=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],me=["on","off"];function Ne(y,j,I,F){if((0,Fe.m)(I)&&(F=I,I=void 0),F)return Ne(y,j,I).pipe((0,ue.Z)(F));const[oe,Ot]=function Se(y){return(0,Fe.m)(y.addEventListener)&&(0,Fe.m)(y.removeEventListener)}(y)?ye.map(yn=>Dn=>y[yn](j,Dn,I)):function et(y){return(0,Fe.m)(y.addListener)&&(0,Fe.m)(y.removeListener)}(y)?de.map(Xe(y,j)):function Ue(y){return(0,Fe.m)(y.on)&&(0,Fe.m)(y.off)}(y)?me.map(Xe(y,j)):[];if(!oe&&(0,je.z)(y))return(0,fe.z)(yn=>Ne(yn,j,I))((0,we.Xf)(y));if(!oe)throw new TypeError("Invalid event target");return new De.y(yn=>{const Dn=(...Hn)=>yn.next(1<Hn.length?Hn:Hn[0]);return oe(Dn),()=>Ot(Dn)})}function Xe(y,j){return I=>F=>y[I](j,F)}var ct=x(8645),We=x(5619),Ce=x(2572),Ve=x(2096),_e=x(2692),Re=(x(1774),x(2690)),pe=(x(7006),x(2952),x(9203),x(152)),Ae=x(839),Be=x(3365),jt=(x(4505),x(1912)),at=(x(6225),x(2364));x(619);var Me=x(2181),Qe=x(4664),st=x(3997),ut=x(6814);const Tt=pe.i,tt=["*"],Tn=["outlet"],mt=["tabsInner"],yt=[[["","slot","top"]],"*"],gt=["[slot=top]","*"],_n=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y);let vn=(()=>{class y{constructor(I,F){this.injector=I,this.el=F,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(I){this.el.nativeElement.value=this.lastValue=I,cn(this.el)}handleValueChange(I,F){I===this.el.nativeElement&&(F!==this.lastValue&&(this.lastValue=F,this.onChange(F)),cn(this.el))}_handleBlurEvent(I){I===this.el.nativeElement&&(this.onTouched(),cn(this.el))}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.el.nativeElement.disabled=I}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let I;try{I=this.injector.get(X.a5)}catch{}if(!I)return;I.statusChanges&&(this.statusChanges=I.statusChanges.subscribe(()=>cn(this.el)));const F=I.control;F&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ot=>{if(typeof F[Ot]<"u"){const yn=F[Ot].bind(F);F[Ot]=(...Dn)=>{yn(...Dn),cn(this.el)}}})}}return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,hostBindings:function(I,F){1&I&&g.NdJ("ionBlur",function(Ot){return F._handleBlurEvent(Ot.target)})}}),y})();const cn=y=>{_n(()=>{const j=y.nativeElement,I=null!=j.value&&j.value.toString().length>0,F=dn(j);bn(j,F);const oe=j.closest("ion-item");oe&&bn(oe,I?[...F,"item-has-value"]:F)})},dn=y=>{const j=y.classList,I=[];for(let F=0;F<j.length;F++){const oe=j.item(F);null!==oe&&ir(oe,"ng-")&&I.push(`ion-${oe.substring(3)}`)}return I},bn=(y,j)=>{const I=y.classList;I.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),I.add(...j)},ir=(y,j)=>y.substring(0,j.length)===j;let Zn=(()=>{class y extends vn{constructor(I,F){super(I,F)}_handleInputEvent(I){this.handleValueChange(I,I.value)}}return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.zs3),g.Y36(g.SBq))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(I,F){1&I&&g.NdJ("ionInput",function(Ot){return F._handleInputEvent(Ot.target)})},features:[g._Bn([{provide:X.JU,useExisting:y,multi:!0}]),g.qOj]}),y})();const cr=(y,j)=>{const I=y.prototype;j.forEach(F=>{Object.defineProperty(I,F,{get(){return this.el[F]},set(oe){this.z.runOutsideAngular(()=>this.el[F]=oe)}})})},vr=(y,j)=>{const I=y.prototype;j.forEach(F=>{I[F]=function(){const oe=arguments;return this.z.runOutsideAngular(()=>this.el[F].apply(this.el,oe))}})},Nt=(y,j,I)=>{I.forEach(F=>y[F]=Ne(j,F))};function Ut(y){return function(I){const{defineCustomElementFn:F,inputs:oe,methods:Ot}=y;return void 0!==F&&F(),oe&&cr(I,oe),Ot&&vr(I,Ot),I}}let Xr=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({})],y),y})(),zr=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-avatar"]],ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({})],y),y})(),br=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],y),y})(),Zt=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],y),y})(),an=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["collapse"]})],y),y})(),Te=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement,Nt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),vt=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],y),y})(),Yt=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],y),y})(),Le=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["collapse","mode","translucent"]})],y),y})(),It=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),wn=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement,Nt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],y),y})(),Jt=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],y),y})(),Br=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","mode","position"]})],y),y})(),Rr=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],y),y})(),pi=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","mode","selectedTab","translucent"]})],y),y})(),oi=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],y),y})(),ui=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","mode"]})],y),y})(),Gr=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","size"]})],y),y})(),Ri=(()=>{let y=class{constructor(I,F,oe){this.z=oe,I.detach(),this.el=F.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(I,F){1&I&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Ut({inputs:["color","mode"]})],y),y})(),Ks=(()=>{class y{get(I,F){const oe=Qi();return oe?oe.get(I,F):null}getBoolean(I,F){const oe=Qi();return!!oe&&oe.getBoolean(I,F)}getNumber(I,F){const oe=Qi();return oe?oe.getNumber(I,F):0}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Vo=new g.OlP("USERCONFIG"),Qi=()=>{if(typeof window<"u"){const y=window.Ionic;if(null!=y&&y.config)return y.config}return null};let Ns=(()=>{class y{constructor(I,F){this.doc=I,this.backButton=new ct.x,this.keyboardDidShow=new ct.x,this.keyboardDidHide=new ct.x,this.pause=new ct.x,this.resume=new ct.x,this.resize=new ct.x,F.run(()=>{var oe;let Ot;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(yn,Dn){return this.subscribe(Hn=>Hn.register(yn,wr=>F.run(()=>Dn(wr))))},Mr(this.pause,I,"pause"),Mr(this.resume,I,"resume"),Mr(this.backButton,I,"ionBackButton"),Mr(this.resize,this.win,"resize"),Mr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Mr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(yn=>{Ot=yn}),null!==(oe=this.win)&&void 0!==oe&&oe.cordova?I.addEventListener("deviceready",()=>{Ot("cordova")},{once:!0}):Ot("dom")})}is(I){return(0,pe.a)(this.win,I)}platforms(){return(0,pe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return gs(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){var I,F;return null===(I=(F=this.win).matchMedia)||void 0===I?void 0:I.call(F,"(orientation: portrait)").matches}testUserAgent(I){const F=this.win.navigator;return!!(null!=F&&F.userAgent&&F.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(I){return new(I||y)(g.LFG(ut.K0),g.LFG(g.R0b))},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const gs=(y,j)=>{j=j.replace(/[[\]\\]/g,"\\$&");const F=new RegExp("[\\?&]"+j+"=([^&#]*)").exec(y);return F?decodeURIComponent(F[1].replace(/\+/g," ")):null},Mr=(y,j,I)=>{j&&j.addEventListener(I,F=>{y.next(null!=F?F.detail:void 0)})};let Cn=(()=>{class y{constructor(I,F,oe,Ot){this.location=F,this.serializer=oe,this.router=Ot,this.direction=qr,this.animated=Kr,this.guessDirection="forward",this.lastNavId=-1,Ot&&Ot.events.subscribe(yn=>{if(yn instanceof _e.OD){const Dn=yn.restoredState?yn.restoredState.navigationId:yn.id;this.guessDirection=Dn<this.lastNavId?"back":"forward",this.guessAnimation=yn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?yn.id:Dn}}),I.backButton.subscribeWithPriority(0,yn=>{this.pop(),yn()})}navigateForward(I,F={}){return this.setDirection("forward",F.animated,F.animationDirection,F.animation),this.navigate(I,F)}navigateBack(I,F={}){return this.setDirection("back",F.animated,F.animationDirection,F.animation),this.navigate(I,F)}navigateRoot(I,F={}){return this.setDirection("root",F.animated,F.animationDirection,F.animation),this.navigate(I,F)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,d.Z)(function*(){let F=I.topOutlet;for(;F;){if(yield F.pop())return!0;F=F.parentOutlet}return!1})()}setDirection(I,F,oe,Ot){this.direction=I,this.animated=Gn(I,F,oe),this.animationBuilder=Ot}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let F,I="root";const oe=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,F=this.guessAnimation):(F=this.animated,I=this.direction),this.direction=qr,this.animated=Kr,this.animationBuilder=void 0,{direction:I,animation:F,animationBuilder:oe}}navigate(I,F){if(Array.isArray(I))return this.router.navigate(I,F);{const oe=this.serializer.parse(I.toString());return void 0!==F.queryParams&&(oe.queryParams={...F.queryParams}),void 0!==F.fragment&&(oe.fragment=F.fragment),this.router.navigateByUrl(oe,F)}}}return y.\u0275fac=function(I){return new(I||y)(g.LFG(Ns),g.LFG(ut.Ye),g.LFG(_e.Hx),g.LFG(_e.F0,8))},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Gn=(y,j,I)=>{if(!1!==j){if(void 0!==I)return I;if("forward"===y||"back"===y)return y;if("root"===y&&!0===j)return"forward"}},qr="auto",Kr=void 0;class ms{constructor(j={}){this.data=j}get(j){return this.data[j]}}let di=(()=>{class y{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(I,F,oe){return new As(I,F,this.applicationRef,this.zone,oe)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})();class As{constructor(j,I,F,oe,Ot){this.environmentInjector=j,this.injector=I,this.applicationRef=F,this.zone=oe,this.elementReferenceKey=Ot,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(j,I,F,oe){return this.zone.run(()=>new Promise(Ot=>{const yn={...F};void 0!==this.elementReferenceKey&&(yn[this.elementReferenceKey]=j),Ot(ti(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,j,I,yn,oe,this.elementReferenceKey))}))}removeViewFromDom(j,I){return this.zone.run(()=>new Promise(F=>{const oe=this.elRefMap.get(I);if(oe){oe.destroy(),this.elRefMap.delete(I);const Ot=this.elEventsMap.get(I);Ot&&(Ot(),this.elEventsMap.delete(I))}F()}))}}const ti=(y,j,I,F,oe,Ot,yn,Dn,Hn,wr,Vr)=>{const ys=g.zs3.create({providers:Bi(Hn),parent:I}),ts=(0,g.LMc)(Dn,{environmentInjector:j,elementInjector:ys}),Qs=ts.instance,Ds=ts.location.nativeElement;if(Hn&&(Vr&&void 0!==Qs[Vr]&&console.error(`[Ionic Error]: ${Vr} is a reserved property when using ${yn.tagName.toLowerCase()}. Rename or remove the "${Vr}" property from ${Dn.name}.`),Object.assign(Qs,Hn)),wr)for(const No of wr)Ds.classList.add(No);const Ls=so(y,Qs,Ds);return yn.appendChild(Ds),F.attachView(ts.hostView),oe.set(Ds,ts),Ot.set(Ds,Ls),Ds},cs=[Re.L,Re.a,Re.b,Re.c,Re.d],so=(y,j,I)=>y.run(()=>{const F=cs.filter(oe=>"function"==typeof j[oe]).map(oe=>{const Ot=yn=>j[oe](yn.detail);return I.addEventListener(oe,Ot),()=>I.removeEventListener(oe,Ot)});return()=>F.forEach(oe=>oe())}),qn=new g.OlP("NavParamsToken"),Bi=y=>[{provide:qn,useValue:y},{provide:ms,useFactory:xo,deps:[qn]}],xo=y=>new ms(y),ni=(y,j)=>((y=y.filter(I=>I.stackId!==j.stackId)).push(j),y),Di=(y,j)=>{const I=y.createUrlTree(["."],{relativeTo:j});return y.serializeUrl(I)},us=(y,j)=>!j||y.stackId!==j.stackId,vs=(y,j)=>{if(!y)return;const I=Zs(j);for(let F=0;F<I.length;F++){if(F>=y.length)return I[F];if(I[F]!==y[F])return}},Zs=y=>y.split("/").map(j=>j.trim()).filter(j=>""!==j),Ji=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class Ui{constructor(j,I,F,oe,Ot,yn){this.containerEl=I,this.router=F,this.navCtrl=oe,this.zone=Ot,this.location=yn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==j?Zs(j):void 0}createView(j,I){var F;const oe=Di(this.router,I),Ot=null==j||null===(F=j.location)||void 0===F?void 0:F.nativeElement,yn=so(this.zone,j.instance,Ot);return{id:this.nextId++,stackId:vs(this.tabsPrefix,oe),unlistenEvents:yn,element:Ot,ref:j,url:oe}}getExistingView(j){const I=Di(this.router,j),F=this.views.find(oe=>oe.url===I);return F&&F.ref.changeDetectorRef.reattach(),F}setActive(j){var I,F;const oe=this.navCtrl.consumeTransition();let{direction:Ot,animation:yn,animationBuilder:Dn}=oe;const Hn=this.activeView,wr=us(j,Hn);wr&&(Ot="back",yn=void 0);const Vr=this.views.slice();let ys;const ts=this.router;ts.getCurrentNavigation?ys=ts.getCurrentNavigation():null!==(I=ts.navigations)&&void 0!==I&&I.value&&(ys=ts.navigations.value),null!==(F=ys)&&void 0!==F&&null!==(F=F.extras)&&void 0!==F&&F.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qs=this.views.includes(j),Ds=this.insertView(j,Ot);Qs||j.ref.changeDetectorRef.detectChanges();const Ls=j.animationBuilder;return void 0===Dn&&"back"===Ot&&!wr&&void 0!==Ls&&(Dn=Ls),Hn&&(Hn.animationBuilder=Dn),this.zone.runOutsideAngular(()=>this.wait(()=>(Hn&&Hn.ref.changeDetectorRef.detach(),j.ref.changeDetectorRef.reattach(),this.transition(j,Hn,yn,this.canGoBack(1),!1,Dn).then(()=>ao(j,Ds,Vr,this.location,this.zone)).then(()=>({enteringView:j,direction:Ot,animation:yn,tabSwitch:wr})))))}canGoBack(j,I=this.getActiveStackId()){return this.getStack(I).length>j}pop(j,I=this.getActiveStackId()){return this.zone.run(()=>{const F=this.getStack(I);if(F.length<=j)return Promise.resolve(!1);const oe=F[F.length-j-1];let Ot=oe.url;const yn=oe.savedData;if(yn){var Dn;const wr=yn.get("primary");null!=wr&&null!==(Dn=wr.route)&&void 0!==Dn&&null!==(Dn=Dn._routerState)&&void 0!==Dn&&Dn.snapshot.url&&(Ot=wr.route._routerState.snapshot.url)}const{animationBuilder:Hn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ot,{...oe.savedExtras,animation:Hn}).then(()=>!0)})}startBackTransition(){const j=this.activeView;if(j){const I=this.getStack(j.stackId),F=I[I.length-2],oe=F.animationBuilder;return this.wait(()=>this.transition(F,j,"back",this.canGoBack(2),!0,oe))}return Promise.resolve()}endBackTransition(j){j?(this.skipTransition=!0,this.pop(1)):this.activeView&&ar(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(j){const I=this.getStack(j);return I.length>0?I[I.length-1]:void 0}getRootUrl(j){const I=this.getStack(j);return I.length>0?I[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ji),this.activeView=void 0,this.views=[]}getStack(j){return this.views.filter(I=>I.stackId===j)}insertView(j,I){return this.activeView=j,this.views=((y,j,I)=>"root"===I?ni(y,j):"forward"===I?((y,j)=>(y.indexOf(j)>=0?y=y.filter(F=>F.stackId!==j.stackId||F.id<=j.id):y.push(j),y))(y,j):((y,j)=>y.indexOf(j)>=0?y.filter(F=>F.stackId!==j.stackId||F.id<=j.id):ni(y,j))(y,j))(this.views,j,I),this.views.slice()}transition(j,I,F,oe,Ot,yn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(I===j)return Promise.resolve(!1);const Dn=j?j.element:void 0,Hn=I?I.element:void 0,wr=this.containerEl;return Dn&&Dn!==Hn&&(Dn.classList.add("ion-page"),Dn.classList.add("ion-page-invisible"),Dn.parentElement!==wr&&wr.appendChild(Dn),wr.commit)?wr.commit(Dn,Hn,{duration:void 0===F?0:void 0,direction:F,showGoBack:oe,progressAnimation:Ot,animationBuilder:yn}):Promise.resolve(!1)}wait(j){var I=this;return(0,d.Z)(function*(){void 0!==I.runningTask&&(yield I.runningTask,I.runningTask=void 0);const F=I.runningTask=j();return F.finally(()=>I.runningTask=void 0),F})()}}const ao=(y,j,I,F,oe)=>"function"==typeof requestAnimationFrame?new Promise(Ot=>{requestAnimationFrame(()=>{ar(y,j,I,F,oe),Ot()})}):Promise.resolve(),ar=(y,j,I,F,oe)=>{oe.run(()=>I.filter(Ot=>!j.includes(Ot)).forEach(Ji)),j.forEach(Ot=>{const Dn=F.path().split("?")[0].split("#")[0];if(Ot!==y&&Ot.url!==Dn){const Hn=Ot.element;Hn.setAttribute("aria-hidden","true"),Hn.classList.add("ion-page-hidden"),Ot.ref.changeDetectorRef.detach()}})};let fa=(()=>{class y{constructor(I,F,oe,Ot,yn,Dn,Hn,wr){this.parentOutlet=wr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new We.X(null),this.activated=null,this._activatedRoute=null,this.name=_e.eC,this.stackWillChange=new g.vpe,this.stackDidChange=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(_e.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(jo,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,g.f3M)(Ks),this.navCtrl=(0,g.f3M)(Cn),this.nativeEl=Ot.nativeElement,this.name=I||_e.eC,this.tabsPrefix="true"===F?Di(yn,Hn):void 0,this.stackCtrl=new Ui(this.tabsPrefix,this.nativeEl,yn,this.navCtrl,Dn,oe),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:F=>this.stackCtrl.endBackTransition(F)}:void 0}ngOnDestroy(){var I;this.stackCtrl.destroy(),null===(I=this.inputBinder)||void 0===I||I.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();null!=I&&I.route&&this.activateWith(I.route,I.injector)}new Promise(I=>(0,Ae.c)(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,F){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const F=this.getContext();this.activatedView.savedData=new Map(F.children.contexts);const oe=this.activatedView.savedData.get("primary");if(oe&&F.route&&(oe.route={...F.route}),this.activatedView.savedExtras={},F.route){const Ot=F.route.snapshot;this.activatedView.savedExtras.queryParams=Ot.queryParams,this.activatedView.savedExtras.fragment=Ot.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){var oe;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let Ot,yn=this.stackCtrl.getExistingView(I);if(yn){Ot=this.activated=yn.ref;const wr=yn.savedData;wr&&(this.getContext().children.contexts=wr),this.updateActivatedRouteProxy(Ot.instance,I)}else{var Dn;const wr=I._futureSnapshot,Vr=this.parentContexts.getOrCreateContext(this.name).children,ys=new We.X(null),ts=this.createActivatedRouteProxy(ys,I),Qs=new lo(ts,Vr,this.location.injector),Ds=null!==(Dn=wr.routeConfig.component)&&void 0!==Dn?Dn:wr.component;Ot=this.activated=this.location.createComponent(Ds,{index:this.location.length,injector:Qs,environmentInjector:null!=F?F:this.environmentInjector}),ys.next(Ot.instance),yn=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(Ot.instance,ts),this.currentActivatedRoute$.next({component:Ot.instance,activatedRoute:I})}null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.activatedView=yn,this.navCtrl.setTopOutlet(this);const Hn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:yn,tabSwitch:us(yn,Hn)}),this.stackCtrl.setActive(yn).then(wr=>{this.activateEvents.emit(Ot.instance),this.stackDidChange.emit(wr)})}canGoBack(I=1,F){return this.stackCtrl.canGoBack(I,F)}pop(I=1,F){return this.stackCtrl.pop(I,F)}getLastUrl(I){const F=this.stackCtrl.getLastUrl(I);return F?F.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,F){const oe=new _e.gz;return oe._futureSnapshot=F._futureSnapshot,oe._routerState=F._routerState,oe.snapshot=F.snapshot,oe.outlet=F.outlet,oe.component=F.component,oe._paramMap=this.proxyObservable(I,"paramMap"),oe._queryParamMap=this.proxyObservable(I,"queryParamMap"),oe.url=this.proxyObservable(I,"url"),oe.params=this.proxyObservable(I,"params"),oe.queryParams=this.proxyObservable(I,"queryParams"),oe.fragment=this.proxyObservable(I,"fragment"),oe.data=this.proxyObservable(I,"data"),oe}proxyObservable(I,F){return I.pipe((0,Me.h)(oe=>!!oe),(0,Qe.w)(oe=>this.currentActivatedRoute$.pipe((0,Me.h)(Ot=>null!==Ot&&Ot.component===oe),(0,Qe.w)(Ot=>Ot&&Ot.activatedRoute[F]),(0,st.x)())))}updateActivatedRouteProxy(I,F){const oe=this.proxyMap.get(I);if(!oe)throw new Error("Could not find activated route proxy for view");oe._futureSnapshot=F._futureSnapshot,oe._routerState=F._routerState,oe.snapshot=F.snapshot,oe.outlet=F.outlet,oe.component=F.component,this.currentActivatedRoute$.next({component:I,activatedRoute:F})}}return y.\u0275fac=function(I){return new(I||y)(g.$8M("name"),g.$8M("tabs"),g.Y36(ut.Ye),g.Y36(g.SBq),g.Y36(_e.F0),g.Y36(g.R0b),g.Y36(_e.gz),g.Y36(y,12))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class lo{constructor(j,I,F){this.route=j,this.childContexts=I,this.parent=F}get(j,I){return j===_e.gz?this.route:j===_e.y6?this.childContexts:this.parent.get(j,I)}}const jo=new g.OlP("");let Ci=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){var F;null===(F=this.outletDataSubscriptions.get(I))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:F}=I,oe=(0,Ce.a)([F.queryParams,F.params,F.data]).pipe((0,Qe.w)(([Ot,yn,Dn],Hn)=>(Dn={...Ot,...yn,...Dn},0===Hn?(0,Ve.of)(Dn):Promise.resolve(Dn)))).subscribe(Ot=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(I);const yn=(0,g.qFp)(F.component);if(yn)for(const{templateName:Dn}of yn.inputs)I.activatedComponentRef.setInput(Dn,Ot[Dn]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,oe)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),ai=(()=>{class y{constructor(I){this.navCtrl=I,this.ionTabsWillChange=new g.vpe,this.ionTabsDidChange=new g.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:I,tabSwitch:F}){const oe=I.stackId;F&&void 0!==oe&&this.ionTabsWillChange.emit({tab:oe})}onStackDidChange({enteringView:I,tabSwitch:F}){const oe=I.stackId;F&&void 0!==oe&&(this.tabBar&&(this.tabBar.selectedTab=oe),this.ionTabsDidChange.emit({tab:oe}))}select(I){const F="string"==typeof I,oe=F?I:I.detail.tab,Ot=this.outlet.getActiveStackId()===oe,yn=`${this.outlet.tabsPrefix}/${oe}`;if(F||I.stopPropagation(),Ot){const Dn=this.outlet.getActiveStackId(),Hn=this.outlet.getLastRouteView(Dn);if((null==Hn?void 0:Hn.url)===yn)return;const wr=this.outlet.getRootView(oe);return this.navCtrl.navigateRoot(yn,{...wr&&yn===wr.url&&wr.savedExtras,animated:!0,animationDirection:"back"})}{const Dn=this.outlet.getLastRouteView(oe);return this.navCtrl.navigateRoot((null==Dn?void 0:Dn.url)||yn,{...null==Dn?void 0:Dn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(I=>{const F=I.el.getAttribute("slot");F!==this.tabBarSlot&&(this.tabBarSlot=F,this.relocateTabBar())})}relocateTabBar(){const I=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(I):this.tabsInner.nativeElement.after(I)}}return y.\u0275fac=function(I){return new(I||y)(g.Y36(Cn))},y.\u0275cmp=g.Xpm({type:y,selectors:[["ion-tabs"]],contentQueries:function(I,F,oe){if(1&I&&(g.Suo(oe,pi,5),g.Suo(oe,pi,4)),2&I){let Ot;g.iGM(Ot=g.CRH())&&(F.tabBar=Ot.first),g.iGM(Ot=g.CRH())&&(F.tabBars=Ot)}},viewQuery:function(I,F){if(1&I&&(g.Gf(Tn,5,fa),g.Gf(mt,7,g.SBq)),2&I){let oe;g.iGM(oe=g.CRH())&&(F.outlet=oe.first),g.iGM(oe=g.CRH())&&(F.tabsInner=oe.first)}},hostBindings:function(I,F){1&I&&g.NdJ("ionTabButtonClick",function(Ot){return F.select(Ot)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:gt,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(I,F){1&I&&(g.F$t(yt),g.Hsn(0),g.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),g.NdJ("stackWillChange",function(Ot){return F.onStackWillChange(Ot)})("stackDidChange",function(Ot){return F.onStackDidChange(Ot)}),g.qZA()(),g.Hsn(5,1))},dependencies:[fa],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),y})(),Ti=(()=>{class y{constructor(I,F,oe){this.routerOutlet=I,this.navCtrl=F,this.config=oe}onClick(I){var F;const oe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(F=this.routerOutlet)&&void 0!==F&&F.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),I.preventDefault()):null!=oe&&(this.navCtrl.navigateBack(oe,{animation:this.routerAnimation}),I.preventDefault())}}return y.\u0275fac=function(I){return new(I||y)(g.Y36(fa,8),g.Y36(Cn),g.Y36(Ks))},y.\u0275dir=g.lG2({type:y,selectors:[["ion-back-button"]],hostBindings:function(I,F){1&I&&g.NdJ("click",function(Ot){return F.onClick(Ot)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),y})(),Vi=(()=>{class y{constructor(I,F,oe,Ot,yn){this.locationStrategy=I,this.navCtrl=F,this.elementRef=oe,this.router=Ot,this.routerLink=yn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var I;if(null!==(I=this.routerLink)&&void 0!==I&&I.urlTree){const F=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=F}}onClick(I){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),I.preventDefault()}}return y.\u0275fac=function(I){return new(I||y)(g.Y36(ut.S$),g.Y36(Cn),g.Y36(g.SBq),g.Y36(_e.F0),g.Y36(_e.rH,8))},y.\u0275dir=g.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,F){1&I&&g.NdJ("click",function(Ot){return F.onClick(Ot)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[g.TTD]}),y})();const ks={provide:X.Cf,useExisting:(0,g.Gpc)(()=>co),multi:!0};let co=(()=>{class y extends X.Fd{}return y.\u0275fac=function(){let j;return function(F){return(j||(j=g.n5z(y)))(F||y)}}(),y.\u0275dir=g.lG2({type:y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(I,F){2&I&&g.uIk("max",F._enabled?F.max:null)},features:[g._Bn([ks]),g.qOj]}),y})();const zi={provide:X.Cf,useExisting:(0,g.Gpc)(()=>gi),multi:!0};let gi=(()=>{class y extends X.qQ{}return y.\u0275fac=function(){let j;return function(F){return(j||(j=g.n5z(y)))(F||y)}}(),y.\u0275dir=g.lG2({type:y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(I,F){2&I&&g.uIk("min",F._enabled?F.min:null)},features:[g._Bn([zi]),g.qOj]}),y})();class ds{constructor(j){this.ctrl=j}create(j){return this.ctrl.create(j||{})}dismiss(j,I,F){return this.ctrl.dismiss(j,I,F)}getTop(){return this.ctrl.getTop()}}let _o=(()=>{class y extends ds{constructor(){super(jt.l)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Oo=(()=>{class y extends ds{constructor(){super(jt.m),this.angularDelegate=(0,g.f3M)(di),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),zo=(()=>{class y extends ds{constructor(){super(jt.c),this.angularDelegate=(0,g.f3M)(di),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac}),y})(),ga=(()=>{class y extends ds{constructor(){super(jt.t)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class q{shouldDetach(j){return!1}shouldAttach(j){return!1}store(j,I){}retrieve(j){return null}shouldReuseRoute(j,I){if(j.routeConfig!==I.routeConfig)return!1;const F=j.params,oe=I.params,Ot=Object.keys(F),yn=Object.keys(oe);if(Ot.length!==yn.length)return!1;for(const Dn of Ot)if(oe[Dn]!==F[Dn])return!1;return!0}}const N=(y,j,I)=>()=>{if(j.defaultView&&typeof window<"u"){(0,Be.s)({...y,_zoneGate:Ot=>I.run(Ot)});const oe="__zone_symbol__addEventListener"in j.body?"__zone_symbol__addEventListener":"addEventListener";return function At(){var y=[];if(typeof window<"u"){var j=window;(!j.customElements||j.Element&&(!j.Element.prototype.closest||!j.Element.prototype.matches||!j.Element.prototype.remove||!j.Element.prototype.getRootNode))&&y.push(x.e(6748).then(x.t.bind(x,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||j.NodeList&&!j.NodeList.prototype.forEach||!j.fetch||!function(){try{var F=new URL("b","http://a");return F.pathname="c%20d","http://a/c%20d"===F.href&&F.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(x.e(2214).then(x.t.bind(x,2668,23)))}return Promise.all(y)}().then(()=>((y,j)=>{if(!(typeof window>"u"))return Tt(),(0,at.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),j)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:_n,jmp:Ot=>I.runOutsideAngular(Ot),ael(Ot,yn,Dn,Hn){Ot[oe](yn,Dn,Hn)},rel(Ot,yn,Dn,Hn){Ot.removeEventListener(yn,Dn,Hn)}}))}};let Ie=(()=>{class y{static forRoot(I){return{ngModule:y,providers:[{provide:Vo,useValue:I},{provide:g.ip1,useFactory:N,multi:!0,deps:[Vo,ut.K0,g.R0b]},{provide:jo,useFactory:Qt,deps:[_e.F0]}]}}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275mod=g.oAB({type:y}),y.\u0275inj=g.cJS({providers:[di,Oo,zo],imports:[ut.ez]}),y})();function Qt(y){return null!=y&&y.componentInputBindingEnabled?new Ci:null}},1878:(rn,it,x)=>{"use strict";x.d(it,{X3:()=>We});var d=x(5861);const g=(Oe,Ee)=>Ee.some(Ye=>Oe instanceof Ye);let X,re;const fe=new WeakMap,je=new WeakMap,Fe=new WeakMap,ue=new WeakMap,de=new WeakMap;let Ne={get(Oe,Ee,Ye){if(Oe instanceof IDBTransaction){if("done"===Ee)return je.get(Oe);if("objectStoreNames"===Ee)return Oe.objectStoreNames||Fe.get(Oe);if("store"===Ee)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return Se(Oe[Ee])},set:(Oe,Ee,Ye)=>(Oe[Ee]=Ye,!0),has:(Oe,Ee)=>Oe instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Oe};function Ue(Oe){return"function"==typeof Oe?function et(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...Ee){return Oe.apply(ct(this),Ee),Se(fe.get(this))}:function(...Ee){return Se(Oe.apply(ct(this),Ee))}:function(Ee,...Ye){const pe=Oe.call(ct(this),Ee,...Ye);return Fe.set(pe,Ee.sort?Ee.sort():[Ee]),Se(pe)}}(Oe):(Oe instanceof IDBTransaction&&function me(Oe){if(je.has(Oe))return;const Ee=new Promise((Ye,pe)=>{const Ae=()=>{Oe.removeEventListener("complete",Be),Oe.removeEventListener("error",Dt),Oe.removeEventListener("abort",Dt)},Be=()=>{Ye(),Ae()},Dt=()=>{pe(Oe.error||new DOMException("AbortError","AbortError")),Ae()};Oe.addEventListener("complete",Be),Oe.addEventListener("error",Dt),Oe.addEventListener("abort",Dt)});je.set(Oe,Ee)}(Oe),g(Oe,function we(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,Ne):Oe)}function Se(Oe){if(Oe instanceof IDBRequest)return function ye(Oe){const Ee=new Promise((Ye,pe)=>{const Ae=()=>{Oe.removeEventListener("success",Be),Oe.removeEventListener("error",Dt)},Be=()=>{Ye(Se(Oe.result)),Ae()},Dt=()=>{pe(Oe.error),Ae()};Oe.addEventListener("success",Be),Oe.addEventListener("error",Dt)});return Ee.then(Ye=>{Ye instanceof IDBCursor&&fe.set(Ye,Oe)}).catch(()=>{}),de.set(Ee,Oe),Ee}(Oe);if(ue.has(Oe))return ue.get(Oe);const Ee=Ue(Oe);return Ee!==Oe&&(ue.set(Oe,Ee),de.set(Ee,Oe)),Ee}const ct=Oe=>de.get(Oe);function We(Oe,Ee,{blocked:Ye,upgrade:pe,blocking:Ae,terminated:Be}={}){const Dt=indexedDB.open(Oe,Ee),jt=Se(Dt);return pe&&Dt.addEventListener("upgradeneeded",St=>{pe(Se(Dt.result),St.oldVersion,St.newVersion,Se(Dt.transaction),St)}),Ye&&Dt.addEventListener("blocked",St=>Ye(St.oldVersion,St.newVersion,St)),jt.then(St=>{Be&&St.addEventListener("close",()=>Be()),Ae&&St.addEventListener("versionchange",at=>Ae(at.oldVersion,at.newVersion,at))}).catch(()=>{}),jt}const Ve=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],He=new Map;function Re(Oe,Ee){if(!(Oe instanceof IDBDatabase)||Ee in Oe||"string"!=typeof Ee)return;if(He.get(Ee))return He.get(Ee);const Ye=Ee.replace(/FromIndex$/,""),pe=Ee!==Ye,Ae=_e.includes(Ye);if(!(Ye in(pe?IDBIndex:IDBObjectStore).prototype)||!Ae&&!Ve.includes(Ye))return;const Be=function(){var Dt=(0,d.Z)(function*(jt,...St){const at=this.transaction(jt,Ae?"readwrite":"readonly");let se=at.store;return pe&&(se=se.index(St.shift())),(yield Promise.all([se[Ye](...St),Ae&&at.done]))[0]});return function(St){return Dt.apply(this,arguments)}}();return He.set(Ee,Be),Be}!function Xe(Oe){Ne=Oe(Ne)}(Oe=>({...Oe,get:(Ee,Ye,pe)=>Re(Ee,Ye)||Oe.get(Ee,Ye,pe),has:(Ee,Ye)=>!!Re(Ee,Ye)||Oe.has(Ee,Ye)}))},5861:(rn,it,x)=>{"use strict";function d(X,re,we,De,fe,je,Fe){try{var ue=X[je](Fe),de=ue.value}catch(ye){return void we(ye)}ue.done?re(de):Promise.resolve(de).then(De,fe)}function g(X){return function(){var re=this,we=arguments;return new Promise(function(De,fe){var je=X.apply(re,we);function Fe(de){d(je,De,fe,Fe,ue,"next",de)}function ue(de){d(je,De,fe,Fe,ue,"throw",de)}Fe(void 0)})}}x.d(it,{Z:()=>g})},7582:(rn,it,x)=>{"use strict";function re(se,ge){var Me={};for(var Qe in se)Object.prototype.hasOwnProperty.call(se,Qe)&&ge.indexOf(Qe)<0&&(Me[Qe]=se[Qe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(Qe=Object.getOwnPropertySymbols(se);st<Qe.length;st++)ge.indexOf(Qe[st])<0&&Object.prototype.propertyIsEnumerable.call(se,Qe[st])&&(Me[Qe[st]]=se[Qe[st]])}return Me}function we(se,ge,Me,Qe){var At,st=arguments.length,ut=st<3?ge:null===Qe?Qe=Object.getOwnPropertyDescriptor(ge,Me):Qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(se,ge,Me,Qe);else for(var Tt=se.length-1;Tt>=0;Tt--)(At=se[Tt])&&(ut=(st<3?At(ut):st>3?At(ge,Me,ut):At(ge,Me))||ut);return st>3&&ut&&Object.defineProperty(ge,Me,ut),ut}function ye(se,ge,Me,Qe){return new(Me||(Me=Promise))(function(ut,At){function Tt(Tn){try{tt(Qe.next(Tn))}catch(mt){At(mt)}}function tn(Tn){try{tt(Qe.throw(Tn))}catch(mt){At(mt)}}function tt(Tn){Tn.done?ut(Tn.value):function st(ut){return ut instanceof Me?ut:new Me(function(At){At(ut)})}(Tn.value).then(Tt,tn)}tt((Qe=Qe.apply(se,ge||[])).next())})}function Ce(se){return this instanceof Ce?(this.v=se,this):new Ce(se)}function Ve(se,ge,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Qe=Me.apply(se,ge||[]),ut=[];return st={},At("next"),At("throw"),At("return"),st[Symbol.asyncIterator]=function(){return this},st;function At(yt){Qe[yt]&&(st[yt]=function(gt){return new Promise(function(Ht,Xt){ut.push([yt,gt,Ht,Xt])>1||Tt(yt,gt)})})}function Tt(yt,gt){try{!function tn(yt){yt.value instanceof Ce?Promise.resolve(yt.value.v).then(tt,Tn):mt(ut[0][2],yt)}(Qe[yt](gt))}catch(Ht){mt(ut[0][3],Ht)}}function tt(yt){Tt("next",yt)}function Tn(yt){Tt("throw",yt)}function mt(yt,gt){yt(gt),ut.shift(),ut.length&&Tt(ut[0][0],ut[0][1])}}function He(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ge=se[Symbol.asyncIterator];return ge?ge.call(se):(se=function et(se){var ge="function"==typeof Symbol&&Symbol.iterator,Me=ge&&se[ge],Qe=0;if(Me)return Me.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Qe>=se.length&&(se=void 0),{value:se&&se[Qe++],done:!se}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Me={},Qe("next"),Qe("throw"),Qe("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Qe(ut){Me[ut]=se[ut]&&function(At){return new Promise(function(Tt,tn){!function st(ut,At,Tt,tn){Promise.resolve(tn).then(function(tt){ut({value:tt,done:Tt})},At)}(Tt,tn,(At=se[ut](At)).done,At.value)})}}}x.d(it,{FC:()=>Ve,KL:()=>He,_T:()=>re,gn:()=>we,mG:()=>ye,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=4410)}]);