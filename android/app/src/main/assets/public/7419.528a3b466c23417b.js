"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7419],{7419:(F,m,a)=>{a.r(m),a.d(m,{HomePageModule:()=>k});var l=a(6814),s=a(95),d=a(6761),u=a(2692),p=a(5861),o=a(5879),f=a(3126),g=a(5386),v=a(74),_=a(5890);function Z(e,i){if(1&e&&(o.TgZ(0,"ion-avatar"),o._UZ(1,"img",11),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("src",t.form.value.image,o.LSH)}}function h(e,i){1&e&&o._UZ(0,"ion-icon",12)}function P(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"Este campo es requerido"),o.qZA())}function A(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"El nombre debe tener al menos 4 caracteres"),o.qZA())}function T(e,i){if(1&e&&(o.TgZ(0,"div",13),o.YNc(1,P,2,0,"div",2),o.YNc(2,A,2,0,"div",2),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.form.controls.name.errors?null:t.form.controls.name.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.form.controls.name.errors?null:t.form.controls.name.errors.minLength)}}function I(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"Este campo es requerido"),o.qZA())}function x(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"El precio m\xednimo debe ser 0 "),o.qZA())}function b(e,i){if(1&e&&(o.TgZ(0,"div",13),o.YNc(1,I,2,0,"div",2),o.YNc(2,x,2,0,"div",2),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.form.controls.price.errors?null:t.form.controls.price.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.form.controls.price.errors?null:t.form.controls.price.errors.minLength)}}function J(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"Este campo es requerido"),o.qZA())}function y(e,i){1&e&&(o.TgZ(0,"div"),o._uU(1,"La cantidad m\xednima debe ser 0 "),o.qZA())}function C(e,i){if(1&e&&(o.TgZ(0,"div",13),o.YNc(1,J,2,0,"div",2),o.YNc(2,y,2,0,"div",2),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.form.controls.soldUnits.errors?null:t.form.controls.soldUnits.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.form.controls.soldUnits.errors?null:t.form.controls.soldUnits.errors.minLength)}}let N=(()=>{var e;class i{constructor(r,n){this.firebaseSvc=r,this.utilsSvc=n,this.form=new s.cw({id:new s.NI(""),image:new s.NI("",[s.kI.required]),name:new s.NI("",[s.kI.required,s.kI.minLength(4)]),price:new s.NI("",[s.kI.required,s.kI.min(0)]),soldUnits:new s.NI("",[s.kI.required,s.kI.min(0)])})}ngOnInit(){}takeImage(){var r=this;return(0,p.Z)(function*(){const n=(yield r.utilsSvc.takePicture("Imagen del producto")).dataUrl;r.form.controls.image.setValue(n)})()}submit(){var r=this;return(0,p.Z)(function*(){if(r.form.valid){const n=yield r.utilsSvc.loading();yield n.present();try{yield r.firebaseSvc.signUp(r.form.value),console.log("exito")}catch(c){c instanceof Error&&r.utilsSvc.presentToast({message:c.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"}),console.log("err")}finally{n.dismiss()}}})()}}return(e=i).\u0275fac=function(r){return new(r||e)(o.Y36(f.O),o.Y36(g.F))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-add-update-product"]],decls:17,vars:11,consts:[["title","Agregar Producto",3,"isModal"],[1,"ion-padding","ion-text-center",3,"formGroup","ngSubmit","keypress.enter"],[4,"ngIf"],["class","image-icon","name","image-outline",4,"ngIf"],["size","small","shape","round",3,"click"],["autocomplete","name","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["type","number","label","Precio",3,"control"],["type","number","label","Unidades vendidas",3,"control"],["mode","ios","type","submit",1,"ion-margin",3,"disabled"],["slot","end","name","checkmark-circle-outline"],[3,"src"],["name","image-outline",1,"image-icon"],[1,"validators"]],template:function(r,n){1&r&&(o._UZ(0,"app-header",0),o.TgZ(1,"ion-content")(2,"form",1),o.NdJ("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),o.YNc(3,Z,2,1,"ion-avatar",2),o.YNc(4,h,1,0,"ion-icon",3),o._UZ(5,"br"),o.TgZ(6,"ion-button",4),o.NdJ("click",function(){return n.takeImage()}),o._uU(7," Tomar/Seleccionar "),o.qZA(),o._UZ(8,"app-custom-input",5),o.YNc(9,T,3,2,"div",6),o._UZ(10,"app-custom-input",7),o.YNc(11,b,3,2,"div",6),o._UZ(12,"app-custom-input",8),o.YNc(13,C,3,2,"div",6),o.TgZ(14,"ion-button",9),o._uU(15," Agregar Producto "),o._UZ(16,"ion-icon",10),o.qZA()()()),2&r&&(o.Q6J("isModal",!0),o.xp6(2),o.Q6J("formGroup",n.form),o.xp6(1),o.Q6J("ngIf",n.form.value.image),o.xp6(1),o.Q6J("ngIf",!n.form.value.image),o.xp6(4),o.Q6J("control",n.form.controls.name),o.xp6(1),o.Q6J("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),o.xp6(1),o.Q6J("control",n.form.controls.price),o.xp6(1),o.Q6J("ngIf",n.form.controls.price.errors&&n.form.controls.price.touched),o.xp6(1),o.Q6J("control",n.form.controls.soldUnits),o.xp6(1),o.Q6J("ngIf",n.form.controls.soldUnits.errors&&n.form.controls.soldUnits.touched),o.xp6(1),o.Q6J("disabled",n.form.invalid))},dependencies:[l.O5,d.BJ,d.YG,d.W2,d.gu,s._Y,s.JL,s.sg,v.G,_.O],styles:[".image-icon[_ngcontent-%COMP%]{font-size:100px;opacity:30%}ion-avatar[_ngcontent-%COMP%]{width:200px;height:160px;--border-radius: 15px;margin:0}"]}),i})();var Q=a(6796),Y=a(9862),S=a(8014);function H(e,i){if(1&e&&(o.TgZ(0,"ion-item")(1,"ion-avatar",5),o._UZ(2,"img",6),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA(),o.TgZ(5,"ion-label",7),o._uU(6),o.qZA()()),2&e){const t=i.$implicit;o.xp6(2),o.s9C("src",t.img,o.LSH),o.xp6(2),o.hij("",t.name," "),o.xp6(2),o.hij("$",t.price,"")}}const q=[{path:"",component:(()=>{var e;class i{constructor(r,n,c,U){this.auth=r,this.firebaseSvc=n,this.utilsSvc=c,this.http=U,this.products=[]}ngOnInit(){this.getProducts()}getProducts(){this.http.get("https://apitiendamura-default-rtdb.firebaseio.com/products.json").subscribe(n=>{this.products=Object.values(n),console.log("productos",this.products)})}addUpdateProduct(){this.utilsSvc.presentModal({component:N,cssClass:"add-update-modal"})}}return(e=i).\u0275fac=function(r){return new(r||e)(o.Y36(Q.zQ),o.Y36(f.O),o.Y36(g.F),o.Y36(Y.eN))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:12,vars:1,consts:[["title","inicio"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],["slot","start"],["alt","",3,"src"],["slot","end"]],template:function(r,n){1&r&&(o._UZ(0,"app-header",0),o.TgZ(1,"div")(2,"ion-title"),o._uU(3,"Productos recomendados"),o.qZA(),o.TgZ(4,"ion-list"),o.YNc(5,H,7,3,"ion-item",1),o.qZA()(),o.TgZ(6,"ion-content")(7,"ion-fab",2)(8,"ion-fab-button",3),o.NdJ("click",function(){return n.addUpdateProduct()}),o._UZ(9,"ion-icon",4),o.qZA()()(),o.TgZ(10,"ion-content"),o._UZ(11,"app-footer"),o.qZA()),2&r&&(o.xp6(5),o.Q6J("ngForOf",n.products))},dependencies:[l.sg,d.BJ,d.W2,d.IJ,d.W4,d.gu,d.Ie,d.Q$,d.q_,d.wd,v.G,S.c]}),i})()}];let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(q),u.Bz]}),i})();var O=a(6208);let k=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[l.ez,s.u5,d.Pc,M,O.m]}),i})()}}]);