"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3053],{3053:(w,d,s)=>{s.r(d),s.d(d,{SignUpPageModule:()=>A});var p=s(6814),l=s(95),c=s(6761),g=s(2692),f=s(5861),o=s(5879),v=s(3126),S=s(5386),U=s(74),y=s(5890),h=s(140);function I(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"El Nombre es requerido"),o.qZA())}function Z(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"El nombre debe tener al menos 4 caracteres"),o.qZA())}function T(e,t){if(1&e&&(o.TgZ(0,"div",9),o.YNc(1,I,2,0,"div",10),o.YNc(2,Z,2,0,"div",10),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.required),o.xp6(1),o.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.minLength)}}function P(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"El Correo es requerido"),o.qZA())}function x(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"Ingrese un correo v\xe1lido"),o.qZA())}function J(e,t){if(1&e&&(o.TgZ(0,"div",9),o.YNc(1,P,2,0,"div",10),o.YNc(2,x,2,0,"div",10),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.required),o.xp6(1),o.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.email)}}function N(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1,"La contrase\xf1a es requerida"),o.qZA())}function b(e,t){if(1&e&&(o.TgZ(0,"div",9),o.YNc(1,N,2,0,"div",10),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",null==i.form.controls.password.errors?null:i.form.controls.password.errors.required)}}const Q=[{path:"",component:(()=>{var e;class t{constructor(r,n){this.firebaseSvc=r,this.utilsSvc=n,this.form=new l.cw({uid:new l.NI(""),email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required]),name:new l.NI("",[l.kI.required,l.kI.minLength(4)])})}ngOnInit(){}submit(){var r=this;return(0,f.Z)(function*(){if(r.form.valid){const n=yield r.utilsSvc.loading();yield n.present();try{let u=(yield r.firebaseSvc.signUp(r.form.value)).user.uid;r.form.controls.uid.setValue(u),r.setUserInfo(u),console.log("exito")}catch(a){a instanceof Error&&r.utilsSvc.presentToast({message:a.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"}),console.log("err")}finally{n.dismiss()}}})()}setUserInfo(r){var n=this;return(0,f.Z)(function*(){if(n.form.valid){const a=yield n.utilsSvc.loading();yield a.present();let u=`users/${r}`;delete n.form.value.password;try{yield n.firebaseSvc.setDocument(u,n.form.value),yield n.utilsSvc.saveInLocalStorage("user",n.form.value),n.utilsSvc.routerLink("/main/home"),n.form.reset(),console.log("exito")}catch(m){m instanceof Error&&n.utilsSvc.presentToast({message:m.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"}),console.log("err")}finally{a.dismiss()}}})()}}return(e=t).\u0275fac=function(r){return new(r||e)(o.Y36(v.O),o.Y36(S.F))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-sign-up"]],decls:14,vars:8,consts:[["backButton","/auth","title","Login"],[1,"d-flex-center"],[1,"auth-form",3,"formGroup","ngSubmit","keypress.enter"],["autocomplete","name","icon","person-outline","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["icon","mail-outline","type","email","label","Email",3,"control"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","log-in-outline"],[1,"validators"],[4,"ngIf"]],template:function(r,n){1&r&&(o._UZ(0,"app-header",0),o.TgZ(1,"ion-content")(2,"div",1)(3,"form",2),o.NdJ("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),o._UZ(4,"app-logo")(5,"app-custom-input",3),o.YNc(6,T,3,2,"div",4),o._UZ(7,"app-custom-input",5),o.YNc(8,J,3,2,"div",4),o._UZ(9,"app-custom-input",6),o.YNc(10,b,2,1,"div",4),o.TgZ(11,"ion-button",7),o._uU(12," Ingresar "),o._UZ(13,"ion-icon",8),o.qZA()()()()),2&r&&(o.xp6(3),o.Q6J("formGroup",n.form),o.xp6(2),o.Q6J("control",n.form.controls.name),o.xp6(1),o.Q6J("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),o.xp6(1),o.Q6J("control",n.form.controls.email),o.xp6(1),o.Q6J("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),o.xp6(1),o.Q6J("control",n.form.controls.password),o.xp6(1),o.Q6J("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),o.xp6(1),o.Q6J("disabled",n.form.invalid))},dependencies:[p.O5,l._Y,l.JL,c.YG,c.W2,c.gu,U.G,y.O,h.R,l.sg]}),t})()}];let Y=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[g.Bz.forChild(Q),g.Bz]}),t})();var _=s(6208);let A=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,l.u5,c.Pc,Y,_.m]}),t})()}}]);